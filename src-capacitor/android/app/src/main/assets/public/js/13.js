(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"1e43":function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"flex hotel-search",staticStyle:{"flex-direction":"column"}},[l("q-input",{staticStyle:{width:"300px",padding:"0"},attrs:{outlined:"",loading:t.searchingForHotels,label:"Hotelname suchen",rules:[function(t){return null!==t&&""!==t||"Bitte wähle ein Hotel"}]},on:{click:function(e){t.hotelListVisible?t.hotelListVisible=!1:t.hotelListVisible=!0}},scopedSlots:t._u([{key:"append",fn:function(){return[l("q-btn",{attrs:{icon:"search",round:""},on:{click:function(e){return t.searchHotel()}}})]},proxy:!0}]),model:{value:t.hotelName,callback:function(e){t.hotelName=e},expression:"hotelName"}}),l("q-card",[l("q-list",t._l(t.hotels,(function(e,i){return l("q-item",{directives:[{name:"show",rawName:"v-show",value:t.hotelListVisible,expression:"hotelListVisible"}],key:null!==e?e.geoId:i,attrs:{clickable:""},on:{click:function(l){null!==e?(t.hotelName=e.name,t.hideHotelList(),t.$emit("update",e)):t.showAddHotelDialog=!0}}},[null!==e?l("div",{domProps:{innerHTML:t._s(e.caption)}}):t._e(),t._v("\n        "+t._s(null!==e?"":"Klicken um Hotel manuell hinzuzufügen")+"\n      ")])})),1)],1),l("q-dialog",{model:{value:t.showAddHotelDialog,callback:function(e){t.showAddHotelDialog=e},expression:"showAddHotelDialog"}},[l("q-stepper",{staticStyle:{width:"400px"},attrs:{vertical:"",color:"primary",animated:"",flat:"","keep-alive":""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[l("q-step",{attrs:{name:1,title:"Name & Adresse angeben",icon:"settings",done:t.step>1}},[l("q-input",{staticStyle:{margin:"auto","margin-top":"20px","margin-left":"0"},attrs:{rules:[function(t){return null!==t&&""!==t||"Bitte gib den Exakten Namen an"}],label:"Exakter Hotel Name",outlined:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[l("q-icon",{attrs:{name:"title"}})]},proxy:!0}]),model:{value:t.hotelName,callback:function(e){t.hotelName=e},expression:"hotelName"}}),l("CitySearch",{ref:"citySearch",attrs:{parkingPlaceSearch:!1,defaultLocation:null},on:{update:function(e){return t.updateLocation(e)}}}),l("q-stepper-navigation",[l("q-btn",{attrs:{color:"primary",label:"Weiter",disable:!t.hotelName||!t.tempLocation},on:{click:function(e){t.step=2}}})],1)],1),l("q-step",{attrs:{name:2,title:"Bewertung & Email eingeben",icon:"settings"}},[l("q-rating",{staticClass:"stars",staticStyle:{margin:"20px 0 15px 0"},attrs:{size:"15px",color:"gold"},model:{value:t.hotelStars,callback:function(e){t.hotelStars=e},expression:"hotelStars"}}),l("q-input",{attrs:{outlined:"",type:"email","lazy-rules":"",rules:[function(e){return t.reg.test(e)||"Bitte gib eine richtige Email an"}],label:"Email des Hotels (optional)"},model:{value:t.hotelEmail,callback:function(e){t.hotelEmail=e},expression:"hotelEmail"}}),l("q-stepper-navigation",[l("q-btn",{attrs:{color:"primary",label:"Fertig",disable:!t.hotelStars},on:{click:function(e){return t.addHotel()}}}),l("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Zurück"},on:{click:function(e){t.step=1}}})],1)],1)],1)],1)],1)},o=[];const a=()=>Promise.resolve().then(l.t.bind(null,"bc3a",7));var n={data(){return{hotelName:"",hotels:[],searchingForHotels:!1,hotelListVisible:!1,showAddHotelDialog:!1,tempLocation:{},hotelStars:3,reg:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,hotelEmail:null,step:1}},components:{CitySearch:()=>Promise.all([l.e(0),l.e(5)]).then(l.bind(null,"c097"))},props:{lat:String,long:String,checkInDate:String,checkOutDate:String,roomAmount:Number,adults:Number,childrenAges:Array},methods:{searchHotel(){this.searchingForHotels=!0,this.getHotels(this.hotelName).then(t=>{null!==t?(this.hotels=t.data.suggestions[3].entities,0===this.hotels.length&&(this.hotels={hotel:null})):this.hotels={hotel:null},this.hotelListVisible=!0,this.searchingForHotels=!1})},addHotel(){let t={latitude:this.tempLocation.lat,longitude:this.tempLocation.lng,address:this.tempLocation.label,rating:this.hotelStars,name:this.hotelName,contact:{email:this.hotelEmail}};this.$emit("update",t),this.hideHotelList(),this.showAddHotelDialog=!1,this.tempLocation={},this.hotelStars=3,this.hotelEmail=null,this.step=1},hideHotelList(){this.hotelListVisible=!1},updateLocation(t){this.tempLocation={lat:t.y,lng:t.x,label:t.label},console.log(t)},clear(){this.hotelName="",this.hotels=null,this.$refs.select.resetValidation()},getHotels(t){return new Promise(e=>{a().then(l=>{l.get("https://hotels4.p.rapidapi.com/locations/search?locale=de_DE&query="+t,{headers:{"content-type":"application/octet-stream","x-rapidapi-host":"hotels4.p.rapidapi.com","x-rapidapi-key":this.$store.getters["api/getHotels4Key"],useQueryString:!0}}).then(t=>{e(t)}).catch(t=>{console.log(t),e(null)})}).catch((function(t){console.log("Error "+t),e(null)}))})}}},s=n,r=(l("509e"),l("2877")),c=Object(r["a"])(s,i,o,!1,null,null,null);e["default"]=c.exports},"509e":function(t,e,l){"use strict";var i=l("7a4b"),o=l.n(i);o.a},"7a4b":function(t,e,l){}}]);