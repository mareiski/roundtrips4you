(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"09f7":function(t,e,s){"use strict";var r=s("b515"),a=s.n(r);a.a},"9ab9":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"public-users  q-px-lg q-pb-md"},[s("q-list",{staticClass:"rounded-borders",attrs:{bordered:"",padding:""}},[t.showUser?s("div",t._l(t.users,(function(e,r){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e,attrs:{clickable:!!e.name},on:{click:function(s){return t.$router.push("/benutzerprofil/"+e.userUID)}}},[s("q-item-section",{attrs:{avatar:"",top:""}},[s("q-avatar",{attrs:{color:"primary","text-color":"white"}},[s("img",{attrs:{src:e.image?e.image:"../statics/dummy-image-landscape-1-150x150.jpg"}})])],1),s("q-item-section",[s("q-item-label",{attrs:{lines:"1"}},[t._v("#"+t._s(r+1)+" "+t._s(e.name?e.name:"Anonymer Nutzer")+" "+t._s(e.reputation?"("+e.reputation+")":""))]),s("q-item-label",{staticStyle:{width:"100px"},attrs:{caption:""}},[t._v("\n            "+t._s(e.userSince)+"\n            "),s("q-tooltip",[t._v("\n              Dieser Account wurde am "+t._s(e.userSince)+" erstellt\n            ")])],1)],1),e.name?s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{name:"keyboard_arrow_right",color:"primary"}})],1):t._e()],1)})),1):s("div",t._l(3,(function(t){return s("q-item",{key:t},[s("q-item-section",{staticStyle:{padding:"8px 10px"},attrs:{avatar:"",top:""}},[s("q-skeleton",{attrs:{size:"40px",type:"QAvatar"}})],1),s("q-item-section",[s("q-skeleton",{staticStyle:{"margin-bottom":"10px"},attrs:{width:"300px",type:"rect"}}),s("q-item-label",{attrs:{caption:""}},[s("q-skeleton",{attrs:{width:"80px",type:"rect"}})],1)],1)],1)})),1)])],1)},a=[],i=s("1261"),n=s("bd4c"),o={meta:{title:"Users",meta:{robot:{name:"robot",content:"noIndex"}}},data(){return{users:[],showUser:!1}},created(){this.getAllUsers()},methods:{getAllUsers(){let t=i["b"].collection("User"),e=this;t.get().then(t=>{t.forEach(t=>{let s={image:t.data().UserImage,name:t.data().UserName,userSince:e.getCreatedAtDate(t.data().createdAt),trustedUser:!!t.data().TrustedUser,userUID:t.data().UserUID,roundtripsEdited:t.data().RTEdited?t.data().RTEdited:0};this.users.push(s),this.getPublishedRoundtrips(s)})})},getPublishedRoundtrips(t){let e=i["b"].collection("Roundtrips").where("UserId","==",t.userUID).where("Public","==",!0);e.get().then(e=>{let s=e.size?e.size:0;this.getReputation(t,s)}).catch((function(t){console.log(t),this.showRoundtrips=!0}))},getReputation(t,e){let s=50*e,r=25*t.roundtripsEdited;t.reputation=s+r+100,this.users.indexOf(t)===this.users.length-1&&(this.users.sort((t,e)=>Number(e.reputation)-Number(t.reputation)),this.showUser=!0)},getCreatedAtDate(t){return n["b"].formatDate(new Date(1e3*t.seconds),"DD.MM.YYYY")}}},u=o,l=(s("09f7"),s("2877")),c=Object(l["a"])(u,r,a,!1,null,null,null);e["default"]=c.exports},b515:function(t,e,s){}}]);