{"version":3,"sources":["webpack:///./src/pages/Map/HotelSearch.vue?3860","webpack:///src/pages/Map/HotelSearch.vue","webpack:///./src/pages/Map/HotelSearch.vue?e814","webpack:///./src/pages/Map/HotelSearch.vue?1d44","webpack:///./src/pages/Map/HotelSearch.vue?78f9","webpack:///./src/pages/Map/HotelSearch.vue?8108"],"names":[],"mappings":"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","file":"js/14.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex hotel-search\",staticStyle:{\"flex-direction\":\"column\"}},[_c('q-input',{staticStyle:{\"width\":\"300px\",\"padding\":\"0\"},attrs:{\"outlined\":\"\",\"loading\":_vm.searchingForHotels,\"label\":\"Hotelname suchen\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle ein Hotel'; }]},on:{\"click\":function($event){_vm.hotelListVisible ? _vm.hotelListVisible = false : _vm.hotelListVisible = true}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-btn',{attrs:{\"icon\":\"search\",\"round\":\"\"},on:{\"click\":function($event){return _vm.searchHotel()}}})]},proxy:true}]),model:{value:(_vm.hotelName),callback:function ($$v) {_vm.hotelName=$$v},expression:\"hotelName\"}}),_c('q-card',[_c('q-list',_vm._l((_vm.hotels),function(hotel,index){return _c('q-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hotelListVisible),expression:\"hotelListVisible\"}],key:hotel !== null ? hotel.geoId : index,attrs:{\"clickable\":\"\"},on:{\"click\":function($event){hotel !== null ? [_vm.hotelName = hotel.name, _vm.hideHotelList(), _vm.$emit('update', hotel)] : _vm.showAddHotelDialog = true}}},[(hotel !== null)?_c('div',{domProps:{\"innerHTML\":_vm._s(hotel.caption)}}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(hotel !== null ? '' : 'Klicken um Hotel manuell hinzuzufügen')+\"\\n      \")])}),1)],1),_c('q-dialog',{model:{value:(_vm.showAddHotelDialog),callback:function ($$v) {_vm.showAddHotelDialog=$$v},expression:\"showAddHotelDialog\"}},[_c('q-stepper',{staticStyle:{\"width\":\"400px\"},attrs:{\"vertical\":\"\",\"color\":\"primary\",\"animated\":\"\",\"flat\":\"\",\"keep-alive\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('q-step',{attrs:{\"name\":1,\"title\":\"Name & Adresse angeben\",\"icon\":\"settings\",\"done\":_vm.step > 1}},[_c('q-input',{staticStyle:{\"margin\":\"auto\",\"margin-top\":\"20px\",\"margin-left\":\"0\"},attrs:{\"rules\":[function (val) { return val !== null &&  val !== ''  || 'Bitte gib den Exakten Namen an'; }],\"label\":\"Exakter Hotel Name\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"title\"}})]},proxy:true}]),model:{value:(_vm.hotelName),callback:function ($$v) {_vm.hotelName=$$v},expression:\"hotelName\"}}),_c('CitySearch',{ref:\"citySearch\",attrs:{\"parkingPlaceSearch\":false,\"defaultLocation\":null},on:{\"update\":function($event){return _vm.updateLocation($event)}}}),_c('q-stepper-navigation',[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":\"Weiter\",\"disable\":!_vm.hotelName || !_vm.tempLocation},on:{\"click\":function($event){_vm.step = 2}}})],1)],1),_c('q-step',{attrs:{\"name\":2,\"title\":\"Bewertung & Email eingeben\",\"icon\":\"settings\"}},[_c('q-rating',{staticClass:\"stars\",staticStyle:{\"margin\":\"20px 0 15px 0\"},attrs:{\"size\":\"15px\",\"color\":\"gold\"},model:{value:(_vm.hotelStars),callback:function ($$v) {_vm.hotelStars=$$v},expression:\"hotelStars\"}}),_c('q-input',{attrs:{\"outlined\":\"\",\"type\":\"email\",\"lazy-rules\":\"\",\"rules\":[function (val) { return _vm.reg.test(val) || 'Bitte gib eine richtige Email an'; }],\"label\":\"Email des Hotels (optional)\"},model:{value:(_vm.hotelEmail),callback:function ($$v) {_vm.hotelEmail=$$v},expression:\"hotelEmail\"}}),_c('q-stepper-navigation',[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":\"Fertig\",\"disable\":!_vm.hotelStars},on:{\"click\":function($event){return _vm.addHotel()}}}),_c('q-btn',{staticClass:\"q-ml-sm\",attrs:{\"flat\":\"\",\"color\":\"primary\",\"label\":\"Zurück\"},on:{\"click\":function($event){_vm.step = 1}}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"flex hotel-search\"\r\n    style=\"flex-direction:column;\"\r\n  >\r\n    <q-input\r\n      v-model=\"hotelName\"\r\n      outlined\r\n      :loading=\"searchingForHotels\"\r\n      label=\"Hotelname suchen\"\r\n      style=\"width:300px; padding:0;\"\r\n      @click=\"hotelListVisible ? hotelListVisible = false : hotelListVisible = true\"\r\n      :rules=\"[val => val !== null && val !== '' || 'Bitte wähle ein Hotel']\"\r\n    >\r\n      <template v-slot:append>\r\n        <q-btn\r\n          icon=\"search\"\r\n          @click=\"searchHotel()\"\r\n          round\r\n        ></q-btn>\r\n      </template>\r\n    </q-input>\r\n    <q-card>\r\n      <q-list>\r\n        <q-item\r\n          clickable\r\n          @click=\"hotel !== null ? [hotelName = hotel.name, hideHotelList(), $emit('update', hotel)] : showAddHotelDialog = true\"\r\n          v-show=\"hotelListVisible\"\r\n          v-for=\"(hotel, index) in hotels\"\r\n          :key=\"hotel !== null ? hotel.geoId : index\"\r\n        >\r\n          <div\r\n            v-if=\"hotel !== null\"\r\n            v-html=\"hotel.caption\"\r\n          ></div>\r\n          {{hotel !== null ? '' : 'Klicken um Hotel manuell hinzuzufügen'}}\r\n        </q-item>\r\n      </q-list>\r\n    </q-card>\r\n    <q-dialog v-model=\"showAddHotelDialog\">\r\n      <q-stepper\r\n        v-model=\"step\"\r\n        vertical\r\n        color=\"primary\"\r\n        animated\r\n        flat\r\n        style=\"width:400px\"\r\n        keep-alive\r\n      >\r\n        <q-step\r\n          :name=\"1\"\r\n          title=\"Name & Adresse angeben\"\r\n          icon=\"settings\"\r\n          :done=\"step > 1\"\r\n        >\r\n          <q-input\r\n            v-model=\"hotelName\"\r\n            :rules=\"[val => val !== null &&  val !== ''  || 'Bitte gib den Exakten Namen an']\"\r\n            label=\"Exakter Hotel Name\"\r\n            outlined\r\n            style=\"margin:auto; margin-top:20px; margin-left:0;\"\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"title\" />\r\n            </template>\r\n          </q-input>\r\n          <CitySearch\r\n            ref=\"citySearch\"\r\n            :parkingPlaceSearch=\"false\"\r\n            :defaultLocation=\"null\"\r\n            @update=\"updateLocation($event)\"\r\n          ></CitySearch>\r\n          <q-stepper-navigation>\r\n            <q-btn\r\n              @click=\"step = 2\"\r\n              color=\"primary\"\r\n              label=\"Weiter\"\r\n              :disable=\"!hotelName || !tempLocation\"\r\n            />\r\n          </q-stepper-navigation>\r\n        </q-step>\r\n        <q-step\r\n          :name=\"2\"\r\n          title=\"Bewertung & Email eingeben\"\r\n          icon=\"settings\"\r\n        >\r\n          <q-rating\r\n            class=\"stars\"\r\n            v-model=\"hotelStars\"\r\n            size=\"15px\"\r\n            color=\"gold\"\r\n            style=\"margin:20px 0 15px 0;\"\r\n          />\r\n          <q-input\r\n            v-model=\"hotelEmail\"\r\n            outlined\r\n            type=\"email\"\r\n            lazy-rules\r\n            :rules=\"[val => reg.test(val) || 'Bitte gib eine richtige Email an']\"\r\n            label=\"Email des Hotels (optional)\"\r\n          />\r\n          <q-stepper-navigation>\r\n            <q-btn\r\n              color=\"primary\"\r\n              label=\"Fertig\"\r\n              :disable=\"!hotelStars\"\r\n              @click=\"addHotel()\"\r\n            />\r\n            <q-btn\r\n              flat\r\n              @click=\"step = 1\"\r\n              color=\"primary\"\r\n              label=\"Zurück\"\r\n              class=\"q-ml-sm\"\r\n            />\r\n          </q-stepper-navigation>\r\n        </q-step>\r\n      </q-stepper>\r\n    </q-dialog>\r\n  </div>\r\n</template>\r\n<style lang=\"less\">\r\n@import url(\"../../css/hotelRegionSearch.less\");\r\n</style>\r\n<script>\r\nconst getAxios = () => import('axios')\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      hotelName: '',\r\n      hotels: [],\r\n      searchingForHotels: false,\r\n      hotelListVisible: false,\r\n      showAddHotelDialog: false,\r\n      tempLocation: {},\r\n      hotelStars: 3,\r\n      reg: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\r\n      hotelEmail: null,\r\n      step: 1\r\n    }\r\n  },\r\n  components: {\r\n    CitySearch: () => import('./CitySearch')\r\n  },\r\n  props: {\r\n    lat: String,\r\n    long: String,\r\n    checkInDate: String,\r\n    checkOutDate: String,\r\n    roomAmount: Number,\r\n    adults: Number,\r\n    childrenAges: Array\r\n  },\r\n  methods: {\r\n    searchHotel () {\r\n      this.searchingForHotels = true\r\n      this.getHotels(this.hotelName).then((results) => {\r\n        if (results !== null) {\r\n          this.hotels = results.data.suggestions[3].entities\r\n          if (this.hotels.length === 0) this.hotels = { hotel: null }\r\n        } else {\r\n          this.hotels = { hotel: null }\r\n        }\r\n        this.hotelListVisible = true\r\n        this.searchingForHotels = false\r\n      })\r\n    },\r\n    addHotel () {\r\n      let hotel = {\r\n        latitude: this.tempLocation.lat,\r\n        longitude: this.tempLocation.lng,\r\n        address: this.tempLocation.label,\r\n        rating: this.hotelStars,\r\n        name: this.hotelName,\r\n        contact: { email: this.hotelEmail }\r\n      }\r\n      this.$emit('update', hotel)\r\n      this.hideHotelList()\r\n      this.showAddHotelDialog = false\r\n      this.tempLocation = {}\r\n      this.hotelStars = 3\r\n      this.hotelEmail = null\r\n      this.step = 1\r\n    },\r\n    hideHotelList () {\r\n      this.hotelListVisible = false\r\n    },\r\n    updateLocation (event) {\r\n      this.tempLocation = {\r\n        lat: event.y,\r\n        lng: event.x,\r\n        label: event.label\r\n      }\r\n      console.log(event)\r\n    },\r\n    clear () {\r\n      this.hotelName = ''\r\n      this.hotels = null\r\n      this.$refs.select.resetValidation()\r\n    },\r\n    getHotels (hotelName) {\r\n      return new Promise((resolve, reject) => {\r\n        getAxios().then(axios => {\r\n          axios.get('https://hotels4.p.rapidapi.com/locations/search?locale=de_DE&query=' + hotelName, {\r\n            headers: {\r\n              'content-type': 'application/octet-stream',\r\n              'x-rapidapi-host': 'hotels4.p.rapidapi.com',\r\n              'x-rapidapi-key': '18b409d797msh45b84c0227df18cp1fea51jsne88847e3f3c8',\r\n              'useQueryString': true\r\n            }\r\n          }).then((response) => {\r\n            resolve(response)\r\n          }).catch((error) => {\r\n            console.log(error)\r\n            resolve(null)\r\n          })\r\n        }).catch(function (error) {\r\n          console.log('Error ' + error)\r\n          resolve(null)\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotelSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotelSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HotelSearch.vue?vue&type=template&id=f35927b6&\"\nimport script from \"./HotelSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./HotelSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HotelSearch.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotelSearch.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotelSearch.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}