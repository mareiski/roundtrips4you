{"version":3,"sources":["webpack:///./src/pages/EditRoundtripComponents/dailyTrip.vue?2f88","webpack:///src/pages/EditRoundtripComponents/dailyTrip.vue","webpack:///./src/pages/EditRoundtripComponents/dailyTrip.vue?e283","webpack:///./src/pages/EditRoundtripComponents/dailyTrip.vue"],"names":[],"mappings":"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","file":"js/30.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.newDailyTripDate)?_c('div',{staticClass:\"divider\"},[_c('hr'),_c('span',[_vm._v(_vm._s(_vm.dailyTrip.date.split(' ')[0]))])]):_vm._e(),_c('span',{staticClass:\"duration-span\"},[_vm._v(_vm._s(_vm.duration && _vm.duration.duration ? _vm.duration.duration + ' ' + _vm.duration.distance + ' ab ' + (_vm.newDailyTripDate ? _vm.duration.defaultCityLabel.split(',')[0] : _vm.duration.cityFromLabel.split(',')[0]) : ''))]),_c('q-list',{staticClass:\"rounded-borders\",attrs:{\"bordered\":\"\"}},[_c('q-expansion-item',{attrs:{\"expand-separator\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{staticStyle:{\"padding\":\"0\"},attrs:{\"icon\":\"location_on\",\"color\":\"primary\",\"text-color\":\"white\"}})],1),_c('q-item-section',[_c('div',{staticClass:\"q-item__label\"},[_vm._v(_vm._s(_vm.dailyTrip.location.label.split(',')[0]))]),_c('div',{staticClass:\"q-item__label q-item__label--caption text-caption\"},[_vm._v(_vm._s(_vm.dailyTrip.date.split(' ')[1] + (_vm.dailyTrip.days ? ', ca. ' + _vm.dailyTrip.days.days + ' Aufenthalt': '')))])]),(_vm.editor)?_c('q-item-section',{attrs:{\"side\":\"\"}},[_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"delete\"},on:{\"click\":function($event){return _vm.deleteEntry()}}},[_c('q-tooltip',[_vm._v(\"Tagesausflug löschen\")])],1)],1):_vm._e()]},proxy:true}])},[_c('q-card',[_c('q-card-section',[(_vm.editor)?_c('span',[(_vm.editor)?_c('q-popup-proxy',{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"persistent\":\"\"}},[_c('q-date',{attrs:{\"today-btn\":\"\",\"mask\":\"DD.MM.YYYY HH:mm\",\"options\":_vm.dailyTripDateOptions},model:{value:(_vm.dailyTrip.date),callback:function ($$v) {_vm.$set(_vm.dailyTrip, \"date\", $$v)},expression:\"dailyTrip.date\"}}),_c('div',{staticClass:\"flex justify-between\",staticStyle:{\"width\":\"100%\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],staticStyle:{\"margin\":\"10px\"},on:{\"click\":function($event){_vm.dailyTrip.date = _vm.oldDate}}},[_vm._v(\"abbrechen\")]),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],staticStyle:{\"margin\":\"10px\"},attrs:{\"color\":\"primary\"},on:{\"click\":function($event){[_vm.saveDate(false), _vm.$refs.qTimeProxy.show()]}}},[_vm._v(\"weiter\")])],1)],1):_vm._e(),_vm._v(\"\\n            Datum/Zeit ändern\\n            \"),(_vm.editor)?_c('q-icon',{attrs:{\"size\":\"16px\",\"name\":\"event\"}}):_vm._e()],1):_vm._e(),_c('span',[(_vm.editor)?_c('q-popup-proxy',{ref:\"qTimeProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"persistent\":\"\"}},[_c('q-time',{attrs:{\"mask\":\"DD.MM.YYYY HH:mm\",\"format24h\":\"\"},model:{value:(_vm.dailyTrip.date),callback:function ($$v) {_vm.$set(_vm.dailyTrip, \"date\", $$v)},expression:\"dailyTrip.date\"}}),_c('div',{staticClass:\"flex justify-between\",staticStyle:{\"width\":\"100%\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],staticStyle:{\"margin\":\"10px\"},on:{\"click\":function($event){_vm.dailyTrip.date = _vm.oldDate}}},[_vm._v(\"abbrechen\")]),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],staticStyle:{\"margin\":\"10px\"},attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.saveDate(true)}}},[_vm._v(\"fertig\")])],1)],1):_vm._e()],1),(_vm.editor)?_c('div',[_c('q-select',{staticStyle:{\"margin\":\"10px 10px 10px 0\",\"width\":\"260px\"},attrs:{\"label\":\"Sehenswürdigkeiten\",\"filled\":\"\",\"use-input\":\"\",\"use-chips\":\"\",\"multiple\":\"\",\"hide-dropdown-icon\":\"\",\"input-debounce\":\"0\",\"new-value-mode\":\"add-unique\"},on:{\"blur\":function($event){return _vm.saveSights()}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"add\"},on:{\"click\":function($event){$event.stopPropagation();}}})]},proxy:true}],null,false,632044135),model:{value:(_vm.addedSights),callback:function ($$v) {_vm.addedSights=$$v},expression:\"addedSights\"}}),_c('q-editor',{ref:\"editor_ref\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{\"min-height\":\"5rem\",\"toolbar\":_vm.editorToolbar,\"toolbar-toggle-color\":\"primary\",\"fonts\":_vm.editorFonts,\"definitions\":{\n        format: {\n        top: 'Formatierung bei Kopieren beibehaten',\n        icon: _vm.$q.iconSet.editor.formatting,\n        label: 'Format bei Kopie ' + (this.preventPasting ? 'aus' : 'an'),\n        handler: _vm.formatOn\n      }\n      }},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();},\"blur\":function($event){return _vm.saveWork()}},nativeOn:{\"paste\":function($event){return (function (evt) { return _vm.pasteCapture(evt); })($event)}},model:{value:(_vm.dailyTrip.descriptionInput),callback:function ($$v) {_vm.$set(_vm.dailyTrip, \"descriptionInput\", $$v)},expression:\"dailyTrip.descriptionInput\"}}),(_vm.dailyTrip.stopImages)?_c('div',{staticClass:\"flex\"},_vm._l((_vm.dailyTrip.stopImages),function(stopImage,index){return _c('div',{key:index,staticClass:\"uploader\",staticStyle:{\"margin-right\":\"8px\"}},[_c('q-img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":stopImage}}),_c('q-btn',{staticStyle:{\"position\":\"absolute\",\"transform\":\"rotate(45deg)\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\"},on:{\"click\":function($event){return _vm.removeImg(index)}}}),_c('q-btn',{staticStyle:{\"position\":\"absolute\",\"margin-top\":\"-60px\",\"margin-left\":\"65px\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"filter\"},on:{\"click\":function($event){return _vm.showImgDialog(stopImage)}}})],1)}),0):_vm._e(),_c('q-dialog',{model:{value:(_vm.imgDialogVisible),callback:function ($$v) {_vm.imgDialogVisible=$$v},expression:\"imgDialogVisible\"}},[_c('q-card',{staticStyle:{\"width\":\"100%\",\"max-width\":\"100vh\",\"overflow\":\"hidden\"}},[_c('q-card-section',{staticClass:\"row flex justify-end q-pb-none\",staticStyle:{\"z-index\":\"100\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"icon\":\"close\",\"flat\":\"\",\"round\":\"\",\"dense\":\"\"}})],1),_c('q-card-section',{staticStyle:{\"margin-top\":\"-35px\"}},[_c('q-img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.dialogImgSrc}})],1)],1)],1),(_vm.editor)?_c('div',{staticClass:\"uploader\",staticStyle:{\"margin-top\":\"10px\"}},[_c('q-img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":\"/statics/dummy-image-landscape-1-150x150.jpg\"}}),_c('q-btn',{staticStyle:{\"position\":\"absolute\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\"},on:{\"click\":function($event){_vm.chooseImgDialog = true}}},[_c('q-tooltip',[_vm._v(\"Bilder hinzufügen\")])],1)],1):_vm._e(),_c('q-dialog',{attrs:{\"keep-alive\":\"\"},model:{value:(_vm.chooseImgDialog),callback:function ($$v) {_vm.chooseImgDialog=$$v},expression:\"chooseImgDialog\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row items-center galeryImgUploaderContainer flex justify-between\"},[_vm._l((_vm.galeryImgUrls),function(url,index){return _c('div',{key:index,staticClass:\"uploader\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(url),expression:\"url\"}],staticStyle:{\"width\":\"100%\"}}),_c('q-btn',{staticStyle:{\"position\":\"absolute\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\"},on:{\"click\":function($event){return _vm.addImageToStop(url)}}})],1)}),(_vm.galeryImgUrls.length === 0)?_c('div',{staticClass:\"flex\"},[_c('div',[_c('q-img',{staticStyle:{\"height\":\"148px\",\"width\":\"148px\"},attrs:{\"src\":require(\"../../statics/dummy-image-landscape-1.jpg\")}})],1),_c('div',{staticClass:\"flex justify-center\",staticStyle:{\"max-width\":\"300px\",\"padding-left\":\"10px\",\"flex-direction\":\"column\"}},[_vm._v(\"Wenn du ein Bild in den Einstellungen hochlädst kannst du es hier hinzufügen.\")])]):_vm._e()],2),_c('q-card-section',{staticClass:\"row items-center flex\"},[_c('span',[_vm._v(\"Bitte verwende nur Bilder die für die Wiederverwendung eindeutig gekennzeichnet sind. \"),_c('br'),_vm._v(\" Ansonsten kann dein Account gesperrt werden. \"),_c('br'),_c('br'),_c('a',{staticStyle:{\"text-decoration\":\"underline\"},on:{\"click\":function($event){return _vm.openInNewTab('https://www.google.com/search?q=' + _vm.dailyTrip.location.label  + '&tbm=isch&hl=de&hl=de&tbs=sur%3Af&rlz=1C1CHBF_deDE828DE828&ved=0CAQQpwVqFwoTCLCZ05jd2-cCFQAAAAAdAAAAABAD&biw=1903&bih=969')}}},[_vm._v(\"Vorschläge auf Google\")]),_c('br'),_c('br')]),_c('div',{staticClass:\"flex\",staticStyle:{\"width\":\"100%\"}},[_c('q-input',{ref:\"tempImgLinkInput\",staticStyle:{\"padding\":\"0\",\"width\":\"80%\",\"margin-bottom\":\"10px\"},attrs:{\"filled\":\"\",\"label\":\"Bild per Link einfügen\",\"rules\":[function (val) { return _vm.validURL(val) || 'Bitte gib einen richtigen Link ein'; }],\"lazy-rules\":\"\",\"bottom-slots\":\"\",\"outlined\":\"\"},model:{value:(_vm.tempImgLink),callback:function ($$v) {_vm.tempImgLink=$$v},expression:\"tempImgLink\"}}),_c('q-btn',{staticStyle:{\"margin-left\":\"10px\",\"margin-top\":\"5px\",\"height\":\"45px\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\",\"disable\":!_vm.validURL(_vm.tempImgLink)},on:{\"click\":function($event){return _vm.addImageToStop(_vm.tempImgLink)}}})],1)]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Fertig\",\"color\":\"primary\"}})],1)],1)],1)],1):_c('div',[(_vm.addedSights && typeof _vm.addedSights !== 'undefined' && _vm.addedSights.length > 0)?_c('div',[_c('b',{staticClass:\"flex justify-center\",staticStyle:{\"flex-direction\":\"column\"}},[_vm._v(\"Highlights:\")]),_vm._l((_vm.addedSights),function(addedSight,index){return _c('q-chip',{key:index,attrs:{\"clickable\":\"\"},on:{\"click\":function($event){_vm.openInNewTab('https://www.google.com/search?q=' + addedSight + ' ' + _vm.dailyTrip.location.label.split(',')[0])}}},[_vm._v(_vm._s(addedSight))])}),_c('a',{staticClass:\"flex justify-center\",staticStyle:{\"flex-direction\":\"column\",\"text-decoration\":\"none\"},attrs:{\"target\":\"_blank\",\"href\":'https://www.google.com/search?q=' + _vm.dailyTrip.location.label.split(',')[0] + ' Sehenswürdigkeiten'}},[_vm._v(\"weitere anzeigen\")])],2):_vm._e(),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.dailyTrip.descriptionInput)}})])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      class=\"divider\"\r\n      v-if=\"newDailyTripDate\"\r\n    >\r\n      <hr>\r\n      <span>{{dailyTrip.date.split(' ')[0]}}</span>\r\n    </div>\r\n    <span class=\"duration-span\">{{duration && duration.duration ? duration.duration + ' ' + duration.distance + ' ab ' + (newDailyTripDate ? duration.defaultCityLabel.split(',')[0] : duration.cityFromLabel.split(',')[0]) : ''}}</span>\r\n    <q-list\r\n      bordered\r\n      class=\"rounded-borders\"\r\n    >\r\n      <q-expansion-item expand-separator>\r\n        <q-card>\r\n          <q-card-section>\r\n            <span v-if=\"editor\">\r\n              <q-popup-proxy\r\n                v-if=\"editor\"\r\n                ref=\"qDateProxy\"\r\n                transition-show=\"scale\"\r\n                transition-hide=\"scale\"\r\n                persistent\r\n              >\r\n                <q-date\r\n                  v-model=\"dailyTrip.date\"\r\n                  today-btn\r\n                  mask=\"DD.MM.YYYY HH:mm\"\r\n                  :options=\"dailyTripDateOptions\"\r\n                />\r\n                <div\r\n                  class=\"flex justify-between\"\r\n                  style=\"width:100%\"\r\n                >\r\n                  <q-btn\r\n                    style=\"margin:10px;\"\r\n                    v-close-popup\r\n                    @click=\"dailyTrip.date = oldDate\"\r\n                  >abbrechen</q-btn>\r\n                  <q-btn\r\n                    color=\"primary\"\r\n                    style=\"margin:10px;\"\r\n                    @click=\"[saveDate(false), $refs.qTimeProxy.show()]\"\r\n                    v-close-popup\r\n                  >weiter</q-btn>\r\n                </div>\r\n              </q-popup-proxy>\r\n              Datum/Zeit ändern\r\n              <q-icon\r\n                v-if=\"editor\"\r\n                size=\"16px\"\r\n                name=\"event\"\r\n              />\r\n            </span>\r\n            <span>\r\n              <q-popup-proxy\r\n                v-if=\"editor\"\r\n                ref=\"qTimeProxy\"\r\n                transition-show=\"scale\"\r\n                transition-hide=\"scale\"\r\n                persistent\r\n              >\r\n                <q-time\r\n                  v-model=\"dailyTrip.date\"\r\n                  mask=\"DD.MM.YYYY HH:mm\"\r\n                  format24h\r\n                />\r\n                <div\r\n                  class=\"flex justify-between\"\r\n                  style=\"width:100%\"\r\n                >\r\n                  <q-btn\r\n                    style=\"margin:10px;\"\r\n                    v-close-popup\r\n                    @click=\"dailyTrip.date = oldDate\"\r\n                  >abbrechen</q-btn>\r\n                  <q-btn\r\n                    color=\"primary\"\r\n                    style=\"margin:10px;\"\r\n                    @click=\"saveDate(true)\"\r\n                    v-close-popup\r\n                  >fertig</q-btn>\r\n                </div>\r\n              </q-popup-proxy>\r\n            </span>\r\n            <div v-if=\"editor\">\r\n              <q-select\r\n                label=\"Sehenswürdigkeiten\"\r\n                filled\r\n                v-model=\"addedSights\"\r\n                use-input\r\n                use-chips\r\n                multiple\r\n                hide-dropdown-icon\r\n                input-debounce=\"0\"\r\n                new-value-mode=\"add-unique\"\r\n                style=\"margin:10px 10px 10px 0; width:260px;\"\r\n                @blur=\"saveSights()\"\r\n              >\r\n                <template v-slot:prepend>\r\n                  <q-icon\r\n                    name=\"add\"\r\n                    @click.stop\r\n                  />\r\n                </template>\r\n              </q-select>\r\n              <q-editor\r\n                v-model=\"dailyTrip.descriptionInput\"\r\n                min-height=\"5rem\"\r\n                ref=\"editor_ref\"\r\n                @keyup.enter.stop\r\n                :toolbar=\"editorToolbar\"\r\n                toolbar-toggle-color=\"primary\"\r\n                :fonts=\"editorFonts\"\r\n                @blur=\"saveWork()\"\r\n                @paste.native=\"evt => pasteCapture(evt)\"\r\n                style=\"margin-top:10px; margin-bottom:10px;\"\r\n                :definitions=\"{\r\n          format: {\r\n          top: 'Formatierung bei Kopieren beibehaten',\r\n          icon: $q.iconSet.editor.formatting,\r\n          label: 'Format bei Kopie ' + (this.preventPasting ? 'aus' : 'an'),\r\n          handler: formatOn\r\n        }\r\n        }\"\r\n              />\r\n              <div\r\n                class=\"flex\"\r\n                v-if=\"dailyTrip.stopImages\"\r\n              >\r\n                <div\r\n                  class=\"uploader\"\r\n                  v-for=\"(stopImage, index) in dailyTrip.stopImages\"\r\n                  :key=\"index\"\r\n                  style=\"margin-right:8px;\"\r\n                >\r\n                  <q-img\r\n                    style=\"height:100%;\"\r\n                    :src=\"stopImage\"\r\n                  ></q-img>\r\n                  <q-btn\r\n                    round\r\n                    color=\"primary\"\r\n                    icon=\"add\"\r\n                    style=\"position: absolute; transform: rotate(45deg)\"\r\n                    @click=\"removeImg(index)\"\r\n                  >\r\n                  </q-btn>\r\n                  <q-btn\r\n                    round\r\n                    color=\"primary\"\r\n                    icon=\"filter\"\r\n                    style=\"position: absolute; margin-top:-60px; margin-left:65px;\"\r\n                    @click=\"showImgDialog(stopImage)\"\r\n                  >\r\n                  </q-btn>\r\n                </div>\r\n              </div>\r\n              <q-dialog v-model=\"imgDialogVisible\">\r\n                <q-card style=\"width:100%; max-width:100vh; overflow:hidden;\">\r\n                  <q-card-section\r\n                    class=\"row flex justify-end q-pb-none\"\r\n                    style=\"z-index:100;\"\r\n                  >\r\n                    <q-btn\r\n                      icon=\"close\"\r\n                      flat\r\n                      round\r\n                      dense\r\n                      v-close-popup\r\n                    />\r\n                  </q-card-section>\r\n                  <q-card-section style=\"margin-top:-35px;\">\r\n                    <q-img\r\n                      style=\"width:100%;\"\r\n                      :src=\"dialogImgSrc\"\r\n                    ></q-img>\r\n                  </q-card-section>\r\n                </q-card>\r\n\r\n              </q-dialog>\r\n              <div\r\n                style=\"margin-top:10px;\"\r\n                class=\"uploader\"\r\n                v-if=\"editor\"\r\n              >\r\n                <q-img\r\n                  style=\"height:100%;\"\r\n                  src=\"/statics/dummy-image-landscape-1-150x150.jpg\"\r\n                ></q-img>\r\n                <q-btn\r\n                  round\r\n                  color=\"primary\"\r\n                  icon=\"add\"\r\n                  style=\"position: absolute;\"\r\n                  @click=\"chooseImgDialog = true\"\r\n                >\r\n                  <q-tooltip>Bilder hinzufügen</q-tooltip>\r\n                </q-btn>\r\n              </div>\r\n              <q-dialog\r\n                keep-alive\r\n                v-model=\"chooseImgDialog\"\r\n              >\r\n                <q-card>\r\n                  <q-card-section class=\"row items-center galeryImgUploaderContainer flex justify-between\">\r\n                    <div\r\n                      class=\"uploader\"\r\n                      v-for=\"(url, index) in galeryImgUrls\"\r\n                      :key=\"index\"\r\n                    >\r\n                      <img\r\n                        style=\"width:100%;\"\r\n                        v-lazy=\"url\"\r\n                      />\r\n                      <q-btn\r\n                        round\r\n                        color=\"primary\"\r\n                        icon=\"add\"\r\n                        style=\"position: absolute;\"\r\n                        @click=\"addImageToStop(url)\"\r\n                      >\r\n                      </q-btn>\r\n                    </div>\r\n                    <div\r\n                      v-if=\"galeryImgUrls.length === 0\"\r\n                      class=\"flex\"\r\n                    >\r\n                      <div>\r\n                        <q-img\r\n                          src=\"../../statics/dummy-image-landscape-1.jpg\"\r\n                          style=\"height:148px; width:148px;\"\r\n                        ></q-img>\r\n                      </div>\r\n                      <div\r\n                        class=\"flex justify-center\"\r\n                        style=\"max-width:300px; padding-left:10px; flex-direction:column;\"\r\n                      >Wenn du ein Bild in den Einstellungen hochlädst kannst du es hier hinzufügen.</div>\r\n                    </div>\r\n                  </q-card-section>\r\n                  <q-card-section class=\"row items-center flex\">\r\n                    <span>Bitte verwende nur Bilder die für die Wiederverwendung eindeutig gekennzeichnet sind. <br> Ansonsten kann dein Account gesperrt werden. <br>\r\n                      <br>\r\n                      <a\r\n                        style=\"text-decoration:underline;\"\r\n                        @click=\"openInNewTab('https://www.google.com/search?q=' + dailyTrip.location.label  + '&tbm=isch&hl=de&hl=de&tbs=sur%3Af&rlz=1C1CHBF_deDE828DE828&ved=0CAQQpwVqFwoTCLCZ05jd2-cCFQAAAAAdAAAAABAD&biw=1903&bih=969')\"\r\n                      >Vorschläge auf Google</a>\r\n                      <br>\r\n                      <br>\r\n                    </span>\r\n                    <div\r\n                      class=\"flex\"\r\n                      style=\"width:100%;\"\r\n                    >\r\n                      <q-input\r\n                        filled\r\n                        ref=\"tempImgLinkInput\"\r\n                        label=\"Bild per Link einfügen\"\r\n                        v-model=\"tempImgLink\"\r\n                        :rules=\"[val => validURL(val) || 'Bitte gib einen richtigen Link ein']\"\r\n                        lazy-rules\r\n                        bottom-slots\r\n                        outlined\r\n                        style=\"padding:0; width:80%; margin-bottom:10px;\"\r\n                      ></q-input>\r\n                      <q-btn\r\n                        round\r\n                        color=\"primary\"\r\n                        icon=\"add\"\r\n                        style=\"margin-left:10px; margin-top:5px; height:45px;\"\r\n                        :disable=\"!validURL(tempImgLink)\"\r\n                        @click=\"addImageToStop(tempImgLink)\"\r\n                      />\r\n                    </div>\r\n                  </q-card-section>\r\n\r\n                  <q-card-actions align=\"right\">\r\n                    <q-btn\r\n                      flat\r\n                      label=\"Fertig\"\r\n                      color=\"primary\"\r\n                      v-close-popup\r\n                    />\r\n                  </q-card-actions>\r\n                </q-card>\r\n              </q-dialog>\r\n            </div>\r\n            <div v-else>\r\n              <div v-if=\"addedSights && typeof addedSights !== 'undefined' && addedSights.length > 0\">\r\n                <b\r\n                  class=\"flex justify-center\"\r\n                  style=\"flex-direction:column;\"\r\n                >Highlights:</b>\r\n                <q-chip\r\n                  v-for=\"(addedSight, index) in addedSights\"\r\n                  :key=\"index\"\r\n                  clickable\r\n                  @click=\"openInNewTab('https://www.google.com/search?q=' + addedSight + ' ' + dailyTrip.location.label.split(',')[0])\"\r\n                >{{addedSight}}</q-chip>\r\n                <a\r\n                  class=\"flex justify-center\"\r\n                  style=\"flex-direction:column; text-decoration:none;\"\r\n                  target=\"_blank\"\r\n                  :href=\"'https://www.google.com/search?q=' + dailyTrip.location.label.split(',')[0] + ' Sehenswürdigkeiten'\"\r\n                >weitere anzeigen</a>\r\n              </div>\r\n              <div v-html=\"dailyTrip.descriptionInput\"></div>\r\n            </div>\r\n          </q-card-section>\r\n        </q-card>\r\n        <template v-slot:header>\r\n          <q-item-section avatar>\r\n            <q-avatar\r\n              style=\"padding:0;\"\r\n              icon=\"location_on\"\r\n              color=\"primary\"\r\n              text-color=\"white\"\r\n            />\r\n          </q-item-section>\r\n\r\n          <q-item-section>\r\n            <div class=\"q-item__label\">{{dailyTrip.location.label.split(',')[0]}}</div>\r\n            <div class=\"q-item__label q-item__label--caption text-caption\">{{dailyTrip.date.split(' ')[1] + (dailyTrip.days ? ', ca. ' + dailyTrip.days.days + ' Aufenthalt': '')}}</div>\r\n          </q-item-section>\r\n\r\n          <q-item-section\r\n            side\r\n            v-if=\"editor\"\r\n          >\r\n            <q-icon\r\n              name=\"delete\"\r\n              class=\"cursor-pointer\"\r\n              @click=\"deleteEntry()\"\r\n            >\r\n              <q-tooltip>Tagesausflug löschen</q-tooltip>\r\n            </q-icon>\r\n          </q-item-section>\r\n        </template>\r\n      </q-expansion-item>\r\n    </q-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport sharedMethods from '../../sharedMethods'\r\nexport default {\r\n  props: {\r\n    dailyTrip: Object,\r\n    editorToolbar: Array,\r\n    editorFonts: Object,\r\n    stopDocId: String,\r\n    index: Number,\r\n    newDailyTripDate: Boolean,\r\n    duration: Object,\r\n    editor: Boolean,\r\n    addedSights: Array,\r\n    galeryImgUrls: Array\r\n  },\r\n  data () {\r\n    return {\r\n      savedEditorContent: this.dailyTrip.descriptionInput,\r\n      durations: [],\r\n      preventPasting: true,\r\n      oldAddedSights: [],\r\n      dialogImgSrc: null,\r\n      imgDialogVisible: false,\r\n      chooseImgDialog: false,\r\n      tempImgLink: null,\r\n      oldDate: null\r\n    }\r\n  },\r\n  methods: {\r\n    deleteEntry () {\r\n      sharedMethods.getParent('stop', this).deleteDailyTrip(this.index)\r\n    },\r\n    saveWork () {\r\n      sharedMethods.getParent('stop', this).saveDailyTrips(this.index, this.dailyTrip.descriptionInput, 'description')\r\n      this.savedEditorContent = this.dailyTrip.descriptionInput\r\n    },\r\n    saveDate () {\r\n      sharedMethods.getParent('stop', this).saveDailyTrips(this.index, this.dailyTrip.date, 'date')\r\n      this.oldDate = this.dailyTrip.date\r\n    },\r\n    formatOn () {\r\n      this.preventPasting = !this.preventPasting\r\n    },\r\n    dailyTripDateOptions (date) {\r\n      return sharedMethods.getParent('stop', this).dailyTripDateOptions(date)\r\n    },\r\n    validURL (str) {\r\n      var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\r\n        '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\r\n        '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\r\n        '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\r\n        '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\r\n        '(\\\\#[-a-z\\\\d_]*)?$', 'i') // fragment locator\r\n      return !!pattern.test(str)\r\n    },\r\n    saveSights () {\r\n      if (this.addedSights !== this.oldAddedSights) {\r\n        this.oldAddedSights = this.addedSights\r\n\r\n        sharedMethods.getParent('stop', this).saveDailyTrips(this.index, this.addedSights, 'sights')\r\n      }\r\n    },\r\n    showImgDialog (src) {\r\n      this.dialogImgSrc = src\r\n      this.imgDialogVisible = true\r\n    },\r\n    addImageToStop (src) {\r\n      if (!this.dailyTrip.stopImages) this.dailyTrip.stopImages = []\r\n      this.dailyTrip.stopImages.push(src)\r\n      this.tempImgLink = ''\r\n      this.$refs.tempImgLinkInput.resetValidation()\r\n\r\n      // let parentStops = this.getParent('EditRoundtrips').stops\r\n      // parentStops[parentStops.findIndex(x => x.DocId === this.docId)].StopImages = this.stopImages\r\n\r\n      sharedMethods.getParent('stop', this).saveDailyTripImgs(this.index, this.dailyTrip.stopImages)\r\n    },\r\n    removeImg (index) {\r\n      if (!this.dailyTrip.stopImages) return\r\n      this.dailyTrip.stopImages.splice(index, 1)\r\n\r\n      // let parentStops = this.getParent('EditRoundtrips').stops\r\n      // parentStops[parentStops.findIndex(x => x.DocId === this.docId)].StopImages = this.stopImages\r\n\r\n      sharedMethods.getParent('stop', this).saveDailyTripImgs(this.index, this.dailyTrip.stopImages)\r\n    },\r\n    openInNewTab (link) {\r\n      window.open(link, '_blank')\r\n    },\r\n    pasteCapture (evt) {\r\n      if (this.preventPasting) {\r\n        let text, onPasteStripFormattingIEPaste\r\n        evt.preventDefault()\r\n        if (evt.originalEvent && evt.originalEvent.clipboardData.getData) {\r\n          text = evt.originalEvent.clipboardData.getData('text/plain')\r\n          this.$refs.editor_ref.runCmd('insertText', text)\r\n        } else if (evt.clipboardData && evt.clipboardData.getData()) {\r\n          text = evt.clipboardData.getData('text/plain')\r\n          this.$refs.editor_ref.runCmd('insertText', text)\r\n        } else if (window.clipboardData && window.clipboardData.getData) {\r\n          if (!onPasteStripFormattingIEPaste) {\r\n            onPasteStripFormattingIEPaste = true\r\n            this.$refs.editor_ref.runCmd('ms-pasteTextOnly', text)\r\n          }\r\n          onPasteStripFormattingIEPaste = false\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.oldAddedSights = this.addedSights\r\n    this.oldDate = this.dailyTrip.date\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dailyTrip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dailyTrip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dailyTrip.vue?vue&type=template&id=ab93963c&\"\nimport script from \"./dailyTrip.vue?vue&type=script&lang=js&\"\nexport * from \"./dailyTrip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}