{"version":3,"sources":["webpack:///./src/sharedMethods.js","webpack:///./src/pages/PublicUserProfile.vue?c199","webpack:///src/pages/PublicUserProfile.vue","webpack:///./src/pages/PublicUserProfile.vue?384a","webpack:///./src/pages/PublicUserProfile.vue","webpack:///./src/pages/Map/Map.vue?c5b5","webpack:///./src/pages/Map/Map.vue?9efb","webpack:///./src/pages/CitySuggestion/CitySuggestionMethods.js","webpack:///./src/pages/Map/MapLayerPlugin.vue?4121","webpack:///src/pages/Map/MapLayerPlugin.vue","webpack:///./src/pages/Map/MapLayerPlugin.vue?ae53","webpack:///./src/pages/Map/MapLayerPlugin.vue","webpack:///src/pages/Map/Map.vue","webpack:///./src/pages/Map/Map.vue?9846","webpack:///./src/pages/Map/Map.vue?a88e","webpack:///./src/pages/Map/Map.vue?9692","webpack:///./src/countries.js"],"names":["getAxios","querystring","require","setScrollPosition","getScrollTarget","scroll","getDateFromString","string","dateParts","timeParts","includes","dateTimeParts","split","Date","isDateTimeValid","testDate","length","matches","match","year","parseInt","month","day","hour","minute","date","getFullYear","getMonth","getDate","getHours","getMinutes","expandAllStops","context","stops","forEach","stop","allStopsExpanded","$refs","DocId","changeExpansion","currentExpansionStates","findIndex","x","docId","expanded","expansionChanged","event","filterAirports","val","update","abort","originSearch","fetchAirports","then","results","originOptions","originCodes","destinationOptions","destinationCodes","data","city","push","capitalize","address","cityName","iataCode","catch","e","Promise","resolve","reject","axios","url","headers","stringify","grant_type","client_id","client_secret","post","form","response","token","access_token","tokenString","get","error","console","log","getStringDateFromTimestamp","timestamp","initDate","seconds","formatDate","s","toLowerCase","charAt","toUpperCase","slice","showErrorNotification","message","Notify","create","color","textColor","icon","showSuccessNotification","scrollToOffset","offset","document","documentElement","scrollToRef","el","target","offsetTop","msToTime","duration","ms","secs","minutes","hours","days","returnVal","getWikivoyageData","pageName","returnData","pages","query","firstPageName","Object","keys","title","shortDescription","description","extract","imgSrc","original","source","getGooglePlacesData","lat","lng","loader","Loader","apiKey","version","libraries","load","map","google","maps","Map","createElement","service","places","PlacesService","request","radius","language","type","location","parseFloat","nearbySearch","returnDataArr","poi","name","photoUrl","photos","getUrl","placeId","place_id","rating","totalRatings","user_ratings_total","geometry","nowOpen","opening_hours","open_now","label","vicinity","tags","types","isUniqueTitle","value","trim","roundtripsRef","db","collection","where","limit","snapshot","size","getParent","p","$parent","$options","getSights","long","getCities","country","fetchDBSuggestions","fetchAPISuggestions","apiResponse","tempCities","empty","doc","cities","Cities","cityObject","region","longitude","latitude","Country","indexOf","setTimeout","code","writeInDB","newCityObject","index","add","getCityImage","cityCountry","hits","webformatURL","countries"],"mappings":"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CA;AACA,KA/DA;;AAgEA;;;AAGA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OALA;AAMA,KA3EA;;AA4EA;;;AAGA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA,SARA,CAUA;;;AACA;AACA;AACA;AACA,SAFA;AAIA;AACA;AACA,OAlBA;AAmBA,KAnGA;;AAoGA;AACA;AAEA;AAEA;AAEA;AACA,KA5GA;;AA6GA;;;AAGA;AACA;AACA;AACA,iCAHA,CAKA;;AACA;AACA;AACA;AACA,OAFA;AAIA;AACA,KA5HA;;AA6HA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KArIA;;AAsIA;AACA;;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA,2BAXA,CAYA;;AACA;AACA;AACA;AACA,WAFA,EAEA,GAFA;AAGA;AACA;;AACA;AACA,KA7JA;;AA8JA;AACA;AACA;AACA,oBADA;AAEA,uBAFA;AAGA,4BAHA;AAIA,eAJA;AAKA;AALA;AAQA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,KA5KA;;AA6KA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,KAHA,CAGA;AACA;AACA,SALA;AAMA;AACA;AACA,OAVA,CAWA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,KA/MA;;AAgNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AAEA;AACA;AAEA,0GARA,CAUA;;AACA;AAAA;AAAA;AAAA;AACA,OAZA,MAYA;AACA;AAAA;AAAA;AAAA;AACA,OApBA,CAsBA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA,WADA,CAGA;;AACA;AACA,OALA;AAMA,KA9OA;;AA+OA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KArPA;;AAsPA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KA5PA;;AA6PA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;AAAA;AANA;;AAQA;AACA;AACA,KA7QA;;AA8QA;AACA;AACA;AACA;AACA;;AACA;AACA,KApRA;;AAqRA;AACA;AACA,yCADA,CAGA;;AACA,sCAJA,CAMA;;AACA;AACA;AACA;AACA;AACA,WAFA;AAIA,gCANA,CAQA;;AACA;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA,sHAFA,CAIA;;AACA;AACA;AACA,iBAXA,MAWA;AACA;AACA;AACA,iBAhBA,CAiBA;;;AACA;AACA,eAnBA;AAoBA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,eARA;AASA,aAVA,MAUA;AACA;AACA;AACA,WAxCA;AA0CA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,+BAFA;AAGA,oCAHA;AAIA,uBAJA;AAKA;AALA;AAQA;AACA,uCACA,YADA,EAEA,IAFA,EAGA,OAHA,EAIA,UAJA;AAOA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA,eANA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA,qBAJA,CAMA;;AACA;AACA;AACA;AACA,qBAFA,EAEA,GAFA;AAGA;AACA;AACA,eAdA;AAgBA;AACA;;AACA;AACA,WA9CA,EAtDA,CAsGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AACA;AACA;AACA,OAjIA;AAkIA,KAxZA;;AAyZA;AACA;;AAEA;AACA,6DADA,CAGA;;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA,SALA,EAKA,KALA,CAKA;AACA;AACA,SAPA;AAQA;AACA,KAzaA;;AA0aA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,OAHA,EAGA,gCAHA;AAIA,KAhbA;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","file":"js/chunk-common.js","sourcesContent":["/* eslint-disable indent */\r\n\r\n/**\r\n *  This class contains all methods shared between the pages and components\r\n *  (mostly used for EditRoundtrips and RoundtripDetails & their components)\r\n */\r\nlet getAxios = () => import('axios')\r\nvar querystring = require('querystring')\r\nimport { Notify, scroll, date } from 'quasar'\r\nconst { setScrollPosition, getScrollTarget } = scroll\r\nimport { db } from './firebaseInit.js'\r\nimport { Loader } from '@googlemaps/js-api-loader'\r\n\r\nexport default {\r\n\r\n    /**\r\n     * @returns a date from a date string in format dd.mm.yy MM:hh\r\n     * @param {String} string date string to get date from\r\n     */\r\n    getDateFromString (string) {\r\n        let dateParts\r\n        let timeParts = ['00', '00']\r\n\r\n        if (string.includes(' ')) {\r\n            const dateTimeParts = string.split(' ')\r\n            dateParts = dateTimeParts[0].split('.')\r\n            timeParts = dateTimeParts[1].split(':')\r\n        } else {\r\n            dateParts = string.split('.')\r\n        }\r\n        return new Date(dateParts[2], dateParts[1] - 1, dateParts[0], timeParts[0], timeParts[1], '00')\r\n    },\r\n    /**\r\n     * check if a date time string is valid\r\n     * @param {String} testDate date to check\r\n     */\r\n    isDateTimeValid (testDate) {\r\n        if (!testDate || testDate === null || testDate.length === 0) return false\r\n        var matches = testDate.match(/^(\\d{2})\\.(\\d{2})\\.(\\d{4}) (\\d{2}):(\\d{2})$/)\r\n        if (matches === null) return false\r\n        var year = parseInt(matches[3], 10)\r\n        var month = parseInt(matches[2], 10) - 1\r\n        var day = parseInt(matches[1], 10)\r\n        var hour = parseInt(matches[4], 10)\r\n        var minute = parseInt(matches[5], 10)\r\n        var date = new Date(year, month, day, hour, minute)\r\n        if (date.getFullYear() !== year ||\r\n            date.getMonth() !== month ||\r\n            date.getDate() !== day ||\r\n            date.getHours() !== hour ||\r\n            date.getMinutes() !== minute\r\n        ) {\r\n            return false\r\n        } else {\r\n            return true\r\n        }\r\n    },\r\n    /**\r\n     * Sets all expansion states of all stops to true (expanded)\r\n     * @param {*} context context of file\r\n     * @param {array} stops list of all stops\r\n     */\r\n    expandAllStops (context, stops) {\r\n        stops.forEach(stop => {\r\n            if (context.allStopsExpanded) {\r\n                if (context.$refs[stop.DocId]) context.$refs[stop.DocId][0].changeExpansion(true)\r\n            } else context.$refs[stop.DocId][0].changeExpansion(context.currentExpansionStates[context.currentExpansionStates.findIndex(x => x.docId === stop.DocId)].expanded)\r\n        })\r\n    },\r\n    /**\r\n     * Change the expansion of one stop\r\n     * @param {*} context context of file\r\n     * @param {*} event event called from expansion item\r\n     */\r\n    expansionChanged (context, event) {\r\n        context.allStopsExpanded = false\r\n        context.currentExpansionStates[context.currentExpansionStates.findIndex(x => x.docId === event.docId)].expanded = event.expanded\r\n    },\r\n    /**\r\n     * Filter airport suggestions for select element\r\n     * @param {String} val search term\r\n     * @param {boolean} originSearch search for origin or depature\r\n     * @param {*} context context of file\r\n     */\r\n    filterAirports (val, update, abort, originSearch, context) {\r\n        if (val.length < 3) {\r\n            abort()\r\n            return\r\n        }\r\n        if (val.length >= 3) {\r\n            this.fetchAirports(val).then((results) => {\r\n                update(() => {\r\n                    if (!results) return false\r\n\r\n                    if (originSearch) {\r\n                        context.originOptions = []\r\n                        context.originCodes = []\r\n                    } else {\r\n                        context.destinationOptions = []\r\n                        context.destinationCodes = []\r\n                    }\r\n\r\n                    results.data.data.forEach(city => {\r\n                        if (originSearch) {\r\n                            context.originOptions.push(this.capitalize(city.address.cityName) + ' (' + city.iataCode + ')')\r\n                            context.originCodes.push(city.iataCode)\r\n                        } else {\r\n                            context.destinationOptions.push(this.capitalize(city.address.cityName) + ' (' + city.iataCode + ')')\r\n                            context.destinationCodes.push(city.iataCode)\r\n                        }\r\n                    })\r\n                }).catch(e => {\r\n                    return false\r\n                })\r\n            })\r\n        }\r\n    },\r\n    /**\r\n     * Fetch ariport suggestions for a search term\r\n     * @param {*} val search term\r\n     */\r\n    fetchAirports (val) {\r\n        return new Promise((resolve, reject) => {\r\n            getAxios().then(axios => {\r\n                const url = 'https://api.amadeus.com/v1/security/oauth2/token'\r\n\r\n                const headers = {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n\r\n                const data = querystring.stringify({\r\n                    grant_type: 'client_credentials',\r\n                    client_id: 'SEW3oULNfsxB4xOMAwY291ilj9bwWekH',\r\n                    client_secret: 'lHQlUheyyAZtGQDA'\r\n                })\r\n\r\n                axios.post(url, data, {\r\n                    headers: headers,\r\n                    form: {\r\n                        'grant_type': 'client_credentials',\r\n                        'client_id': 'SEW3oULNfsxB4xOMAwY291ilj9bwWekH',\r\n                        'client_secret': 'lHQlUheyyAZtGQDA'\r\n                    }\r\n                }).then(function (response) {\r\n                    let token = response.data.access_token\r\n                    const tokenString = 'Bearer ' + token\r\n\r\n                    axios.get('https://api.amadeus.com/v1/reference-data/locations?subType=AIRPORT,CITY&view=LIGHT&keyword=' + val, {\r\n                        headers: {\r\n                            'Authorization': tokenString\r\n                        }\r\n                    }).then(function (response) {\r\n                        resolve(response)\r\n                    }).catch(function (error) {\r\n                        console.log('Error' + error)\r\n                        resolve(null)\r\n                    })\r\n                }).catch(function (error) {\r\n                    console.log('Error on Authentication' + error)\r\n                    resolve(null)\r\n                })\r\n            }).catch(function (error) {\r\n                console.log('Error ' + error)\r\n                resolve(null)\r\n            })\r\n        })\r\n    },\r\n    /**\r\n     * @return a string date from given timestamp\r\n     */\r\n    getStringDateFromTimestamp (timestamp) {\r\n        const initDate = new Date(timestamp.seconds * 1000)\r\n        return date.formatDate(initDate, 'DD.MM.YYYY HH:mm')\r\n    },\r\n    /**\r\n     * Capitalizes the given string\r\n     */\r\n    capitalize (s) {\r\n        s = s.toLowerCase()\r\n        s = s.charAt(0).toUpperCase() + s.slice(1)\r\n        return s\r\n    },\r\n    /**\r\n     * Display a quasar notify error message\r\n     */\r\n    showErrorNotification (message) {\r\n        Notify.create({\r\n            color: 'red-5',\r\n            textColor: 'white',\r\n            icon: 'error',\r\n            message: message\r\n        })\r\n    },\r\n    /**\r\n     * Display a quasar notify success message\r\n     */\r\n    showSuccessNotification (message) {\r\n        Notify.create({\r\n            color: 'green-4',\r\n            textColor: 'white',\r\n            icon: 'check_circle',\r\n            message: message\r\n        })\r\n    },\r\n    /**\r\n     * Scroll to a specific offset\r\n     * @param {Number} offset numer in pixels from top\r\n     */\r\n    scrollToOffset (offset) {\r\n        setScrollPosition(document.documentElement, offset, 400)\r\n    },\r\n    /**\r\n     * Scrolls to a element\r\n     * @param refName element get via $refs\r\n     */\r\n    scrollToRef (el) {\r\n        const target = getScrollTarget(el)\r\n        const offset = el.offsetTop\r\n        setScrollPosition(target, offset, 400)\r\n    },\r\n    /**\r\n     * creates a string from milliseconds (fontmat: 5h 10min)\r\n     * @param duration the milliseconds to format\r\n     */\r\n    msToTime (duration) {\r\n        var ms = duration % 1000\r\n        duration = (duration - ms) / 1000\r\n\r\n        var secs = duration % 60\r\n        duration = (duration - secs) / 60\r\n\r\n        var minutes = duration % 60\r\n        duration = (duration - minutes) / 60\r\n\r\n        var hours = duration % 24\r\n        duration = (duration - hours) / 24\r\n\r\n        var days = duration % 24\r\n\r\n        let returnVal = ''\r\n        if (days === 0 && hours === 0 && minutes === 0) returnVal = 0\r\n        else if (days < 0 || hours < 0 || minutes < 0) returnVal = null\r\n\r\n        if (days && days > 0) returnVal += days + ' Tag '\r\n        if (hours && hours > 0) returnVal += hours + 'h '\r\n        if (minutes && minutes > 0) returnVal += minutes + 'min '\r\n\r\n        return returnVal\r\n    },\r\n    /**\r\n     * gets data from wikivoyage for a given page name\r\n     * @param {string} pageName the page name to get data from\r\n     * @returns {object} object that contains title, shortDescription, description and imgSrc for the given page\r\n     */\r\n    getWikivoyageData (pageName) {\r\n        return new Promise((resolve, reject) => {\r\n            const headers = {\r\n                'Content-Type': 'application/json; charset=UTF-8'\r\n            }\r\n\r\n            let returnData = {}\r\n\r\n            getAxios().then(axios => {\r\n                axios.get('https://de.wikipedia.org/w/api.php?action=query&origin=*&format=json&exsentences=2&prop=description%7Cextracts%7Cpageimages&titles=' + pageName + '&exintro=1&explaintext=1&piprop=name%7Coriginal',\r\n                    { headers: headers })\r\n                    .then(function (response) {\r\n                        const pages = response.data.query.pages\r\n                        const firstPageName = Object.keys(pages)[0]\r\n\r\n                        returnData.title = pages[firstPageName].title\r\n                        returnData.shortDescription = pages[firstPageName].description\r\n                        returnData.description = pages[firstPageName].extract\r\n                        returnData.imgSrc = pages[firstPageName].original ? pages[firstPageName].original.source : ''\r\n\r\n                        resolve(returnData)\r\n                    }).catch(function (error) {\r\n                        console.log('Error' + error)\r\n\r\n                        resolve(null)\r\n                    })\r\n            }).catch(function (error) {\r\n                console.log('Error ' + error)\r\n                resolve(null)\r\n            })\r\n        })\r\n    },\r\n    getGooglePlacesData (lat, lng) {\r\n        return new Promise((resolve, reject) => {\r\n            const loader = new Loader({\r\n                apiKey: 'AIzaSyBVkBCl3dY49g3lyX8ns1SYsErNdkCO8sc',\r\n                version: 'weekly',\r\n                libraries: ['places']\r\n            })\r\n\r\n            // google is available here\r\n            loader.load().then(() => {\r\n                // eslint-disable-next-line no-undef\r\n                let map = new google.maps.Map(document.createElement('div'), {})\r\n\r\n                // eslint-disable-next-line no-undef\r\n                let service = new google.maps.places.PlacesService(map)\r\n\r\n                let request = {\r\n                    radius: 5000,\r\n                    language: 'de',\r\n                    type: 'tourist_attraction',\r\n                    location: { 'lat': parseFloat(lat), 'lng': parseFloat(lng) }\r\n                }\r\n\r\n                service.nearbySearch(request, (response) => {\r\n                    let returnDataArr = []\r\n\r\n                    response.forEach(poi => {\r\n                        let returnData = {}\r\n                        returnData.name = poi.name\r\n                        returnData.photoUrl = poi.photos[0].getUrl()\r\n                        returnData.placeId = poi.place_id\r\n                        returnData.rating = poi.rating\r\n                        returnData.totalRatings = poi.user_ratings_total\r\n                        returnData.location = poi.geometry.location\r\n                        returnData.location.lat = returnData.location.lat()\r\n                        returnData.location.lng = returnData.location.lng()\r\n                        returnData.nowOpen = poi.opening_hours ? poi.opening_hours.open_now : false\r\n\r\n                        returnData.location.label = poi.vicinity\r\n                        returnData.tags = poi.types\r\n\r\n                        returnDataArr.push(returnData)\r\n                    })\r\n\r\n                    resolve(returnDataArr)\r\n                })\r\n            })\r\n\r\n            //     const headers = {\r\n            //         'Content-Type': 'application/json; charset=UTF-8'\r\n            //     }\r\n\r\n            //     getAxios().then(axios => {\r\n            //         axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + lat + ',' + lng + '&radius=5000&language=de&type=tourist_attraction&key=AIzaSyBVkBCl3dY49g3lyX8ns1SYsErNdkCO8sc',\r\n            //             { headers: headers })\r\n            //             .then(function (response) {\r\n            //                 console.log(response)\r\n\r\n            //                 let returnDataArr = []\r\n\r\n            //                 const results = response.data.results\r\n\r\n            //                 results.forEach(poi => {\r\n            //                     let returnData = {}\r\n            //                     returnData.name = poi.name\r\n            //                     returnData.photoReference = poi.photos[0].photo_reference\r\n            //                     returnData.placeId = poi.place_id\r\n            //                     returnData.rating = poi.rating\r\n            //                     returnData.totalRatings = poi.user_ratings_total\r\n            //                     returnData.location = poi.geometry.location\r\n            //                     returnData.location.label = poi.vicinity\r\n            //                     returnData.tags = poi.types\r\n\r\n            //                     returnDataArr.push(returnData)\r\n            //                 })\r\n\r\n            //                 resolve(returnDataArr)\r\n            //             }).catch(function (error) {\r\n            //                 console.log('Error' + error)\r\n\r\n            //                 resolve(null)\r\n            //             })\r\n            //     }).catch(function (error) {\r\n            //         console.log('Error ' + error)\r\n            //         resolve(null)\r\n            //     })\r\n        })\r\n    },\r\n    /**\r\n     * check if there is no other roundtrip with given name\r\n     */\r\n    isUniqueTitle (value) {\r\n        return new Promise((resolve, reject) => {\r\n            value = value.toLowerCase()\r\n            value = value.charAt(0).toUpperCase() + value.slice(1)\r\n            value = value.trim()\r\n            let roundtripsRef = db.collection('Roundtrips')\r\n                .where('Title', '==', value)\r\n                .limit(1)\r\n            roundtripsRef.get()\r\n                .then(snapshot => {\r\n                    resolve(snapshot.size === 0 || 'Dieser Titel ist bereits vergeben')\r\n                }).catch(function (error) {\r\n                    console.log('Error ' + error)\r\n                    resolve(null)\r\n                })\r\n        })\r\n    },\r\n    /**\r\n     * gets a parent component\r\n     * @param {String} name name of the parent to get\r\n     */\r\n    getParent (name, context) {\r\n        let p = context.$parent\r\n        while (typeof p !== 'undefined') {\r\n            if (p.$options.name === name) {\r\n                return p\r\n            } else {\r\n                p = p.$parent\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    /**\r\n     * gets suggested sights from amadeus api for given coordinates\r\n     */\r\n    getSights (long, lat) {\r\n        return new Promise((resolve, reject) => {\r\n            const url = 'https://api.amadeus.com/v1/security/oauth2/token'\r\n\r\n            const headers = {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            }\r\n\r\n            const data = querystring.stringify({\r\n                grant_type: 'client_credentials', // gave the values directly for testing\r\n                client_id: 'SEW3oULNfsxB4xOMAwY291ilj9bwWekH',\r\n                client_secret: 'lHQlUheyyAZtGQDA'\r\n            })\r\n\r\n            getAxios().then(axios => {\r\n                axios.post(url, data, {\r\n                    headers: headers,\r\n                    form: {\r\n                        'grant_type': 'client_credentials',\r\n                        'client_id': 'SEW3oULNfsxB4xOMAwY291ilj9bwWekH',\r\n                        'client_secret': 'lHQlUheyyAZtGQDA'\r\n                    }\r\n                }).then(function (response) {\r\n                    let token = response.data.access_token\r\n                    const tokenString = 'Bearer ' + token\r\n\r\n                    console.log(token)\r\n\r\n                    axios.get('https://api.amadeus.com/v1/reference-data/locations/pois?latitude=' + lat + '&longitude=' + long + '&radius=10&page[limit]=5&page[offset]=0&categories=SIGHTS', {\r\n                        headers: {\r\n                            'Authorization': tokenString\r\n                        }\r\n                    }).then(function (response) {\r\n                        resolve(response)\r\n                    }).catch(function (error) {\r\n                        console.log('Error' + error)\r\n                        resolve(null)\r\n                    })\r\n                }).catch(function (error) {\r\n                    console.log('Error on Authentication' + error)\r\n                    resolve(null)\r\n                })\r\n            })\r\n        })\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"public-user-profile  q-px-lg q-pb-md\"},[_c('router-link',{attrs:{\"to\":\"/benutzer\"}},[_vm._v(_vm._s(!_vm.isOnPrivateUserPage ? 'zurck zu allen Nutzern' : 'User Ranking ansehen'))]),_c('h3',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.userName)+\" \"+_vm._s(!isNaN(_vm.reputation) ? '(Reputation: ' + _vm.reputation + ')' : '')+\"\\n    \"),(_vm.trustedUser)?_c('q-badge',{staticStyle:{\"border-radius\":\"50%\",\"padding\":\"2px\",\"padding-top\":\"2.5px\"},attrs:{\"align\":\"top\",\"color\":\"blue\"}},[_c('q-icon',{attrs:{\"name\":\"done\",\"color\":\"white\",\"size\":\"18px\"}}),_c('q-tooltip',[_vm._v(\"Dies ist ein von Roundtrips4you anerkannter User\")])],1):_vm._e(),(_vm.userName === 'Roundtrips4you')?_c('q-badge',{staticStyle:{\"border-radius\":\"50%\",\"padding\":\"2px\",\"padding-top\":\"2.5px\"},attrs:{\"align\":\"top\",\"color\":\"primary\"}},[_c('q-icon',{attrs:{\"name\":\"star\",\"color\":\"white\",\"size\":\"18px\"}}),_c('q-tooltip',[_vm._v(\"Dies ist der Account von Roundtrips4you : )\")])],1):_vm._e()],1),(_vm.userSince)?_c('span',[_vm._v(\"Mitglied seit \"+_vm._s(_vm.userSince))]):_vm._e(),_c('br'),(_vm.companyWebsite)?_c('span',[_vm._v(\"Unternehmenswebsite:\\n    \"),_c('a',{on:{\"click\":function($event){return _vm.openInNewTab(_vm.companyWebsite)}}},[_vm._v(_vm._s(_vm.companyWebsite))])]):_vm._e(),_c('br'),(_vm.companyDescription)?_c('span',{staticStyle:{\"max-width\":\"460px\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.companyDescription)+\"\\n  \")]):_vm._e(),_c('div',{staticClass:\"flex justify-between details-container\",staticStyle:{\"margin-top\":\"10px\"}},[_c('div',[_c('h3',[_vm._v(\"Reputation\")]),_c('ul',[_c('li',[_vm._v(\"100 fr \\\"Nutzer der 1. Stunde\\\" Badge\")]),_c('li',[_vm._v(_vm._s(_vm.publishedRoundtrips ? _vm.publishedRoundtrips * 50 : 0)+\" fr verffentlichte Rundreisen\")]),_c('li',[_vm._v(_vm._s(_vm.userRTEdited ? _vm.userRTEdited * 25 : 0)+\" fr eigene Rundreisen die bearbeitet wurden\")])])]),_c('div',[_c('h3',[_vm._v(\"Inhalte\")]),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.publishedRoundtrips)+\" ffentliche Rundreise\"+_vm._s(_vm.publishedRoundtrips === 1 ? '' : 'n')+\" erstellt\")]),_c('li',[_vm._v(_vm._s(_vm.userRTEdited ? _vm.userRTEdited : 0)+\"x wurden Reisen bereits bearbeitet\")])])]),_c('div',[_c('h3'),_c('q-img',{attrs:{\"width\":\"100px\",\"src\":_vm.userImage}})],1)]),_c('div',{staticClass:\"badge-container\"},[_c('h3',[_vm._v(\"Badges\")]),_c('b',[_vm._v(\"Erste Schritte\")]),_c('div',[_c('q-badge',{attrs:{\"color\":\"secondary\"}},[_vm._v(\"Nutzer der 1. Stunde\")])],1),_c('b',[_vm._v(\"Reisen\")]),_c('div',[(_vm.publishedRoundtrips < 5)?_c('q-badge',{attrs:{\"disabled\":_vm.publishedRoundtrips < 1,\"color\":\"secondary\"}},[_vm._v(\"Reiseanfnger \"),_c('q-tooltip',[_vm._v(\"(min. 1 Reise verffentlicht)\")])],1):_vm._e(),(_vm.publishedRoundtrips <= 10)?_c('q-badge',{attrs:{\"disabled\":_vm.publishedRoundtrips < 5,\"color\":\"secondary\"}},[_vm._v(\"Reiselustiger \"),_c('q-tooltip',[_vm._v(\"(min. 5 Reisen verffentlicht)\")])],1):_vm._e(),_c('q-badge',{attrs:{\"disabled\":_vm.publishedRoundtrips <= 10,\"color\":\"secondary\"}},[_vm._v(\"Reiseexperte \"),_c('q-tooltip',[_vm._v(\"(mehr als 10 Reisen verffentlicht)\")])],1),_c('q-badge',{attrs:{\"disabled\":!_vm.userRTEdited || _vm.userRTEdited <= 5,\"color\":\"secondary\"}},[_vm._v(\"Reisevermittler \"),_c('q-tooltip',[_vm._v(\"(mehr als 5 eigene Rundreisen, die bearbeitet wurden)\")])],1)],1)]),_c('div',{staticClass:\"roundtrip-container\"},[_c('h3',[_vm._v(\"Verffentlichte Reisen\")]),_c('q-list',{attrs:{\"bordered\":_vm.createdRoundtrips.length > 0}},[(_vm.showRoundtrips)?_c('div',[(_vm.createdRoundtrips.length === 0)?_c('div',[_c('span',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(_vm._s(_vm.userName)+\" hat leider noch keine Rundreisen verffentlicht.\")])]):_vm._e(),_vm._l((_vm.createdRoundtrips),function(roundtrip,index){return _c('q-item',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],key:roundtrip.RTId,attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/rundreise-ansehen/' + roundtrip.RTId)}}},[_c('q-item-section',{attrs:{\"avatar\":\"\",\"top\":\"\"}},[_c('q-avatar',{staticStyle:{\"padding\":\"0\"},attrs:{\"color\":\"primary\",\"text-color\":\"white\"}},[_c('img',{attrs:{\"src\":_vm.TitleImgs[index]}})])],1),_c('q-item-section',[_c('q-item-label',{attrs:{\"lines\":\"1\"}},[_vm._v(_vm._s(roundtrip.Title)+\" - \"+_vm._s(Array.isArray(roundtrip.Location) ? _vm.getLocationString(roundtrip.Location): roundtrip.Location))]),_c('q-item-label',{staticStyle:{\"width\":\"100px\"},attrs:{\"caption\":\"\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.getCreatedAtDate(roundtrip.createdAt))+\"\\n              \"),_c('q-tooltip',[_vm._v(\"\\n                Diese Rundreise wurde am \"+_vm._s(_vm.getCreatedAtDate(roundtrip.createdAt))+\" erstellt\\n              \")])],1)],1),_c('q-item-section',{attrs:{\"side\":\"\"}},[_c('q-icon',{attrs:{\"name\":\"keyboard_arrow_right\",\"color\":\"primary\"}})],1)],1)})],2):_c('div',_vm._l((3),function(n){return _c('q-item',{key:n},[_c('q-item-section',{staticStyle:{\"padding\":\"8px 10px\"},attrs:{\"avatar\":\"\",\"top\":\"\"}},[_c('q-skeleton',{attrs:{\"size\":\"40px\",\"type\":\"QAvatar\"}})],1),_c('q-item-section',[_c('q-skeleton',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"width\":\"300px\",\"type\":\"rect\"}}),_c('q-item-label',{attrs:{\"caption\":\"\"}},[_c('q-skeleton',{attrs:{\"width\":\"80px\",\"type\":\"rect\"}})],1)],1)],1)}),1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"public-user-profile  q-px-lg q-pb-md\">\r\n    <router-link to=\"/benutzer\">{{!isOnPrivateUserPage ? 'zurck zu allen Nutzern' : 'User Ranking ansehen'}}</router-link>\r\n    <h3 class=\"user-name\">{{userName}} {{ !isNaN(reputation) ? '(Reputation: ' + reputation + ')' : ''}}\r\n      <q-badge\r\n        v-if=\"trustedUser\"\r\n        align=\"top\"\r\n        color=\"blue\"\r\n        style=\"border-radius:50%; border-radius: 50%; padding: 2px; padding-top: 2.5px;\"\r\n      >\r\n        <q-icon\r\n          name=\"done\"\r\n          color=\"white\"\r\n          size=\"18px\"\r\n        />\r\n        <q-tooltip>Dies ist ein von Roundtrips4you anerkannter User</q-tooltip>\r\n      </q-badge>\r\n      <q-badge\r\n        v-if=\"userName === 'Roundtrips4you'\"\r\n        align=\"top\"\r\n        color=\"primary\"\r\n        style=\"border-radius:50%; border-radius: 50%; padding: 2px; padding-top: 2.5px;\"\r\n      >\r\n        <q-icon\r\n          name=\"star\"\r\n          color=\"white\"\r\n          size=\"18px\"\r\n        />\r\n        <q-tooltip>Dies ist der Account von Roundtrips4you : )</q-tooltip>\r\n      </q-badge>\r\n    </h3>\r\n    <span v-if=\"userSince\">Mitglied seit {{userSince}}</span>\r\n    <br>\r\n    <span v-if=\"companyWebsite\">Unternehmenswebsite:\r\n      <a @click=\"openInNewTab(companyWebsite)\">{{companyWebsite}}</a>\r\n    </span>\r\n    <br>\r\n    <span\r\n      v-if=\"companyDescription\"\r\n      style=\"max-width:460px;\"\r\n    >\r\n      {{companyDescription}}\r\n    </span>\r\n    <div\r\n      style=\"margin-top:10px;\"\r\n      class=\"flex justify-between details-container\"\r\n    >\r\n      <div>\r\n        <h3>Reputation</h3>\r\n        <ul>\r\n          <li>100 fr \"Nutzer der 1. Stunde\" Badge</li>\r\n          <li>{{ publishedRoundtrips ? publishedRoundtrips * 50 : 0 }} fr verffentlichte Rundreisen</li>\r\n          <!-- <li>fr hilfreiche Kommentare</li> -->\r\n          <!-- <li>fr Bewertungen</li> -->\r\n          <!-- <li>fr folgende Nutzer</li> -->\r\n          <li>{{ userRTEdited ? userRTEdited * 25 : 0}} fr eigene Rundreisen die bearbeitet wurden</li>\r\n        </ul>\r\n      </div>\r\n      <div>\r\n        <h3>Inhalte</h3>\r\n        <ul>\r\n          <li>{{ publishedRoundtrips }} ffentliche Rundreise{{ publishedRoundtrips === 1 ? '' : 'n' }} erstellt</li>\r\n          <!-- <li>hilfreiche Kommentare erstellt</li> -->\r\n          <!-- <li>Bewertungen erstellt</li> -->\r\n          <!-- <li>Follower</li> -->\r\n          <li>{{ userRTEdited ? userRTEdited : 0 }}x wurden Reisen bereits bearbeitet</li>\r\n        </ul>\r\n      </div>\r\n      <div>\r\n        <h3></h3>\r\n        <q-img\r\n          width=\"100px\"\r\n          :src=\"userImage\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"badge-container\">\r\n      <h3>Badges</h3>\r\n      <b>Erste Schritte</b>\r\n      <div>\r\n        <q-badge color=\"secondary\">Nutzer der 1. Stunde</q-badge>\r\n        <!-- <q-badge color=\"secondary\">Newbie</q-badge> -->\r\n      </div>\r\n      <b>Reisen</b>\r\n      <div>\r\n        <q-badge\r\n          v-if=\"publishedRoundtrips < 5\"\r\n          :disabled=\"publishedRoundtrips < 1\"\r\n          color=\"secondary\"\r\n        >Reiseanfnger <q-tooltip>(min. 1 Reise verffentlicht)</q-tooltip>\r\n        </q-badge>\r\n        <q-badge\r\n          v-if=\"publishedRoundtrips <= 10\"\r\n          :disabled=\"publishedRoundtrips < 5\"\r\n          color=\"secondary\"\r\n        >Reiselustiger <q-tooltip>(min. 5 Reisen verffentlicht)</q-tooltip>\r\n        </q-badge>\r\n        <q-badge\r\n          :disabled=\"publishedRoundtrips <= 10\"\r\n          color=\"secondary\"\r\n        >Reiseexperte <q-tooltip>(mehr als 10 Reisen verffentlicht)</q-tooltip>\r\n        </q-badge>\r\n        <q-badge\r\n          :disabled=\"!userRTEdited || userRTEdited <= 5\"\r\n          color=\"secondary\"\r\n        >Reisevermittler <q-tooltip>(mehr als 5 eigene Rundreisen, die bearbeitet wurden)</q-tooltip>\r\n        </q-badge>\r\n        <!-- <q-badge color=\"secondary\">DaFehltNochWas (mehr als 5 Reisen bearbeitet)</q-badge> -->\r\n      </div>\r\n      <!-- <b>Community</b>\r\n      <div>\r\n        <q-badge color=\"secondary\">Ratgeber (mehr als 10 Kommentare verfasst)</q-badge>\r\n        <q-badge color=\"secondary\">Reisetester (mehr als 10 Bewertungen abgegeben)</q-badge>\r\n        <q-badge color=\"secondary\">Berhmtheit (mehr als 20 Follower)</q-badge>\r\n      </div> -->\r\n    </div>\r\n    <div class=\"roundtrip-container\">\r\n      <h3>Verffentlichte Reisen</h3>\r\n      <q-list :bordered=\"createdRoundtrips.length > 0\">\r\n        <div v-if=\"showRoundtrips\">\r\n          <div v-if=\"createdRoundtrips.length === 0\">\r\n            <span style=\"font-size:18px;\">{{userName}} hat leider noch keine Rundreisen verffentlicht.</span>\r\n          </div>\r\n          <q-item\r\n            clickable\r\n            @click=\"$router.push('/rundreise-ansehen/' + roundtrip.RTId)\"\r\n            v-ripple\r\n            v-for=\"(roundtrip, index) in createdRoundtrips\"\r\n            :key=\"roundtrip.RTId\"\r\n          >\r\n            <q-item-section\r\n              avatar\r\n              top\r\n            >\r\n              <q-avatar\r\n                color=\"primary\"\r\n                text-color=\"white\"\r\n                style=\"padding:0;\"\r\n              >\r\n                <img :src=\"TitleImgs[index]\">\r\n              </q-avatar>\r\n            </q-item-section>\r\n\r\n            <q-item-section>\r\n              <q-item-label lines=\"1\">{{roundtrip.Title}} - {{Array.isArray(roundtrip.Location) ? getLocationString(roundtrip.Location): roundtrip.Location}}</q-item-label>\r\n              <q-item-label\r\n                caption\r\n                style=\"width:100px;\"\r\n              >\r\n                {{ getCreatedAtDate(roundtrip.createdAt) }}\r\n                <q-tooltip>\r\n                  Diese Rundreise wurde am {{ getCreatedAtDate(roundtrip.createdAt) }} erstellt\r\n                </q-tooltip>\r\n              </q-item-label>\r\n            </q-item-section>\r\n\r\n            <q-item-section side>\r\n              <q-icon\r\n                name=\"keyboard_arrow_right\"\r\n                color=\"primary\"\r\n              />\r\n            </q-item-section>\r\n          </q-item>\r\n        </div>\r\n        <div v-else>\r\n          <q-item\r\n            v-for=\"n in 3\"\r\n            :key=\"n\"\r\n          >\r\n            <q-item-section\r\n              avatar\r\n              top\r\n              style=\"padding:8px 10px;\"\r\n            >\r\n              <q-skeleton\r\n                size=\"40px\"\r\n                type=\"QAvatar\"\r\n              />\r\n            </q-item-section>\r\n\r\n            <q-item-section>\r\n              <q-skeleton\r\n                width=\"300px\"\r\n                style=\"margin-bottom:10px;\"\r\n                type=\"rect\"\r\n              />\r\n              <q-item-label caption>\r\n                <q-skeleton\r\n                  width=\"80px\"\r\n                  type=\"rect\"\r\n                />\r\n              </q-item-label>\r\n            </q-item-section>\r\n          </q-item>\r\n        </div>\r\n      </q-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport(/* webpackPrefetch: true */ '../css/publicUserProfile.less')\r\nimport { db, storage, auth } from '../firebaseInit.js'\r\nimport { date } from 'quasar'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      userName: null,\r\n      userImage: null,\r\n      publishedRoundtrips: 0,\r\n      reputation: 0,\r\n      userRTEdited: 0,\r\n      createdRoundtrips: [],\r\n      showRoundtrips: false,\r\n      TitleImgs: [],\r\n      userSince: null,\r\n      trustedUser: false,\r\n      title: 'User',\r\n      companyWebsite: null,\r\n      companyDescription: null,\r\n      isOnPrivateUserPage: false\r\n    }\r\n  },\r\n  meta () {\r\n    return {\r\n      title: 'Profil von ' + this.title,\r\n      meta: {\r\n        description: { name: 'description', content: 'Profil von ' + this.title + ' auf roundtrips4you ansehen. Reise planen komplett kostenlos, online und unkompliziert. Dein kostenloser Reiseplaner' }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    // get user data\r\n    let UserId = this.$route.params.id\r\n    if (!UserId) {\r\n      this.isOnPrivateUserPage = true\r\n      UserId = auth.user().uid\r\n    }\r\n    console.log(UserId)\r\n    if (UserId) {\r\n      let userRef = db.collection('User')\r\n        .where('UserUID', '==', UserId)\r\n        .limit(1)\r\n      userRef.get()\r\n        .then(snapshot => {\r\n          snapshot.forEach(doc => {\r\n            this.userImage = doc.data().UserImage\r\n            this.userName = doc.data().UserName\r\n            this.userRTEdited = doc.data().RTEdited\r\n            this.userSince = this.getCreatedAtDate(doc.data().createdAt)\r\n            this.trustedUser = !!doc.data().TrustedUser\r\n            this.companyWebsite = doc.data().website\r\n            this.companyDescription = doc.data().companyDescription\r\n            this.title = this.userName\r\n          })\r\n        })\r\n      this.getPublishedRoundtrips(UserId)\r\n    }\r\n  },\r\n  methods: {\r\n    getPublishedRoundtrips (userId) {\r\n      let roundtripsRef = db.collection('Roundtrips')\r\n        .where('UserId', '==', userId)\r\n        .where('Public', '==', true)\r\n      roundtripsRef.get()\r\n        .then(snapshot => {\r\n          if (snapshot.empty) this.showRoundtrips = true\r\n          snapshot.forEach(doc => {\r\n            this.publishedRoundtrips += 1\r\n            this.createdRoundtrips.push(doc.data())\r\n\r\n            let roundtripDocIds = []\r\n            roundtripDocIds.splice(this.createdRoundtrips.findIndex(x => x.RTId === doc.data().RTId), 0, doc.id)\r\n\r\n            let context = this\r\n            var fileRef = storage.ref().child('Images/Roundtrips/' + doc.id + '/Title/titleImg')\r\n            fileRef.getDownloadURL().then(function (url) {\r\n              context.TitleImgs.splice(roundtripDocIds.indexOf(doc.id), 0, url)\r\n            }).catch(function (error) {\r\n              console.log(error)\r\n              context.TitleImgs.splice(roundtripDocIds.indexOf(doc.id), 0, '../statics/dummy-image-landscape-1-150x150.jpg')\r\n            })\r\n\r\n            this.showRoundtrips = true\r\n          })\r\n          this.getReputation(userId)\r\n        }).catch(function (error) {\r\n          console.log(error)\r\n          this.showRoundtrips = true\r\n        })\r\n    },\r\n    getReputation (userId) {\r\n      let publicRT = this.publishedRoundtrips * 50\r\n      let editedRT = this.userRTEdited * 25\r\n      this.reputation = publicRT + editedRT + 100\r\n    },\r\n    getLocationString (locations) {\r\n      let locationString = ''\r\n      locations.forEach((location, index) => {\r\n        locationString = locationString + (index !== 0 ? ', ' : '') + location\r\n      })\r\n      return locationString\r\n    },\r\n    getCreatedAtDate (timeStamp) {\r\n      return date.formatDate(new Date(timeStamp.seconds * 1000), 'DD.MM.YYYY')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicUserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicUserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicUserProfile.vue?vue&type=template&id=4f1955dc&\"\nimport script from \"./PublicUserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicUserProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=4942ad0a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=4942ad0a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",staticStyle:{\"overflow\":\"hidden\"}},[_c('q-inner-loading',{staticStyle:{\"z-index\":\"1\"},attrs:{\"showing\":_vm.loading}},[_c('q-spinner',{attrs:{\"size\":\"42px\",\"color\":\"primary\"}}),_c('p',{staticClass:\"font-medium\",staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"Karte wird geladen\")])],1),_c('MglMap',{style:('height:' + (_vm.height ? _vm.height : '500px;')),attrs:{\"accessToken\":_vm.accTo,\"mapStyle\":_vm.mapStyle,\"center\":_vm.centerLocation,\"zoom\":6,\"mapboxGl\":_vm.mapbox,\"attributionControl\":false,\"logoPosition\":\"bottom-left\",\"keyboard\":\"\",\"doubleClickZoom\":\"\"},on:{\"update:mapStyle\":function($event){_vm.mapStyle=$event},\"update:map-style\":function($event){_vm.mapStyle=$event},\"load\":_vm.onMapLoaded}},[(_vm.editor)?_c('MglGeocoderControl',{attrs:{\"accessToken\":_vm.accTo,\"placeholder\":\"Ort suchen\"},on:{\"result\":_vm.handleSearch}}):_vm._e(),_c('MglNavigationControl',{attrs:{\"position\":\"top-right\"}}),_c('MapLayerPlugin',{staticClass:\"mapboxgl-ctrl\",attrs:{\"position\":\"top-right\"}}),_c('q-btn',{staticStyle:{\"position\":\"absolute\",\"right\":\"9px\",\"top\":\"220px\"},attrs:{\"color\":\"white\",\"text-color\":\"secondary\",\"icon\":\"apartment\"},on:{\"click\":function($event){_vm.showSuggestionCountryDialog = true; _vm.showDrawerList = false; _vm.miniDisabled = true;}}}),_c('MglFullscreenControl',{attrs:{\"position\":\"bottom-right\"}}),_vm._l((_vm.stops),function(stop){return _c('MglMarker',{key:stop.DocId,ref:\"stopMarker\",refInFor:true,attrs:{\"coordinates\":stop.HotelName && stop.HotelLocation && !isNaN(stop.HotelLocation.lat) ? [stop.HotelLocation.lat, stop.HotelLocation.lng] : [stop.Location.lng, stop.Location.lat],\"color\":\"#D56026\"},on:{\"click\":function($event){return _vm.onMarkerClicked($event, stop.HotelLocation ? stop.HotelLocation.label : stop.Location.label )}}},[_c('MglPopup',[_c('q-card',[(stop.StopImages)?_c('q-img',{attrs:{\"width\":\"240px\",\"height\":\"135px\",\"src\":stop.StopImages[0]}}):_vm._e(),_c('q-img',{attrs:{\"width\":\"240px\",\"height\":\"135px\",\"src\":_vm.lastPOICityData.img && _vm.lastPOICityData.img.split('/')[0] === 'https:' ? _vm.lastPOICityData.img : _vm.lastPOICityData.imgSrc}}),_c('q-card-section',[_c('div',{staticClass:\"font-large\",staticStyle:{\"line-height\":\"normal\"}},[_vm._v(\"\\n              \"+_vm._s(stop.Title)+\"\\n            \")]),_c('div',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.lastPOICityData.shortDescription)+\"\\n              \"),(stop.GeneralLink && stop.GeneralLink.length > 0)?_c('p',[_c('q-icon',{attrs:{\"name\":\"house\"}}),_c('a',{attrs:{\"href\":stop.GeneralLink,\"target\":\"blank\"}},[_vm._v(_vm._s(_vm.capitalize(stop.HotelName)))])],1):_vm._e()])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(stop),expression:\"stop\"}],attrs:{\"flat\":\"\",\"label\":\"POIs\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.showSightDetails(stop.Location.lat, stop.Location.lng)}}})],1)],1)],1)],1)}),_vm._l((_vm.stops),function(stop){return _vm._l((stop.DailyTrips),function(dailyTrip){return _c('MglMarker',{key:dailyTrip.id,attrs:{\"coordinates\":[dailyTrip.location.lng, dailyTrip.location.lat],\"color\":\"#D56026\"},on:{\"click\":function($event){return _vm.onMarkerClicked($event, dailyTrip.location.label)}}},[_c('MglPopup',[_c('q-card',[(dailyTrip.StopImages)?_c('q-img',{attrs:{\"width\":\"240px\",\"height\":\"135px\",\"src\":dailyTrip.StopImages[0]}}):_vm._e(),_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"\\n                \"+_vm._s(dailyTrip.location.label.split(',')[0])+\" - Tagesausflug von \"+_vm._s(stop.Location.label ? stop.Location.label.split(',')[0] : '')+\"\\n              \")]),_c('div',{staticClass:\"text-subtitle2\"},[_c('p',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('q-icon',{attrs:{\"name\":\"location_on\"}}),_c('a',{attrs:{\"target\":\"_blank\",\"href\":'https://www.google.com/maps/search/?api=1&query=' + dailyTrip.location.label}},[_vm._v(_vm._s(dailyTrip.location.label))])],1)])])],1)],1)],1)})}),(_vm.editor)?_c('MglMarker',{ref:\"addStopMarker\",attrs:{\"coordinates\":_vm.lastClickCoordinates,\"color\":\"#70707075\",\"offset\":[5, 10]},on:{\"click\":function($event){return _vm.onMarkerClicked($event, _vm.title)}}},[_c('MglPopup',[_c('q-card',[_c('q-img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lastPOICityData.img),expression:\"lastPOICityData.img\"}],attrs:{\"src\":_vm.lastPOICityData.img && _vm.lastPOICityData.img.split('/')[0] === 'https:' ? _vm.lastPOICityData.img : _vm.lastPOICityData.imgSrc}}),_c('q-card-section',{staticStyle:{\"padding-left\":\"10px\",\"padding-top\":\"10px\"}},[_c('span',{staticClass:\"font-large\",staticStyle:{\"line-height\":\"normal\"}},[_vm._v(_vm._s(_vm.title ? _vm.title : 'gesetzter Punkt'))]),_c('div',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.lastPOICityData.shortDescription)+\"\\n            \")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{attrs:{\"flat\":\"\",\"label\":\"Infos\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.showSightDetails(_vm.lastClickCoordinates[1], _vm.lastClickCoordinates[0])}}}),_c('q-btn',{attrs:{\"flat\":\"\",\"label\":\"Ort hinzufgen\",\"color\":\"primary\"},on:{\"click\":_vm.addStop}})],1)],1)],1)],1):_vm._e(),_c('q-dialog',{model:{value:(_vm.showDetailsDialog),callback:function ($$v) {_vm.showDetailsDialog=$$v},expression:\"showDetailsDialog\"}},[(_vm.lastPOICityData)?_c('div',[_c('q-card',[_c('q-img',{attrs:{\"src\":_vm.lastPOICityData.img}}),_c('q-card-section',[_c('div',{staticStyle:{\"padding-left\":\"10px\",\"padding-top\":\"10px\"}},[_c('span',{staticClass:\"font-large\"},[_vm._v(_vm._s(_vm.lastPOICityData.title))]),_c('div',[_vm._v(\"\\n                \"+_vm._s(_vm.lastPOICityData.description)+\"\\n              \")]),_c('div',{staticClass:\"font-medium\",staticStyle:{\"padding-top\":\"20px\",\"padding-bottom\":\"10px\"}},[_vm._v(_vm._s(_vm.suggestedPOIs.length)+\" Top Sehenswrdigkeiten\")])]),_vm._l((_vm.suggestedPOIs),function(poi,index){return _c('q-card',{key:index,staticClass:\"city-card cursor-pointer\",attrs:{\"id\":'POI' + poi.name},on:{\"mouseover\":function($event){return _vm.markPOIOnMap(poi)},\"mouseleave\":function($event){return _vm.hidePOIOnMap(poi)},\"click\":function($event){return _vm.flyTo(poi.location.lat, poi.location.lng)}}},[_c('div',[_c('div',[(poi.photoUrl)?_c('q-img',{staticStyle:{\"height\":\"170px\"},attrs:{\"alt\":'Bild von'  + poi.name,\"src\":poi.photoUrl,\"placeholder-src\":\"statics/dummy-image-landscape-1-150x150.jpg\"}},[_c('div',{staticClass:\"absolute-bottom text-h6 ellipsis\"},[_vm._v(_vm._s(poi.name)+\"\\n                      \"),_c('q-tooltip',[_vm._v(_vm._s(poi.name))])],1)]):_vm._e()],1),_c('div',{staticClass:\"rating-text\"},[_vm._v(\"\\n                  \"+_vm._s(poi.rating)+\"\\n                  \"),_c('q-rating',{staticClass:\"stars\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"value\":poi.rating,\"size\":\"15px\",\"color\":\"gold\",\"readonly\":\"\"}}),_vm._v(\"\\n                  (\"+_vm._s(poi.totalRatings)+\")\\n                \")],1),_c('a',{attrs:{\"href\":'https://www.google.com/maps/search/?api=1&query=' + poi.name,\"target\":\"_blank\"}},[_c('q-card-section',{staticStyle:{\"color\":\"#707070\"}},[_c('q-icon',{attrs:{\"name\":\"location_on\"}}),_vm._v(\"\\n                    \"+_vm._s(poi.location.label)+\"\\n                  \")],1)],1)])])})],2)],1)],1):_vm._e()]),_vm._l((_vm.stops),function(stop,index){return _c('div',{key:'StopContainer' + stop.DocId + index},[(stop.Parking && typeof stop.Parking !== 'undefined' && !isNaN(stop.Parking.lng))?_c('MglMarker',{key:'Stop' + stop.DocId,attrs:{\"coordinates\":[stop.Parking.lng, stop.Parking.lat],\"color\":\"#D56026\"},on:{\"click\":function($event){return _vm.onMarkerClicked($event)}}},[_c('MglPopup',[_c('q-card',[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"center\",\"padding-top\":\"5px\"}},[_c('q-icon',{attrs:{\"name\":\"fas fa-parking\",\"size\":\"30px\"}})],1),_c('q-card-section',[_c('p',[_vm._v(_vm._s(stop.parkingPlace && typeof stop.parkingPlace !== 'undefined' &&  stop.parkingPlace.label && typeof stop.parkingPlace.label !== 'undefined' ? stop.Parking.label.split(',')[0] : 'Parkplatz fr ' + stop.Title))])])],1)],1)],1):_vm._e()],1)}),(_vm.showCityMarkers)?_vm._l((_vm.suggestedCities),function(city,index){return _c('MglMarker',{key:city.name + index,attrs:{\"coordinates\":[city.longitude, city.latitude],\"offset\":[10, 5]},on:{\"click\":function($event){_vm.onMarkerClicked($event, city.name); _vm.goToCity(city.name)}}},[_c('q-icon',{ref:'cityMarkerIcon' + index,refInFor:true,attrs:{\"slot\":\"marker\",\"name\":\"place\",\"color\":\"amber-14\",\"size\":\"30px\"},slot:\"marker\"}),_c('MglPopup',[_c('q-card',[_c('q-img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lastPOICityData.img),expression:\"lastPOICityData.img\"}],attrs:{\"src\":_vm.lastPOICityData.img && _vm.lastPOICityData.img.split('/')[0] === 'https:' ? _vm.lastPOICityData.img : _vm.lastPOICityData.imgSrc}}),_c('q-card-section',{staticStyle:{\"padding-left\":\"10px\",\"padding-top\":\"10px\"}},[_c('span',{staticClass:\"font-large\",staticStyle:{\"line-height\":\"normal\"}},[_vm._v(_vm._s(city.name ? city.name : 'gesetzter Punkt'))]),_c('div',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.lastPOICityData.shortDescription)+\"\\n                \"),_c('br'),_c('br'),_vm._v(\"\\n                vorgeschlagen fr \"+_vm._s(_vm.suggestionCountry)+\"\\n              \")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{attrs:{\"flat\":\"\",\"label\":\"Infos\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.showSightDetails(city.latitude, city.longitude)}}}),_c('q-btn',{attrs:{\"flat\":\"\",\"label\":\"Ort hinzufgen\",\"color\":\"primary\"},on:{\"click\":_vm.addStop}})],1)],1)],1)],1)}):_vm._e(),(_vm.showPOIMarkers)?_vm._l((_vm.suggestedPOIs),function(poi,index){return _c('MglMarker',{key:poi.name + index,attrs:{\"coordinates\":[poi.location.lng, poi.location.lat],\"offset\":[10, 5]},on:{\"click\":function($event){_vm.onMarkerClicked($event, poi.name); _vm.goToCity(poi.name)}}},[_c('q-icon',{ref:'poiMarkerIcon' + index,refInFor:true,attrs:{\"slot\":\"marker\",\"name\":\"place\",\"color\":\"amber-14\",\"size\":\"30px\"},slot:\"marker\"}),_c('MglPopup',[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"\\n                \"+_vm._s(poi.name)+\"\\n              \")]),_c('p',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"vorgeschlagener Ort fr \"+_vm._s(poi.location.label.substring(poi.location.label.lastIndexOf(',') + 1, poi.location.label.length)))])])],1)],1)],1)}):_vm._e(),_vm._l((_vm.addedRoutes),function(route,index){return _c('MglMarker',{key:route.id + index,ref:route.id,refInFor:true,attrs:{\"coordinates\":route.location,\"color\":route.color},on:{\"click\":function($event){return _vm.onMarkerClicked($event)}}},[_c('q-icon',{style:({'color': route.color, 'background-color': 'white', 'border-radius': '50%'}),attrs:{\"slot\":\"marker\",\"name\":\"speed\"},slot:\"marker\"}),_c('MglPopup',[(route.duration)?_c('q-card',[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"center\",\"padding-top\":\"5px\"}},[_c('q-icon',{attrs:{\"name\":\"fas fa-route\",\"size\":\"30px\"}})],1),_c('q-card-section',[_c('div',[_vm._v(_vm._s(route.duration)+\" \"+_vm._s(route.origin ? 'von ' + route.origin : '')+\" bis \"+_vm._s(route.destination)+\" \"+_vm._s(route.distance !== null ? '(' + route.distance + ')' : null))]),(route.origin !== route.destination)?_c('a',{attrs:{\"target\":\"_blank\",\"href\":'https://www.google.com/maps/dir/?api=1&origin=' + route.origin + '&destination=' + route.destination}},[_vm._v(\"auf Google ansehen\")]):_vm._e()])],1):_c('q-card',[_c('q-card-section',[_c('div',[_vm._v(_vm._s(route.distance)+\" mit dem Flugzeug \"+_vm._s(_vm.addedRoutes[index -1] ? 'von ' + _vm.addedRoutes[index - 1].destination : '')+\" nach \"+_vm._s(route.destination))])])],1)],1)],1)})],2),_c('q-dialog',{model:{value:(_vm.showSuggestionCountryDialog),callback:function ($$v) {_vm.showSuggestionCountryDialog=$$v},expression:\"showSuggestionCountryDialog\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"font-medium\"},[_c('p',[_vm._v(\"Land fr Stdtevorschlge whlen\")]),_c('q-select',{attrs:{\"outlined\":\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",\"options\":_vm.countryOptions,\"label\":\"Land auswhlen\",\"bg-color\":\"white\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte whle ein Land'; }]},on:{\"filter\":_vm.filterCountries,\"input\":function($event){_vm.showCitiesOnMap(); _vm.showSuggestionCountryDialog = false;}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"explore\"}})]},proxy:true},{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-grey\"},[_vm._v(\"\\n                Keine Ergebnisse\\n              \")])],1)]},proxy:true}]),model:{value:(_vm.suggestionCountry),callback:function ($$v) {_vm.suggestionCountry=$$v},expression:\"suggestionCountry\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable indent */\r\n\r\nimport axios from 'axios'\r\nimport { db } from '../../firebaseInit.js'\r\n\r\nexport default {\r\n    /**\r\n      * @returns an array of cities\r\n      */\r\n    getCities (country) {\r\n        return new Promise((resolve, reject) => {\r\n            const context = this\r\n\r\n            context.fetchDBSuggestions(country).then(function (response) {\r\n                if (response.length > 0) {\r\n                    resolve(response)\r\n                } else {\r\n                    context.fetchAPISuggestions(country).then(function (apiResponse) {\r\n                        resolve(apiResponse)\r\n                    }).catch(function (error) {\r\n                        console.log('Error' + error)\r\n                        resolve(null)\r\n                    })\r\n                }\r\n            }).catch(function (error) {\r\n                console.log('Error' + error)\r\n                resolve(null)\r\n            })\r\n        })\r\n    },\r\n    /**\r\n      * fetch city suggestions from the database\r\n      */\r\n    fetchDBSuggestions (country) {\r\n        return new Promise((resolve, reject) => {\r\n            let tempCities = []\r\n            let roundtripsRef = db.collection('SuggestedCities')\r\n                .where('Country', '==', country)\r\n                .limit(1)\r\n            roundtripsRef.get()\r\n                .then(snapshot => {\r\n                    if (snapshot.empty) resolve(tempCities)\r\n                    snapshot.forEach(doc => {\r\n                        let cities = doc.data().Cities\r\n                        if (cities.length === 0) resolve(tempCities)\r\n                        cities.forEach(city => {\r\n                            let cityObject = {\r\n                                name: city.name,\r\n                                region: city.region,\r\n                                longitude: city.location ? city.location.lng : null,\r\n                                latitude: city.location ? city.location.lat : null,\r\n                                country: doc.data().Country\r\n                            }\r\n\r\n                            tempCities.push(cityObject)\r\n\r\n                            if (cities.indexOf(city) === cities.length - 1) {\r\n                                resolve(tempCities)\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n        })\r\n    },\r\n    /**\r\n      * fetch city suggestions from geo db api\r\n      */\r\n    fetchAPISuggestions (country) {\r\n        let context = this\r\n        return new Promise((resolve, reject) => {\r\n            axios.get('https://wft-geo-db.p.rapidapi.com/v1/geo/countries?limit=5&offset=0&namePrefix=' + country + '&languageCode=de', {\r\n                headers: {\r\n                    'X-RapidAPI-Key': '01861af771mshb4bcca217c978fdp12121ejsnd0c4ce2c275a'\r\n                }\r\n            }).then(function (response) {\r\n                // wait 2 secs because only 1 request per sec is allowed\r\n                setTimeout(function () {\r\n                    axios.get('https://wft-geo-db.p.rapidapi.com/v1/geo/cities?countryIds=' + response.data.data[0].code + '&minPopulation=70000&sort=-population&languageCode=de&types=CITY', {\r\n                        headers: {\r\n                            'X-RapidAPI-Key': '01861af771mshb4bcca217c978fdp12121ejsnd0c4ce2c275a'\r\n                        }\r\n                    }).then(function (response) {\r\n                        context.writeInDB(response.data.data)\r\n                        resolve(response.data.data)\r\n                    }).catch(function (error) {\r\n                        console.log(error)\r\n                    })\r\n                }, 2000)\r\n            }).catch(function (error) {\r\n                console.log('Error' + error)\r\n            })\r\n        })\r\n    },\r\n    /**\r\n      * writes a fetched stop into the db\r\n      */\r\n    writeInDB (response) {\r\n        let newCityObject = {}\r\n        newCityObject.Cities = []\r\n\r\n        response.forEach((city, index) => {\r\n            newCityObject.Country = city.country\r\n            if (!newCityObject.Cities.includes(city.name)) newCityObject.Cities.push({ name: city.name, region: city.region, location: { lng: city.longitude, lat: city.latitude } })\r\n        })\r\n\r\n        db.collection('SuggestedCities').add(newCityObject)\r\n    },\r\n    /**\r\n     * gets a image from pixabay for given city name\r\n     */\r\n    getCityImage (cityName, cityCountry) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get('https://pixabay.com/api/?key=14851178-b5e8b2cd21896ed0fc8b90fa0&lang=de&category=buildings&image_type=photo&orientation=horizontal&safesearch=true&min_height=40&per_page=3&q=' + cityName + ' ' + cityCountry, {}\r\n            ).then(function (response) {\r\n                if (response.data.hits[0]) resolve({ url: response.data.hits[0].webformatURL, cityName: cityName })\r\n                else {\r\n                    axios.get('https://pixabay.com/api/?key=14851178-b5e8b2cd21896ed0fc8b90fa0&lang=de&category=buildings&image_type=photo&orientation=horizontal&safesearch=true&min_height=40&per_page=3&q=' + cityName, {}\r\n                    ).then(function (response) {\r\n                        if (response.data.hits[0]) resolve({ url: response.data.hits[0].webformatURL, cityName: cityName })\r\n                        else {\r\n                            resolve({ url: '../../statics/dummy-image-landscape-1-150x150.jpg', cityName: cityName })\r\n                        }\r\n                    }).catch(function (error) {\r\n                        console.log(error)\r\n                    })\r\n                }\r\n            }).catch(function (error) {\r\n                console.log(error)\r\n                resolve({ url: '../../statics/dummy-image-landscape-1-150x150.jpg', cityName: cityName })\r\n            })\r\n        })\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mapbox-ctrl mapbox-ctrl-group\"},[_c('q-btn',{staticStyle:{\"position\":\"absolute\",\"right\":\"9px\",\"top\":\"175px\"},attrs:{\"color\":\"white\",\"text-color\":\"secondary\",\"icon\":\"layers\"}},[_c('q-menu',[_c('q-list',{staticStyle:{\"min-width\":\"100px\"}},[_c('q-item',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.switchMapStyle(null)}}},[_c('q-item-section',[_vm._v(\"Standard\")])],1),_c('q-separator'),_c('q-item',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.switchMapStyle('nav')}}},[_c('q-item-section',[_vm._v(\"Navigation\")])],1),_c('q-separator'),_c('q-item',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.switchMapStyle('sat')}}},[_c('q-item-section',[_vm._v(\"Satellit\")])],1),_c('q-separator'),_c('q-item',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.switchMapStyle('out')}}},[_c('q-item-section',[_vm._v(\"Outdoor\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mapbox-ctrl mapbox-ctrl-group\">\r\n    <q-btn\r\n      color=\"white\"\r\n      text-color=\"secondary\"\r\n      icon=\"layers\"\r\n      style=\"position:absolute; right:9px; top:175px;\"\r\n    >\r\n      <q-menu>\r\n        <q-list style=\"min-width: 100px\">\r\n          <q-item\r\n            clickable\r\n            @click=\"switchMapStyle(null)\"\r\n            v-close-popup\r\n          >\r\n            <q-item-section>Standard</q-item-section>\r\n          </q-item>\r\n          <q-separator />\r\n\r\n          <q-item\r\n            clickable\r\n            @click=\"switchMapStyle('nav')\"\r\n            v-close-popup\r\n          >\r\n            <q-item-section>Navigation</q-item-section>\r\n          </q-item>\r\n          <q-separator />\r\n          <q-item\r\n            clickable\r\n            @click=\"switchMapStyle('sat')\"\r\n            v-close-popup\r\n          >\r\n            <q-item-section>Satellit</q-item-section>\r\n          </q-item>\r\n          <q-separator />\r\n\r\n          <q-item\r\n            clickable\r\n            @click=\"switchMapStyle('out')\"\r\n            v-close-popup\r\n          >\r\n            <q-item-section>Outdoor</q-item-section>\r\n          </q-item>\r\n        </q-list>\r\n      </q-menu>\r\n    </q-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport sharedMethods from '../../sharedMethods.js'\r\n\r\nexport default {\r\n  name: 'MapLayerPlugin',\r\n  inject: ['mapbox', 'map', 'actions'],\r\n\r\n  methods: {\r\n    switchMapStyle (styleName) {\r\n      let parent = sharedMethods.getParent('Map', this)\r\n      switch (styleName) {\r\n        case 'nav':\r\n          parent.mapStyle = 'mapbox://styles/mareiski/ckcevjmf81b7t1imouvv52xrh'\r\n          break\r\n        case 'out':\r\n          parent.mapStyle = 'mapbox://styles/mareiski/ckcew03vc12dy1imgq1eonlvt'\r\n          break\r\n        case 'sat':\r\n          parent.mapStyle = 'mapbox://styles/mareiski/ckcevopcq123g1imgb36xu37s'\r\n          break\r\n        default:\r\n          parent.mapStyle = 'mapbox://styles/mareiski/ck27d9xpx5a9s1co7c2golomn'\r\n          break\r\n      }\r\n      parent.loadMap(this.map)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLayerPlugin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLayerPlugin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapLayerPlugin.vue?vue&type=template&id=78c54d9f&\"\nimport script from \"./MapLayerPlugin.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLayerPlugin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    style=\"overflow:hidden;\"\r\n    class=\"map\"\r\n  >\r\n    <q-inner-loading\r\n      :showing=\"loading\"\r\n      style=\"z-index: 1;\"\r\n    >\r\n      <q-spinner\r\n        size=\"42px\"\r\n        color=\"primary\"\r\n      >\r\n      </q-spinner>\r\n      <p\r\n        class=\"font-medium\"\r\n        style=\"margin-top:10px;\"\r\n      >Karte wird geladen</p>\r\n    </q-inner-loading>\r\n    <MglMap\r\n      :accessToken=\"accTo\"\r\n      :mapStyle.sync=\"mapStyle\"\r\n      :style=\"'height:' + (height ? height : '500px;')\"\r\n      :center=\"centerLocation\"\r\n      :zoom=\"6\"\r\n      :mapboxGl=\"mapbox\"\r\n      :attributionControl=\"false\"\r\n      logoPosition=\"bottom-left\"\r\n      keyboard\r\n      doubleClickZoom\r\n      @load=\"onMapLoaded\"\r\n    >\r\n      <MglGeocoderControl\r\n        :accessToken=\"accTo\"\r\n        @result=\"handleSearch\"\r\n        placeholder=\"Ort suchen\"\r\n        v-if=\"editor\"\r\n      />\r\n      <MglNavigationControl position=\"top-right\" />\r\n      <MapLayerPlugin\r\n        class=\"mapboxgl-ctrl\"\r\n        position=\"top-right\"\r\n      />\r\n\r\n      <q-btn\r\n        color=\"white\"\r\n        text-color=\"secondary\"\r\n        icon=\"apartment\"\r\n        style=\"position:absolute; right:9px; top:220px;\"\r\n        @click=\"showSuggestionCountryDialog = true; showDrawerList = false; miniDisabled = true;\"\r\n      >\r\n      </q-btn>\r\n      <MglFullscreenControl position=\"bottom-right\" />\r\n\r\n      <!-- drawer is used on tablets and desktops only -->\r\n      <!-- <q-drawer\r\n        v-model=\"drawerLeft\"\r\n        show-if-above\r\n        v-if=\"editor\"\r\n        :width=\"250\"\r\n        elevated\r\n        :breakpoint=\"550\"\r\n        :mini=\"isTablet ? miniState : false\"\r\n        @mouseover=\"!miniDisabled ? miniState = false : null\"\r\n        @mouseout=\"!miniDisabled ? miniState = true : null\"\r\n        content-class=\"bg-secondary text-white\"\r\n      >\r\n        <q-scroll-area\r\n          class=\"fit\"\r\n          ref=\"DrawerScrollArea\"\r\n        >\r\n          <q-list\r\n            padding\r\n            v-show=\"showDrawerList\"\r\n          >\r\n            <q-item\r\n              clickable\r\n              v-ripple\r\n              @click=\"showDrawerList = false; miniDisabled = true; showCityMarkers = true;\"\r\n            >\r\n              <q-item-section avatar>\r\n                <q-icon name=\"apartment\" />\r\n              </q-item-section>\r\n\r\n              <q-item-section>\r\n                Stdte vorschlagen\r\n              </q-item-section>\r\n            </q-item>\r\n          </q-list>\r\n\r\n          <MapDrawerItem\r\n            ref=\"MapDrawerItem\"\r\n            v-show=\"!showDrawerList\"\r\n            :alreadyAddedCities=\"stops\"\r\n            @update=\"update($event)\"\r\n          ></MapDrawerItem>\r\n        </q-scroll-area>\r\n      </q-drawer> -->\r\n\r\n      <!-- city suggestion dialog -->\r\n      <!-- <q-dialog\r\n        v-model=\"suggestionDialogVisible\"\r\n        position=\"bottom\"\r\n        seamless\r\n        full-width\r\n      >\r\n        <q-swipe-to-close v-model=\"suggestionDialogVisible\">\r\n          <q-card style=\"height:70vh;\">\r\n            <q-card-section class=\"scroll bg-secondary\">\r\n              <div class=\"flex justify-center\">\r\n                <q-icon\r\n                  name=\"drag_handle\"\r\n                  color=\"white\"\r\n                  size=\"40px\"\r\n                />\r\n              </div>\r\n              <MapDrawerItem\r\n                ref=\"MapDrawerItem\"\r\n                :alreadyAddedCities=\"stops\"\r\n                @update=\"update($event)\"\r\n              ></MapDrawerItem>\r\n            </q-card-section>\r\n          </q-card>\r\n        </q-swipe-to-close>\r\n      </q-dialog> -->\r\n\r\n      <MglMarker\r\n        v-for=\"stop in stops\"\r\n        :key=\"stop.DocId\"\r\n        :coordinates=\"stop.HotelName && stop.HotelLocation && !isNaN(stop.HotelLocation.lat) ? [stop.HotelLocation.lat, stop.HotelLocation.lng] : [stop.Location.lng, stop.Location.lat]\"\r\n        color=\"#D56026\"\r\n        ref=\"stopMarker\"\r\n        @click=\"onMarkerClicked($event, stop.HotelLocation ? stop.HotelLocation.label : stop.Location.label )\"\r\n      >\r\n        <MglPopup>\r\n\r\n          <q-card>\r\n            <q-img\r\n              v-if=\"stop.StopImages\"\r\n              width=\"240px\"\r\n              height=\"135px\"\r\n              :src=\"stop.StopImages[0]\"\r\n            ></q-img>\r\n            <q-img\r\n              width=\"240px\"\r\n              height=\"135px\"\r\n              :src=\"lastPOICityData.img && lastPOICityData.img.split('/')[0] === 'https:' ? lastPOICityData.img : lastPOICityData.imgSrc\"\r\n            ></q-img>\r\n            <q-card-section>\r\n              <div\r\n                class=\"font-large\"\r\n                style=\"line-height:normal;\"\r\n              >\r\n                {{stop.Title}}\r\n              </div>\r\n              <div style=\"font-size:13px;\">\r\n                {{ lastPOICityData.shortDescription }}\r\n                <p v-if=\"stop.GeneralLink && stop.GeneralLink.length > 0\">\r\n                  <q-icon name=\"house\" />\r\n                  <a\r\n                    :href=\"stop.GeneralLink\"\r\n                    target=\"blank\"\r\n                  >{{capitalize(stop.HotelName)}}</a>\r\n                </p>\r\n              </div>\r\n            </q-card-section>\r\n\r\n            <q-card-actions align=\"right\">\r\n              <q-btn\r\n                flat\r\n                label=\"POIs\"\r\n                @click=\"showSightDetails(stop.Location.lat, stop.Location.lng)\"\r\n                color=\"secondary\"\r\n                v-show=\"stop\"\r\n              />\r\n            </q-card-actions>\r\n          </q-card>\r\n        </MglPopup>\r\n      </MglMarker>\r\n      <template v-for=\"stop in stops\">\r\n        <MglMarker\r\n          v-for=\"dailyTrip in stop.DailyTrips\"\r\n          :key=\"dailyTrip.id\"\r\n          :coordinates=\"[dailyTrip.location.lng, dailyTrip.location.lat]\"\r\n          color=\"#D56026\"\r\n          @click=\"onMarkerClicked($event, dailyTrip.location.label)\"\r\n        >\r\n          <MglPopup>\r\n            <q-card>\r\n              <q-img\r\n                v-if=\"dailyTrip.StopImages\"\r\n                width=\"240px\"\r\n                height=\"135px\"\r\n                :src=\"dailyTrip.StopImages[0]\"\r\n              ></q-img>\r\n              <q-card-section>\r\n                <div class=\"text-h6\">\r\n                  {{dailyTrip.location.label.split(',')[0]}} - Tagesausflug von {{stop.Location.label ? stop.Location.label.split(',')[0] : ''}}\r\n                </div>\r\n                <div class=\"text-subtitle2\">\r\n                  <p style=\"margin-bottom:5px;\">\r\n                    <q-icon name=\"location_on\" />\r\n                    <a\r\n                      target=\"_blank\"\r\n                      :href=\"'https://www.google.com/maps/search/?api=1&query=' + dailyTrip.location.label\"\r\n                    >{{dailyTrip.location.label}}</a>\r\n                  </p>\r\n                </div>\r\n              </q-card-section>\r\n            </q-card>\r\n          </MglPopup>\r\n        </MglMarker>\r\n      </template>\r\n      <!-- last clicked marker -->\r\n      <MglMarker\r\n        :coordinates=\"lastClickCoordinates\"\r\n        color=\"#70707075\"\r\n        @click=\"onMarkerClicked($event, title)\"\r\n        v-if=\"editor\"\r\n        :offset=\"[5, 10]\"\r\n        ref=\"addStopMarker\"\r\n      >\r\n        <MglPopup>\r\n          <q-card>\r\n            <q-img\r\n              v-show=\"lastPOICityData.img\"\r\n              :src=\"lastPOICityData.img && lastPOICityData.img.split('/')[0] === 'https:' ? lastPOICityData.img : lastPOICityData.imgSrc\"\r\n            />\r\n            <q-card-section style=\"padding-left:10px; padding-top:10px;\">\r\n              <span\r\n                class=\"font-large\"\r\n                style=\"line-height:normal;\"\r\n              >{{title ? title : 'gesetzter Punkt'}}</span>\r\n              <div style=\"font-size:13px;\">\r\n                {{ lastPOICityData.shortDescription }}\r\n              </div>\r\n            </q-card-section>\r\n\r\n            <q-card-actions align=\"right\">\r\n              <q-btn\r\n                flat\r\n                label=\"Infos\"\r\n                @click=\"showSightDetails(lastClickCoordinates[1], lastClickCoordinates[0])\"\r\n                color=\"secondary\"\r\n              />\r\n              <q-btn\r\n                flat\r\n                label=\"Ort hinzufgen\"\r\n                @click=\"addStop\"\r\n                color=\"primary\"\r\n              />\r\n            </q-card-actions>\r\n          </q-card>\r\n        </MglPopup>\r\n      </MglMarker>\r\n      <q-dialog v-model=\"showDetailsDialog\">\r\n        <div v-if=\"lastPOICityData\">\r\n          <q-card>\r\n            <!-- todo change to slideshow -->\r\n            <q-img :src=\"lastPOICityData.img\" />\r\n            <q-card-section>\r\n              <div style=\"padding-left:10px; padding-top:10px;\">\r\n                <span class=\"font-large\">{{lastPOICityData.title}}</span>\r\n                <div>\r\n                  {{ lastPOICityData.description }}\r\n                </div>\r\n                <div\r\n                  class=\"font-medium\"\r\n                  style=\"padding-top:20px; padding-bottom:10px;\"\r\n                >{{suggestedPOIs.length}} Top Sehenswrdigkeiten</div>\r\n              </div>\r\n              <q-card\r\n                class=\"city-card cursor-pointer\"\r\n                v-for=\"(poi, index) in suggestedPOIs\"\r\n                :key=\"index\"\r\n                :id=\"'POI' + poi.name\"\r\n                @mouseover=\"markPOIOnMap(poi)\"\r\n                @mouseleave=\"hidePOIOnMap(poi)\"\r\n                @click=\"flyTo(poi.location.lat, poi.location.lng)\"\r\n              >\r\n                <div>\r\n                  <div>\r\n                    <q-img\r\n                      :alt=\"'Bild von'  + poi.name\"\r\n                      v-if=\"poi.photoUrl\"\r\n                      :src=\"poi.photoUrl\"\r\n                      style=\"height:170px;\"\r\n                      placeholder-src=\"statics/dummy-image-landscape-1-150x150.jpg\"\r\n                    >\r\n                      <div class=\"absolute-bottom text-h6 ellipsis\">{{poi.name}}\r\n                        <q-tooltip>{{poi.name}}</q-tooltip>\r\n                      </div>\r\n                    </q-img>\r\n                  </div>\r\n\r\n                  <div class=\"rating-text\">\r\n                    {{poi.rating}}\r\n                    <q-rating\r\n                      class=\"stars\"\r\n                      :value=\"poi.rating\"\r\n                      size=\"15px\"\r\n                      color=\"gold\"\r\n                      readonly\r\n                      style=\"margin-right:10px;\"\r\n                    />\r\n                    ({{ poi.totalRatings }})\r\n                  </div>\r\n                  <a\r\n                    :href=\"'https://www.google.com/maps/search/?api=1&query=' + poi.name\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <q-card-section style=\"color:#707070;\">\r\n                      <q-icon name=\"location_on\" />\r\n                      {{poi.location.label}}\r\n                    </q-card-section>\r\n                  </a>\r\n                </div>\r\n              </q-card>\r\n            </q-card-section>\r\n          </q-card>\r\n        </div>\r\n        <!-- <q-card>\r\n          <q-img\r\n            :src=\"sightDialog.src\"\r\n            style=\"max-height:75vh;\"\r\n          >\r\n            <div class=\"absolute-bottom\">\r\n              <div class=\"text-h6\">{{sightDialog.title}}</div>\r\n              <div class=\"text-subtitle2\">{{sightDialog.description}}</div>\r\n            </div>\r\n          </q-img>\r\n\r\n          <q-card-section>\r\n            {{sightDialog.extract}}\r\n          </q-card-section>\r\n\r\n          <q-card-actions align=\"right\">\r\n            <q-btn\r\n              flat\r\n              label=\"zurck\"\r\n              color=\"primary\"\r\n              v-close-popup\r\n            />\r\n          </q-card-actions>\r\n        </q-card> -->\r\n      </q-dialog>\r\n      <div\r\n        v-for=\"(stop, index) in stops\"\r\n        :key=\"'StopContainer' + stop.DocId + index\"\r\n      >\r\n        <MglMarker\r\n          v-if=\"stop.Parking && typeof stop.Parking !== 'undefined' && !isNaN(stop.Parking.lng)\"\r\n          :key=\"'Stop' + stop.DocId\"\r\n          :coordinates=\"[stop.Parking.lng, stop.Parking.lat]\"\r\n          color=\"#D56026\"\r\n          @click=\"onMarkerClicked($event)\"\r\n        >\r\n          <MglPopup>\r\n            <q-card>\r\n              <div style=\"width:100%; display:flex; justify-content:center; padding-top:5px;\">\r\n                <q-icon\r\n                  name=\"fas fa-parking\"\r\n                  size=\"30px\"\r\n                />\r\n              </div>\r\n              <q-card-section>\r\n                <p>{{ stop.parkingPlace && typeof stop.parkingPlace !== 'undefined' &&  stop.parkingPlace.label && typeof stop.parkingPlace.label !== 'undefined' ? stop.Parking.label.split(',')[0] : 'Parkplatz fr ' + stop.Title}}</p>\r\n              </q-card-section>\r\n            </q-card>\r\n          </MglPopup>\r\n        </MglMarker>\r\n      </div>\r\n      <!-- city markers -->\r\n      <template v-if=\"showCityMarkers\">\r\n        <MglMarker\r\n          v-for=\"(city, index) in suggestedCities\"\r\n          :key=\"city.name + index\"\r\n          :coordinates=\"[city.longitude, city.latitude]\"\r\n          :offset=\"[10, 5]\"\r\n          @click=\"onMarkerClicked($event, city.name); goToCity(city.name)\"\r\n        >\r\n          <q-icon\r\n            :ref=\"'cityMarkerIcon' + index\"\r\n            slot=\"marker\"\r\n            name=\"place\"\r\n            color=\"amber-14\"\r\n            size=\"30px\"\r\n          />\r\n          <MglPopup>\r\n            <q-card>\r\n              <q-img\r\n                v-show=\"lastPOICityData.img\"\r\n                :src=\"lastPOICityData.img && lastPOICityData.img.split('/')[0] === 'https:' ? lastPOICityData.img : lastPOICityData.imgSrc\"\r\n              />\r\n              <q-card-section style=\"padding-left:10px; padding-top:10px;\">\r\n                <span\r\n                  class=\"font-large\"\r\n                  style=\"line-height:normal;\"\r\n                >{{city.name ? city.name : 'gesetzter Punkt'}}</span>\r\n                <div style=\"font-size:13px;\">\r\n                  {{ lastPOICityData.shortDescription }}\r\n                  <br><br>\r\n                  vorgeschlagen fr {{suggestionCountry}}\r\n                </div>\r\n              </q-card-section>\r\n\r\n              <q-card-actions align=\"right\">\r\n                <q-btn\r\n                  flat\r\n                  label=\"Infos\"\r\n                  @click=\"showSightDetails(city.latitude, city.longitude)\"\r\n                  color=\"secondary\"\r\n                />\r\n                <q-btn\r\n                  flat\r\n                  label=\"Ort hinzufgen\"\r\n                  @click=\"addStop\"\r\n                  color=\"primary\"\r\n                />\r\n              </q-card-actions>\r\n            </q-card>\r\n          </MglPopup>\r\n        </MglMarker>\r\n      </template>\r\n      <!-- POI Markers -->\r\n      <template v-if=\"showPOIMarkers\">\r\n        <MglMarker\r\n          v-for=\"(poi, index) in suggestedPOIs\"\r\n          :key=\"poi.name + index\"\r\n          :coordinates=\"[poi.location.lng, poi.location.lat]\"\r\n          :offset=\"[10, 5]\"\r\n          @click=\"onMarkerClicked($event, poi.name); goToCity(poi.name)\"\r\n        >\r\n          <q-icon\r\n            :ref=\"'poiMarkerIcon' + index\"\r\n            slot=\"marker\"\r\n            name=\"place\"\r\n            color=\"amber-14\"\r\n            size=\"30px\"\r\n          />\r\n          <MglPopup>\r\n            <q-card>\r\n              <q-card-section>\r\n                <div class=\"text-h6\">\r\n                  {{poi.name}}\r\n                </div>\r\n                <p style=\"font-size: 14px\">vorgeschlagener Ort fr {{poi.location.label.substring(poi.location.label.lastIndexOf(',') + 1, poi.location.label.length)}}</p>\r\n              </q-card-section>\r\n            </q-card>\r\n          </MglPopup>\r\n        </MglMarker>\r\n      </template>\r\n\r\n      <MglMarker\r\n        v-for=\"(route, index) in addedRoutes\"\r\n        :key=\"route.id + index\"\r\n        :coordinates=\"route.location\"\r\n        :color=\"route.color\"\r\n        @click=\"onMarkerClicked($event)\"\r\n        :ref=\"route.id\"\r\n      >\r\n        <q-icon\r\n          slot=\"marker\"\r\n          :style=\"{'color': route.color, 'background-color': 'white', 'border-radius': '50%'}\"\r\n          name=\"speed\"\r\n        />\r\n        <MglPopup>\r\n          <q-card v-if=\"route.duration\">\r\n            <div style=\"width:100%; display:flex; justify-content:center; padding-top:5px;\">\r\n              <q-icon\r\n                name=\"fas fa-route\"\r\n                size=\"30px\"\r\n              />\r\n            </div>\r\n            <q-card-section>\r\n              <div>{{route.duration}} {{ route.origin ? 'von ' + route.origin : ''}} bis {{route.destination}} {{route.distance !== null ? '(' + route.distance + ')' : null}}</div>\r\n              <a\r\n                target=\"_blank\"\r\n                v-if=\"route.origin !== route.destination\"\r\n                :href=\"'https://www.google.com/maps/dir/?api=1&origin=' + route.origin + '&destination=' + route.destination\"\r\n              >auf Google ansehen</a>\r\n            </q-card-section>\r\n          </q-card>\r\n          <q-card v-else>\r\n            <q-card-section>\r\n              <div>{{route.distance}} mit dem Flugzeug {{ addedRoutes[index -1] ? 'von ' + addedRoutes[index - 1].destination : ''}} nach {{route.destination}}</div>\r\n            </q-card-section>\r\n          </q-card>\r\n        </MglPopup>\r\n      </MglMarker>\r\n    </MglMap>\r\n    <q-dialog v-model=\"showSuggestionCountryDialog\">\r\n      <q-card>\r\n        <q-card-section class=\"font-medium\">\r\n          <p>Land fr Stdtevorschlge whlen</p>\r\n\r\n          <q-select\r\n            outlined\r\n            v-model=\"suggestionCountry\"\r\n            use-input\r\n            hide-selected\r\n            fill-input\r\n            input-debounce=\"0\"\r\n            :options=\"countryOptions\"\r\n            label=\"Land auswhlen\"\r\n            bg-color=\"white\"\r\n            @filter=\"filterCountries\"\r\n            @input=\"showCitiesOnMap(); showSuggestionCountryDialog = false;\"\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte whle ein Land']\"\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"explore\" />\r\n            </template>\r\n            <template v-slot:no-option>\r\n              <q-item>\r\n                <q-item-section class=\"text-grey\">\r\n                  Keine Ergebnisse\r\n                </q-item-section>\r\n              </q-item>\r\n            </template>\r\n          </q-select>\r\n        </q-card-section>\r\n      </q-card>\r\n    </q-dialog>\r\n  </div>\r\n</template>\r\n<style lang=\"less\" scoped>\r\n.mapboxgl-marker-anchor-center {\r\n  font-size: 40px;\r\n  position: absolute;\r\n}\r\n</style>\r\n<script>\r\nconst MglMap = () => import('vue-mapbox')\r\nconst MglGeocoderControl = () => import('vue-mapbox-geocoder')\r\nconst turf = () => import('@turf/turf')\r\nimport Mapbox from 'mapbox-gl'\r\nimport CitySuggestionMethods from '../CitySuggestion/CitySuggestionMethods.js'\r\n\r\nlet bounds = []\r\n\r\nimport {\r\n  MglMarker,\r\n  MglNavigationControl,\r\n  MglPopup,\r\n  MglFullscreenControl\r\n} from 'vue-mapbox'\r\n\r\nimport(/* webpackPrefetch: true */ '../../css/map.less')\r\n\r\nconst getAxios = () => import('axios')\r\nimport { date } from 'quasar'\r\nimport sharedMethods from '../../sharedMethods.js'\r\nimport MapLayerPlugin from './MapLayerPlugin.vue'\r\nimport { countries } from '../../countries.js'\r\n\r\nlet hoveredStateId = null\r\n\r\nexport default {\r\n  meta: {\r\n    link: {\r\n      material: { rel: 'stylesheet', href: 'https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' }\r\n    }\r\n  },\r\n  name: 'Map',\r\n  components: {\r\n    MglMap,\r\n    MglMarker,\r\n    MglPopup,\r\n    MglNavigationControl,\r\n    MglFullscreenControl,\r\n    MglGeocoderControl,\r\n    MapLayerPlugin\r\n  },\r\n  props: {\r\n    stops: Array,\r\n\r\n    // fallback profile if stop has nothing set\r\n    profile: String,\r\n    childrenAges: Array,\r\n    adults: Number,\r\n    rooms: Number,\r\n    editor: Boolean,\r\n    defaultInitDate: String,\r\n    height: String\r\n  },\r\n  computed: {\r\n    isMobile () {\r\n      return window.matchMedia('(max-width: 550px)').matches\r\n    }\r\n    // isTablet () {\r\n    //   return window.matchMedia('(max-width: 958px)').matches\r\n    // }\r\n  },\r\n  data () {\r\n    return {\r\n      accTo: 'pk.eyJ1IjoibWFyZWlza2kiLCJhIjoiY2pkaHBrd2ZnMDIyOTMzcDIyM2lra3M0eSJ9.wcM4BSKxfOmOzo67iW-nNg',\r\n      mapStyle: 'mapbox://styles/mareiski/ck27d9xpx5a9s1co7c2golomn',\r\n      addedRoutes: [],\r\n      showAddStopMarker: false,\r\n      lastClickCoordinates: [0, 0],\r\n      lastClickLocation: {},\r\n      title: null,\r\n      mapbox: null,\r\n      whitelistedLabels: ['airport-label', 'place-label', 'state-label', 'poi-label', 'settlement-label', 'natural-point-label'], // 'country-label',\r\n      centerLocation: [0, 0],\r\n      markerClicked: false,\r\n      showDetailsDialog: false,\r\n      drawerLeft: false,\r\n      miniState: true,\r\n      showDrawerList: true,\r\n      miniDisabled: false,\r\n      suggestedCities: [],\r\n      showCityMarkers: false,\r\n      showPOIMarkers: false,\r\n      suggestedPOIs: [],\r\n      suggestionDialogVisible: false,\r\n      lastPOICityData: {},\r\n      lastSightDetailsLat: 0,\r\n      lastSightDetailsLng: 0,\r\n      suggestionCountry: null,\r\n      showSuggestionCountryDialog: false,\r\n      countryOptions: countries,\r\n      loading: true\r\n    }\r\n  },\r\n  watch: {\r\n    stops: function (val, oldVal) {\r\n      if (val !== oldVal) {\r\n        this.loadMap(this.map)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    update (event) {\r\n      this.$emit('update', event)\r\n    },\r\n    /**\r\n     * filter countries method used in filter method of quasar select component\r\n     */\r\n    filterCountries (val, update, _abort) {\r\n      update(() => {\r\n        const needle = val.toLowerCase()\r\n        this.countryOptions = countries.filter(v => v.toLowerCase().indexOf(needle) > -1)\r\n      })\r\n    },\r\n    onMapLoaded (event) {\r\n      console.log('onmaploaded')\r\n      this.loading = false\r\n\r\n      this.map = event.map\r\n      let context = this\r\n\r\n      this.loadMap(event.map).then(_e => {\r\n        // wait 1 second to ensure map is realy loaded\r\n        setTimeout(function () {\r\n          context.fitToBounds(bounds)\r\n        }, 1000)\r\n      })\r\n    },\r\n    fitToBounds (bounds) {\r\n      try {\r\n        if (bounds.length > 1) {\r\n          turf().then(turf => {\r\n            var line = turf.lineString(bounds)\r\n            var bbox = turf.bbox(line)\r\n            this.map.fitBounds(new Mapbox.LngLatBounds(bbox), { padding: 80 })\r\n          })\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    markCityOnMap (location) {\r\n      this.changeCityMarkerSize('50px', location)\r\n    },\r\n    hideCityOnMap (location) {\r\n      this.changeCityMarkerSize('30px', location)\r\n    },\r\n    /**\r\n     * changes the size of the city marker for given location\r\n     */\r\n    changeCityMarkerSize (size, location) {\r\n      const context = this\r\n      this.suggestedCities.forEach((city, index) => {\r\n        const currentLocation = [city.latitude, city.longitude]\r\n        if (location[0] === currentLocation[0] && location[1] === currentLocation[1]) {\r\n          context.$refs['cityMarkerIcon' + index][0].size = size\r\n        }\r\n      })\r\n    },\r\n    markPOIOnMap (location) {\r\n      this.changePOIMarkerSize('50px', location)\r\n    },\r\n    hidePOIOnMap (location) {\r\n      this.changePOIMarkerSize('30px', location)\r\n    },\r\n    /**\r\n     * changes the size of the city marker for given location\r\n     */\r\n    changePOIMarkerSize (size, location) {\r\n      const context = this\r\n      this.suggestedPOIs.forEach((poi, index) => {\r\n        const currentLocation = [poi.location.lat, poi.location.lng]\r\n        if (location[0] === currentLocation[0] && location[1] === currentLocation[1]) {\r\n          context.$refs['poiMarkerIcon' + index][0].size = size\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * gets suggested cities and shows markers\r\n     */\r\n    showCitiesOnMap () {\r\n      CitySuggestionMethods.getCities(this.suggestionCountry).then(response => {\r\n        if (!response) return\r\n\r\n        this.suggestedCities = response\r\n\r\n        if (this.showPOIMarkers) {\r\n          this.showPOIMarkers = false\r\n          this.showCityMarkers = true\r\n        }\r\n\r\n        // set map to city boundaries\r\n        let cityBounds = []\r\n        this.suggestedCities.forEach(city => {\r\n          cityBounds.push([city.longitude, city.latitude])\r\n        })\r\n\r\n        this.fitToBounds(cityBounds)\r\n        this.showCityMarkers = true\r\n      })\r\n    },\r\n    goToCity (name) {\r\n      const drawerScrollArea = this.$refs['DrawerScrollArea']\r\n\r\n      const el = document.getElementById('CitySuggestion' + name)\r\n\r\n      const offset = el.offsetTop\r\n\r\n      drawerScrollArea.setScrollPosition(offset - 20, 400)\r\n    },\r\n    /**\r\n     * shows the given pois on map\r\n     */\r\n    showPOIsOnMap (pois) {\r\n      this.showCityMarkers = false\r\n      this.suggestedPOIs = pois\r\n      this.showPOIMarkers = true\r\n\r\n      // set map to city boundaries\r\n      let poisBounds = []\r\n      this.suggestedPOIs.forEach(poi => {\r\n        poisBounds.push([poi.location.lng, poi.location.lat])\r\n      })\r\n\r\n      this.fitToBounds(poisBounds)\r\n    },\r\n    /**\r\n    * switches the map drawer back to list (called from MapDrawerItem)\r\n    */\r\n    switchDrawerToList () {\r\n      this.miniDisabled = false\r\n      this.miniState = true\r\n      this.showDrawerList = true\r\n      this.showCityMarkers = false\r\n    },\r\n    handleSearch (event) {\r\n      let result = event.result\r\n\r\n      if (!this.markerClicked) {\r\n        this.lastClickCoordinates = result.geometry.coordinates\r\n        let placeName = result.place_name\r\n\r\n        if (placeName.includes(',')) placeName = placeName.split(',')[0]\r\n\r\n        this.title = placeName\r\n        this.showAddStopMarker = true\r\n\r\n        this.loadMarkerInfos(placeName)\r\n\r\n        let context = this\r\n        // we never want to hide the popup\r\n        if (!context.$refs.addStopMarker.marker._popup.options.showed) {\r\n          setTimeout(function () {\r\n            context.$refs.addStopMarker.togglePopup()\r\n          }, 100)\r\n        }\r\n      }\r\n      this.markerClicked = false\r\n    },\r\n    onMarkerClicked (event, title) {\r\n      // reset the marker popup\r\n      this.lastPOICityData = {\r\n        title: title,\r\n        description: '',\r\n        shortDescription: '',\r\n        img: '',\r\n        imgSrc: ''\r\n      }\r\n\r\n      this.loadMarkerInfos(title)\r\n\r\n      event.map.flyTo({ center: event.component.marker._lngLat, speed: 0.5, curve: 1 })\r\n      this.markerClicked = true\r\n    },\r\n    showSightDetails (lat, lng) {\r\n      if (lat !== this.lastSightDetailsLat || lng !== this.lastSightDetailsLng) {\r\n        sharedMethods.getGooglePlacesData(lat, lng).then(POIArr => {\r\n          this.suggestedPOIs = POIArr\r\n          this.showDetailsDialog = true\r\n        }).catch((e) => {\r\n          console.log(e)\r\n        })\r\n        this.lastSightDetailsLat = lat\r\n        this.lastSightDetailsLng = lng\r\n      }\r\n      // const headers = {\r\n      //   'Content-Type': 'application/json; charset=UTF-8'\r\n      // }\r\n\r\n      // let context = this\r\n      // getAxios().then(axios => {\r\n      //   axios.get('https://de.wikipedia.org/w/api.php?action=query&origin=*&format=json&prop=description%7Cextracts%7Cpageimages&titles=' + name + '&exintro=1&explaintext=1&piprop=name%7Coriginal',\r\n      //     { headers: headers })\r\n      //     .then(function (response) {\r\n      //       const pages = response.data.query.pages\r\n      //       const firstPageName = Object.keys(pages)[0]\r\n\r\n      //       const title = pages[firstPageName].title\r\n      //       const description = pages[firstPageName].description\r\n      //       const extract = pages[firstPageName].extract\r\n      //       const src = pages[firstPageName].original ? pages[firstPageName].original.source : ''\r\n\r\n      //       context.sightDialog = { title: title || name, showed: true, description: description, extract: extract || 'Es konnten leider keine Informationen gefunden werden', src: src }\r\n      //     }).catch(function (error) {\r\n      //       console.log('Error' + error)\r\n      //       context.sightDialog = { title: name, showed: true, description: '', extract: 'Es konnten leider keine Informationen gefunden werden', src: '' }\r\n      //     })\r\n      // })\r\n    },\r\n    addStop () {\r\n      this.showAddStopMarker = false\r\n      this.lastClickLocation.label = this.title\r\n      this.lastClickLocation.lat = this.lastClickCoordinates[1]\r\n      this.lastClickLocation.lng = this.lastClickCoordinates[0]\r\n\r\n      if (this.stops[this.stops.length - 1] && this.stops[this.stops.length - 1].InitDate) {\r\n        const initDate = this.stops[this.stops.length - 1].InitDate\r\n\r\n        let currentInitDate = sharedMethods.getDateFromString(initDate)\r\n\r\n        const defaultCheckOutDate = currentInitDate\r\n        defaultCheckOutDate.setDate(currentInitDate.getDate() + 1)\r\n\r\n        const formattedDate = date.formatDate(defaultCheckOutDate, 'DD.MM.YYYY HH:mm')\r\n\r\n        // need this json stringify to prevent update of location when the click location changes\r\n        this.$emit('addStop', { date: formattedDate, location: JSON.parse(JSON.stringify(this.lastClickLocation)) })\r\n      } else {\r\n        this.$emit('addStop', { date: null, location: JSON.parse(JSON.stringify(this.lastClickLocation)) })\r\n      }\r\n\r\n      // reload map and fly to coords\r\n      this.lastClickCoordinates = [0, 0]\r\n      this.loadMap(this.map).then(_success => {\r\n        this.map.flyTo({ center: this.lastClickLocation, zoom: 6, speed: 0.5, curve: 1 })\r\n\r\n        // we only want to hide the popup\r\n        this.$refs.addStopMarker.marker._popup.remove()\r\n      })\r\n    },\r\n    getChildrenText () {\r\n      let text = '&group_children=' + this.childrenAges.length\r\n      this.childrenAges.forEach(child => {\r\n        text += '&age=' + child\r\n      })\r\n      return text\r\n    },\r\n    getExpediaChildrenText () {\r\n      let text = null\r\n      this.childrenAges.forEach((childAge, index) => {\r\n        text += (index !== 0 ? '_' : '') + childAge\r\n      })\r\n      return text\r\n    },\r\n    getRandomColor (step, numOfSteps) {\r\n      var r, g, b\r\n      var h = step / numOfSteps\r\n      var i = ~~(h * 6)\r\n      var f = h * 6 - i\r\n      var q = 1 - f\r\n      switch (i % 6) {\r\n        case 0: r = 1; g = f; b = 0; break\r\n        case 1: r = q; g = 1; b = 0; break\r\n        case 2: r = 0; g = 1; b = f; break\r\n        case 3: r = 0; g = q; b = 1; break\r\n        case 4: r = f; g = 0; b = 1; break\r\n        case 5: r = 1; g = 0; b = q; break\r\n      }\r\n      var c = '#' + ('00' + (~~(r * 255)).toString(16)).slice(-2) + ('00' + (~~(g * 255)).toString(16)).slice(-2) + ('00' + (~~(b * 255)).toString(16)).slice(-2)\r\n      return (c)\r\n    },\r\n    capitalize (s) {\r\n      if (s) {\r\n        s = s.toLowerCase()\r\n        s = s.charAt(0).toUpperCase() + s.slice(1)\r\n      }\r\n      return s\r\n    },\r\n    loadMap (map, stops) {\r\n      return new Promise((resolve) => {\r\n        if (map === null) map = this.map\r\n\r\n        // if we have stops given than copy them\r\n        if (stops) this.stops = stops\r\n\r\n        // if map hasn't load yet don't do anything\r\n        if (map) {\r\n          // delete all routes\r\n          this.addedRoutes.forEach(route => {\r\n            map.setLayoutProperty(route.id, 'visibility', 'none')\r\n          })\r\n\r\n          this.addedRoutes = []\r\n\r\n          // reset total trip count\r\n          this.$emit('distanceUpdate', -1)\r\n\r\n          this.stops.forEach((stop, index) => {\r\n            if (index >= 1) {\r\n              this.getRoute(this.stops[index - 1].Location, stop.Location, map, index, this.stops[index - 1].Profile, false)\r\n            }\r\n            if (stop.DailyTrips) {\r\n              stop.DailyTrips.forEach((dailyTrip, dailyTripIndex) => {\r\n                // if its not the first item calculate from last to this one\r\n                if (dailyTripIndex >= 1) {\r\n                  if (!dailyTrip.newDate) {\r\n                    // its not a new date calculate from last stop\r\n                    this.getRoute(stop.DailyTrips[dailyTripIndex - 1].location, dailyTrip.location, map, index + dailyTripIndex, stop.Profile, true)\r\n                  } else {\r\n                    // it starts from origin stop, calculate from there\r\n                    this.getRoute(stop.Location, dailyTrip.location, map, index + dailyTripIndex, stop.Profile, true)\r\n\r\n                    // also calculate route back to origin from the last daily trip\r\n                    this.getRoute(stop.DailyTrips[dailyTripIndex - 1].location, stop.Location, map, index + index + dailyTripIndex, stop.Profile, true)\r\n                  }\r\n                } else {\r\n                  // its the first item calculate from origin stop\r\n                  this.getRoute(stop.Location, dailyTrip.location, map, index + dailyTripIndex, stop.Profile, true)\r\n                }\r\n                // it its the last daily trip calculate route back to origin\r\n                if (dailyTripIndex === stop.DailyTrips.length - 1) this.getRoute(dailyTrip.location, stop.Location, map, dailyTripIndex + index, stop.Profile, true)\r\n              })\r\n            }\r\n\r\n            if (bounds.length !== 0) {\r\n              bounds.forEach((coordinateArray, index) => {\r\n                const currentStopLng = parseFloat(stop.Location.lng)\r\n                const currentStopLat = parseFloat(stop.Location.lat)\r\n                if (coordinateArray[0] === currentStopLng && coordinateArray[1] === currentStopLat) return false\r\n                if (index === bounds.length - 1) {\r\n                  bounds.push([currentStopLng, currentStopLat])\r\n                  return true\r\n                }\r\n              })\r\n            } else {\r\n              bounds.push([parseFloat(stop.Location.lng), parseFloat(stop.Location.lat)])\r\n            }\r\n          })\r\n\r\n          let context = this\r\n          map.on('click', function (e) {\r\n            if (!context.markerClicked) {\r\n              // reset the marker popup\r\n              context.lastPOICityData = {\r\n                title: 'Laden...',\r\n                description: '',\r\n                shortDescription: '',\r\n                img: '',\r\n                imgSrc: ''\r\n              }\r\n\r\n              var features = map.queryRenderedFeatures(e.point)\r\n              var displayProperties = [\r\n                'properties',\r\n                'id',\r\n                'layer',\r\n                'geometry'\r\n              ]\r\n\r\n              var displayFeatures = features.map(function (feat) {\r\n                var displayFeat = {}\r\n                displayProperties.forEach(function (prop) {\r\n                  displayFeat[prop] = feat[prop]\r\n                })\r\n                return displayFeat\r\n              })\r\n\r\n              displayFeatures.forEach(feature => {\r\n                if (context.whitelistedLabels.includes(feature.layer.id) && !context.markerClicked) {\r\n                  context.lastClickCoordinates = feature.geometry.coordinates\r\n                  context.title = feature.properties.name_de\r\n                  context.showAddStopMarker = true\r\n                  map.flyTo({ center: feature.geometry.coordinates, speed: 0.5, curve: 1 })\r\n\r\n                  // we never want to hide the popup\r\n                  if (!context.$refs.addStopMarker.marker._popup.options.showed) {\r\n                    setTimeout(function () {\r\n                      if (!context.$refs.addStopMarker.marker._popup.options.showed) context.$refs.addStopMarker.marker._popup.addTo(map)\r\n                    }, 100)\r\n                  }\r\n                }\r\n              })\r\n\r\n              context.loadMarkerInfos(context.title)\r\n            }\r\n            context.markerClicked = false\r\n          })\r\n\r\n          // map.on('move', () => {\r\n          // var features = map.queryRenderedFeatures(map.getCenter())\r\n          // var displayProperties = [\r\n          //   'properties'd\r\n          // ]\r\n\r\n          // var displayFeatures = features.map(function (feat) {\r\n          //   var displayFeat = {}\r\n          //   displayProperties.forEach(function (prop) {\r\n          //     displayFeat[prop] = feat[prop]\r\n          //   })\r\n          //   return displayFeat\r\n          // })\r\n\r\n          // displayFeatures.forEach(feature => {\r\n          //   if (feature.layer.id === 'country-label') console.log(feature.properties.name_de)\r\n          // })\r\n          // })\r\n          resolve(true)\r\n        }\r\n      })\r\n    },\r\n    loadMarkerInfos (title) {\r\n      let context = this\r\n\r\n      if (title) {\r\n        if (title.includes(',')) title = title.split(',')[0]\r\n\r\n        // load additional infos for marker\r\n        sharedMethods.getWikivoyageData(title).then(result => {\r\n          CitySuggestionMethods.getCityImage(title, '').then(image => {\r\n            result.img = image.url\r\n            context.lastPOICityData = result\r\n          })\r\n        }).catch((e) => {\r\n          console.log(e)\r\n        })\r\n      }\r\n    },\r\n    flyToPointOnMap (lat, lng) {\r\n      let context = this\r\n      setTimeout(function () {\r\n        console.log('fly to')\r\n        context.map.flyTo({ center: [lng, lat], speed: 0.8, curve: 1, zoom: 12 })\r\n      }, context.map == null ? 3000 : 100)\r\n    },\r\n    deg2rad (deg) {\r\n      return deg * (Math.PI / 180)\r\n    },\r\n    getRoute (startLocation, endLocation, map, index, stopProfile, dailyTrip) {\r\n      let profile = this.profile\r\n      if (stopProfile && stopProfile !== null && typeof stopProfile !== 'undefined') profile = stopProfile\r\n\r\n      // get id for route\r\n      let id = (dailyTrip ? 1 : '') + 5 + index\r\n\r\n      // get random color for route\r\n      let color = this.getRandomColor(index, this.stops.length)\r\n\r\n      if (profile !== 'plane') {\r\n        // create url for the duration request\r\n        var url = 'https://api.mapbox.com/directions/v5/mapbox/' + profile + '/' + startLocation.lng + ',' + startLocation.lat + ';' + endLocation.lng + ',' + endLocation.lat + '?geometries=geojson&access_token=' + this.accTo\r\n        let context = this\r\n\r\n        // retrieve data from mapbox\r\n        getAxios().then(axios => {\r\n          axios.get(url)\r\n            .then(response => {\r\n              var data = response.data.routes[0]\r\n              var route = data.geometry.coordinates\r\n\r\n              var geojson = {\r\n                id: id,\r\n                type: 'Feature',\r\n                properties: {},\r\n                geometry: {\r\n                  type: 'LineString',\r\n                  coordinates: route\r\n                }\r\n              }\r\n\r\n              // calculate coordinates of route marker\r\n              let geojsonCoords = geojson.geometry.coordinates\r\n              let centerLocation = geojsonCoords[Math.floor(geojsonCoords.length / 2)]\r\n\r\n              // get duration\r\n              let duration = sharedMethods.msToTime(data.duration * 1000)\r\n\r\n              let rawDistance = Math.floor(data.distance / 1000) > 0 ? Math.floor(data.distance / 1000) : 0\r\n              let distance = rawDistance > 0 ? rawDistance + ' km' : null\r\n\r\n              this.$emit('distanceUpdate', rawDistance)\r\n\r\n              // add route marker\r\n              if (duration !== null) context.addedRoutes.push({ location: centerLocation, duration: duration, distance: distance, color: color, origin: startLocation.label.split(',')[0], destination: endLocation.label.split(',')[0], id: id })\r\n\r\n              // if the route already exists on the map, reset it using setData\r\n              if (map.getSource(id)) {\r\n                map.getSource(id).setData(geojson)\r\n                map.setPaintProperty(id, 'line-color', color)\r\n                map.setLayoutProperty(id, 'visibility', 'visible')\r\n              } else { // otherwise, make a new request\r\n                map.addLayer({\r\n                  'id': id,\r\n                  'type': 'line',\r\n                  'source': {\r\n                    'type': 'geojson',\r\n                    'data': {\r\n                      'type': 'Feature',\r\n                      'properties': {},\r\n                      'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': geojson\r\n                      }\r\n                    }\r\n                  },\r\n                  'layout': {\r\n                    'line-join': 'round',\r\n                    'line-cap': 'round',\r\n                    'visibility': 'visible'\r\n                  },\r\n                  'paint': {\r\n                    'line-color': color,\r\n                    'line-width': 5,\r\n                    'line-opacity': [\r\n                      'case',\r\n                      ['boolean', ['feature-state', 'hover'], false],\r\n                      0.75,\r\n                      0.4\r\n                    ]\r\n                  }\r\n                })\r\n\r\n                map.on('click', id, function (_e) {\r\n                  // close all popups\r\n                  context.closeAllPopups()\r\n                  if (!context.markerClicked) context.$refs[id][0].togglePopup()\r\n                })\r\n                map.getSource(id).setData(geojson)\r\n              }\r\n            }).catch(function (error) {\r\n              console.log(error)\r\n            })\r\n        })\r\n      } else {\r\n        let coordinates = [[startLocation.lng, startLocation.lat], [endLocation.lng, endLocation.lat]]\r\n\r\n        var route = {\r\n          'type': 'FeatureCollection',\r\n          'features': [\r\n            {\r\n              'type': 'Feature',\r\n              'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': coordinates\r\n              }\r\n            }\r\n          ]\r\n        }\r\n\r\n        map.addSource('route', {\r\n          'type': 'geojson',\r\n          'data': route\r\n        })\r\n\r\n        map.addLayer({\r\n          'id': id,\r\n          'source': 'route',\r\n          'type': 'line',\r\n          'paint': {\r\n            'line-width': 2,\r\n            'line-color': color\r\n          }\r\n        })\r\n\r\n        // calculate coordinates of route marker\r\n        const avgLng = Math.floor((Number(startLocation.lng) + Number(endLocation.lng)) / 2)\r\n        const avgLat = Math.floor((Number(startLocation.lat) + Number(endLocation.lat)) / 2)\r\n\r\n        let centerLocation = [avgLng, avgLat]\r\n\r\n        // add route marker\r\n        this.addedRoutes.push({ location: centerLocation, duration: null, distance: null, color: color, origin: this.stops[index - 1].Location.label.split(',')[0], destination: this.stops[index].Location.label.split(',')[0], id: id })\r\n      }\r\n\r\n      // When the user moves their mouse over the route, we'll update the\r\n      // feature state for the feature under the mouse.\r\n      map.on('mousemove', id, function (e) {\r\n        if (e.features.length > 0) {\r\n          if (hoveredStateId && typeof hoveredStateId !== 'undefined') {\r\n            map.setFeatureState(\r\n              { id: hoveredStateId },\r\n              { hover: false }\r\n            )\r\n          }\r\n          if (e.features[0].layer.id && typeof e.features[0].layer.id !== 'undefined') {\r\n            hoveredStateId = e.features[0].layer.id\r\n            map.setFeatureState(\r\n              { source: hoveredStateId, id: hoveredStateId },\r\n              { hover: true }\r\n            )\r\n          }\r\n        }\r\n      })\r\n\r\n      // When the mouse leaves the route, update the feature state of the\r\n      // previously hovered feature.\r\n      map.on('mouseleave', id, function () {\r\n        if (hoveredStateId && typeof hoveredStateId !== 'undefined') {\r\n          map.setFeatureState(\r\n            { source: hoveredStateId, id: hoveredStateId },\r\n            { hover: false }\r\n          )\r\n        }\r\n        hoveredStateId = null\r\n      })\r\n    },\r\n    closeAllPopups () {\r\n      const popups = document.getElementsByClassName('mapboxgl-popup')\r\n\r\n      console.log(popups)\r\n      for (let i = 0; i < popups.length; i++) {\r\n        console.log(popups[i])\r\n        popups[i].remove()\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    bounds = []\r\n    this.centerLocation = [10.451526, 51.165691]\r\n    if (this.stops[0] && this.stops[0].Location) {\r\n      this.centerLocation = [this.stops[0].Location.lng, this.stops[0].Location.lat]\r\n    }\r\n    this.mapbox = Mapbox\r\n    this.map = null\r\n  }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=4942ad0a&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=4942ad0a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4942ad0a\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","export const countries = [\r\n  'Deutschland',\r\n  'sterreich',\r\n  'Schweiz',\r\n  'Luxemburg',\r\n  'Afghanistan',\r\n  'gypten',\r\n  'land',\r\n  'Albanien',\r\n  'Algerien',\r\n  'Amerikanisch-Samoa',\r\n  'Andorra',\r\n  'Angola',\r\n  'Anguilla',\r\n  'Antarktis',\r\n  'Antigua/Barbuda',\r\n  'quatorialguinea',\r\n  'Argentinien',\r\n  'Armenien',\r\n  'Aruba',\r\n  'Aserbaidschan',\r\n  'thiopien',\r\n  'Australien',\r\n  'Bahamas',\r\n  'Bahrain',\r\n  'Bangladesh',\r\n  'Barbados',\r\n  'Belgien',\r\n  'Belize',\r\n  'Benin',\r\n  'Bermuda',\r\n  'Bhutan',\r\n  'Bolivien',\r\n  'Bosnien/Herzegowina',\r\n  'Botsuana',\r\n  'Bouvetinsel',\r\n  'Brasilien',\r\n  'BruneiDarussalam',\r\n  'Bulgarien',\r\n  'BurkinaFaso',\r\n  'Burundi',\r\n  'CaboVerde',\r\n  'Chile',\r\n  'China',\r\n  'Cookinseln',\r\n  'CostaRica',\r\n  'Cuba',\r\n  'Dominica',\r\n  'DominikanischeRepublik',\r\n  'Dschibuti',\r\n  'Dnemark',\r\n  'Ecuador',\r\n  'ElSalvador',\r\n  'Elfenbeinkste',\r\n  'Eritrea',\r\n  'Estland',\r\n  'Falklandinseln',\r\n  'Fidschi',\r\n  'Finnland',\r\n  'Frankreich',\r\n  'Franzsisch-Guayana',\r\n  'Franzsisch-Polynesien',\r\n  'FranzsischeSdpolarterritorien',\r\n  'Frer',\r\n  'Gabun',\r\n  'Gambia',\r\n  'Georgien',\r\n  'Ghana',\r\n  'Gibraltar',\r\n  'Grenada',\r\n  'Griechenland',\r\n  'Vereinigtes Knigreich',\r\n  'Grnland',\r\n  'Guadeloupe',\r\n  'Guam',\r\n  'Guatemala',\r\n  'Guernsey',\r\n  'Guinea-Bissau',\r\n  'Guinea',\r\n  'Guyana',\r\n  'Haiti',\r\n  'HeardundMcDonaldinseln',\r\n  'Honduras',\r\n  'HongKong',\r\n  'Indien',\r\n  'Indonesien',\r\n  'Irak',\r\n  'Iran',\r\n  'Irland',\r\n  'Island',\r\n  'IsleOfMan',\r\n  'Israel',\r\n  'Italien',\r\n  'Jamaika',\r\n  'Japan',\r\n  'Jemen',\r\n  'Jersey',\r\n  'Jordanien',\r\n  'Jungferninseln,Amerikanische',\r\n  'Jungferninseln,Britische',\r\n  'Kaimaninseln',\r\n  'Kambodscha',\r\n  'Kamerun',\r\n  'Kanada',\r\n  'Kasachstan',\r\n  'Kenia',\r\n  'Kirgisistan',\r\n  'Kiribati',\r\n  'Kokosinseln',\r\n  'Kolumbien',\r\n  'Komoren',\r\n  'Kongo',\r\n  'Kroatien',\r\n  'Kuwait',\r\n  'Laos',\r\n  'Lesotho',\r\n  'Lettland',\r\n  'Libanon',\r\n  'Liberia',\r\n  'Libyen',\r\n  'Liechtenstein',\r\n  'Litauen',\r\n  'Macao',\r\n  'Madagaskar',\r\n  'Malawi',\r\n  'Malaysia',\r\n  'Maldiven',\r\n  'Mali',\r\n  'Malta',\r\n  'Marshallinseln',\r\n  'Martinique',\r\n  'Mauretanien',\r\n  'Mauritius',\r\n  'Mayotte',\r\n  'Mazedonien',\r\n  'Mexiko',\r\n  'Mikronesien',\r\n  'Moldawien',\r\n  'Monaco',\r\n  'Mongolei',\r\n  'Montenegro',\r\n  'Montserrat',\r\n  'Morokko',\r\n  'Mosambik',\r\n  'Myanmar',\r\n  'Namibia',\r\n  'Nauru',\r\n  'Nepal',\r\n  'Neukaledonien',\r\n  'Neuseeland',\r\n  'Nicaragua',\r\n  'Niederlande',\r\n  'NiederlndischeAntillen',\r\n  'Nigeria',\r\n  'Niger',\r\n  'Niue',\r\n  'Nordkorea',\r\n  'Norfolkinsel',\r\n  'Norwegen',\r\n  'NrdlicheMarianen',\r\n  'Oman',\r\n  'Pakistan',\r\n  'Palau',\r\n  'Palestina',\r\n  'Panama',\r\n  'Papua-Neuguinea',\r\n  'Paraguay',\r\n  'Peru',\r\n  'Philippinen',\r\n  'Pitcairninseln',\r\n  'Polen',\r\n  'Portugal',\r\n  'PuertoRico',\r\n  'Qatar',\r\n  'Ruanda',\r\n  'Rumnien',\r\n  'Russland',\r\n  'Runion',\r\n  'Salomonen',\r\n  'Sambia',\r\n  'Samoa',\r\n  'SanMarino',\r\n  'Saudi-Arabien',\r\n  'Schweden',\r\n  'Senegal',\r\n  'Serbien',\r\n  'Seychellen',\r\n  'SierraLeone',\r\n  'Simbabwe',\r\n  'Singapur',\r\n  'SlowakischeRepublik',\r\n  'Slowenien',\r\n  'Somalia',\r\n  'Spanien',\r\n  'SriLanka',\r\n  'St.Barthlemy',\r\n  'St.Helena',\r\n  'St.Kitts/Nevis',\r\n  'St.Lucia',\r\n  'St.Martin',\r\n  'St.Pierre/Miquelon',\r\n  'St.Vincent/DieGrenadinen',\r\n  'Sudan',\r\n  'Surinam',\r\n  'Svalbard/JanMayen',\r\n  'Swasiland',\r\n  'Syrien',\r\n  'SoTom/Prncipe',\r\n  'Sdafrika',\r\n  'Sdgeorgien/SdlichenSandwichinseln',\r\n  'Sdkorea',\r\n  'Tadschikistan',\r\n  'Taiwan',\r\n  'Tansania',\r\n  'Thailand',\r\n  'Timor-Leste',\r\n  'Togo',\r\n  'Tokelau',\r\n  'Tonga',\r\n  'TrinidadundTobago',\r\n  'Tschad',\r\n  'Tschechien',\r\n  'Tunisien',\r\n  'Turkmenistan',\r\n  'Turks-undCaicosinseln',\r\n  'Tuvalu',\r\n  'Trkei',\r\n  'Uganda',\r\n  'Ukraine',\r\n  'Ungarn',\r\n  'UnitedStatesMinorIslands',\r\n  'Uruguay',\r\n  'USA',\r\n  'Usbekistan',\r\n  'Vanuatu',\r\n  'Vatikanstadt',\r\n  'Venezuela',\r\n  'VereinigteArabischeEmirate',\r\n  'Vietnam',\r\n  'Wallis/Futuna',\r\n  'Weihnachtsinsel',\r\n  'Weirussland',\r\n  'Westsahara',\r\n  'ZentralafrikanischeRepublik',\r\n  'Zypern'\r\n]\r\n"],"sourceRoot":""}