(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"0cb2":function(e,t,n){},"56b4":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register q-px-lg q-pb-md"},[n("h1",[e._v("Registrieren")]),n("p",{staticStyle:{"text-align":"center","font-size":"20px","padding-bottom":"10px"}},[e._v(e._s(e.isInDemoSession?"Registriere dich jetzt um deine erstellte Rundreise zu speichern":"Starte jetzt durch und nutze all unsere Funktionen komplett kostenlos"))]),n("q-form",{staticClass:"q-gutter-md rounded-borders flex column",staticStyle:{"align-items":"center"},attrs:{bordered:""},on:{submit:e.signUp}},[n("q-input",{attrs:{outlined:"",type:"email",rules:[function(e){return null!==e&&""!==e||"Bitte gib eine Email an"},function(t){return e.reg.test(t)||"Bitte gib eine richtige Email an"}],label:"Email","lazy-rules":"",name:"EMAIL"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),n("q-input",{attrs:{outlined:"",type:e.isPwd?"password":"text",label:"neues Passwort","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Bitte gib dein neues Passwort ein"}]},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("q-input",{attrs:{outlined:"",type:e.isPwdRepeat?"password":"text",label:"neues Passwort wiederholen","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Bitte wiederhole dein Passwort"},function(t){return t===e.password||"Die beiden Passwörter stimmen nicht überein"}]},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwdRepeat?"visibility_off":"visibility"},on:{click:function(t){e.isPwdRepeat=!e.isPwdRepeat}}})]},proxy:!0}]),model:{value:e.passwordRepeat,callback:function(t){e.passwordRepeat=t},expression:"passwordRepeat"}}),n("div",{staticStyle:{padding:"10px"}},[n("q-btn",{staticClass:"q-mt-md",staticStyle:{width:"300px"},attrs:{type:"submit",loading:e.submitting,label:"Registrieren",color:"primary","text-color":"white"},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner")]},proxy:!0}])})],1)],1),n("div",{staticClass:"google-form"},[n("span",{staticStyle:{"text-align":"center"}},[e._v("oder")]),n("br"),n("q-btn",{staticClass:"q-mt-md google-btn",staticStyle:{width:"300px"},attrs:{loading:e.googleLoading,label:"google konto verwenden",icon:"fab fa-google"},on:{click:e.signUpWithGoogle},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner")]},proxy:!0}])})],1),n("p",{staticStyle:{"text-align":"center"}},[e._v("Mit der Registrierung stimmst du zu das wir dir Emails an deine angegebene Adresse senden dürfen.")]),n("br"),n("div",{staticClass:"legal-container"},[n("q-list",{attrs:{bordered:""}},[n("q-expansion-item",{attrs:{label:" Warum muss man sich bei Roundtrips4you registrieren?"}},[n("q-card",[n("q-card-section",[n("p",[e._v("Bei uns musst du dich nur Registrieren, damit wir deine Reisen auch dir zuordnen können.")]),n("p",[e._v("Leider geht dies nur wenn du einen Account hast der eindeutig zu dir gehört (deshalb brauchen wir deine Email Adresse).")]),n("p",[e._v("Nach der Registrierung musst du allerdings gar keine weiteren Daten angeben, wenn du das nicht möchtest.")]),n("p",[e._v("Natürlich kannst du uns auch jederzeit unter "),n("a",{attrs:{href:"mailto:hello@roundtrips4you.de"}},[e._v("hello@roundtrips4you.de")]),e._v(" Fragen zum Datenschutz stellen oder einfach in der Datenschutzerklärung nachlesen.")])])],1)],1)],1)],1),n("br"),n("div",{staticStyle:{"font-size":"18px","text-align":"center"}},[e._v("Du hast bereits einen Account? "),n("router-link",{attrs:{to:"/login"}},[e._v("Jetzt Anmelden")])],1),n("q-dialog",{attrs:{persistent:""},model:{value:e.showCancelDialog,callback:function(t){e.showCancelDialog=t},expression:"showCancelDialog"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("Ungesicherte Änderungen")]),n("span",[e._v("Wenn du jetzt zurück gehst werden deine Änderungen verworfen! "),n("br"),e._v(" Möchtest du trotzdem zurück?")])]),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Änderungen verwerfen",flat:""},on:{click:function(t){e.cancelDialogNext(),e.$store.commit("demoSession/resetRoundtrip")}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{type:"submit",label:"Abbrechen",flat:""}})],1)],1)],1)],1)},s=[],r=n("1261"),a=n("15c8");const o=()=>Promise.resolve().then(n.bind(null,"2591"));let l=Date.now();var u={url:"https://roundtrips4you.de/login",handleCodeInApp:!0},d={meta:{title:"Registrieren",meta:{description:{name:"description",content:"Registriere dich jetzt kostenlos bei roundtrips4you und erstelle selbst deine eigenen Reisen. Dein Reiseplaner mit Kartenfunktion, Städtevorschlag..."}}},name:"Register",data(){return{userEmail:"",password:"",passwordRepeat:"",isPwd:!0,isPwdRepeat:!0,submitting:!1,googleLoading:!1,showCancelDialog:!1,cancelDialogNext:null,disableLeave:!0,reg:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/}},computed:{isInDemoSession(){return this.$store.getters["demoSession/isInDemoSession"]}},methods:{signUp(e){let t=this,n=this.userEmail;r["a"].authRef().createUserWithEmailAndPassword(n,this.password).then(n=>{t.createUserEntry(n),t.disableLeave=!1,a["a"].showSuccessNotification("Juhuuu dein Konto wurde erfolgreich erstellt"),t.isInDemoSession?t.$store.dispatch("demoSession/saveRoundtrip",n.user.uid).then(e=>{t.$router.replace("rundreise-ansehen/"+e)}):(e.target.submit(),t.$router.replace("meine-rundreisen"))},e=>{console.log(e),a["a"].showErrorNotification("Oh nein, du konntest leider nicht registriert werden, schreibe uns bitte ein email")})},signUpWithGoogle(){o().then(e=>{var t=new e.auth.GoogleAuthProvider;let n=this;r["a"].authRef().signInWithPopup(t).then((function(t){var i=t.credential.accessToken;const s=e.auth.GoogleAuthProvider().credential(i);n.createUserEntry(t.user),r["a"].signInWithCredential(s).then((function(){n.disableLeave=!1,n.$router.replace("meine-rundreisen")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})},verifyMail(e){e.emailVerified||e.sendEmailVerification(u).then((function(){a["a"].showSuccessNotification("Wir haben dir eine Bestätigungsmail für deine Email gesendet")})).catch((function(e){console.log(e),a["a"].showErrorNotification("Oh nein, wir konnten dir leider keine email senden, bitte kontaktiere uns unter hello@roundtrips4you.de")}))},createUserEntry(e){r["b"].collection("User").add({Reputation:0,UserImage:e.user.photoURL,UserName:e.user.displayName,UserUID:e.user.uid,createdAt:new Date(l)}),this.verifyMail(e.user)}},beforeRouteLeave(e,t,n){this.$store.getters["demoSession/isInDemoSession"]&&this.disableLeave?(this.showCancelDialog=!0,this.cancelDialogNext=n):n()}},c=d,p=(n("b9fa"),n("2877")),g=Object(p["a"])(c,i,s,!1,null,null,null);t["default"]=g.exports},b9fa:function(e,t,n){"use strict";var i=n("0cb2"),s=n.n(i);s.a}}]);