{"version":3,"sources":["webpack:///./src/pages/RoundtripWizard.vue?d4bb","webpack:///./src/pages/RoundtripWizard.vue?c635","webpack:///src/pages/RoundtripWizard.vue","webpack:///./src/pages/RoundtripWizard.vue?129c","webpack:///./src/pages/RoundtripWizard.vue?3d35","webpack:///./src/pages/RoundtripWizard.vue?e7f1"],"names":[],"mappings":"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EA;AA+HA,GA9IA;;AA+IA;AACA;;;AAGA;AACA,iCADA,CAGA;;AACA,oHAJA,CAMA;;AACA;AACA,gFARA,CAUA;;AACA;AACA;AACA,0GADA,CAGA;;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAEA,4DAdA,CAgBA;;AACA;AACA;AAEA;AACA,OArBA,MAqBA;AACA;AACA;;AAEA;AACA,4BADA;AAEA,0DAFA;AAGA,sBAHA;AAIA,kBAJA;AAKA,qFALA;AAMA,0BANA;AAOA;AAPA,QApCA,CA8CA;;AACA;AAEA;AACA,KAtDA;;AAuDA;;;;AAIA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA,OALA;AAOA;AACA,KAvEA;;AAwEA;;;;AAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA;AACA,KAvFA;;AAwFA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA,OAJA;;AAKA;AACA;AAEA;AACA;AACA,SAFA;AAIA;AACA;AACA;;AACA;AACA,KAjHA;;AAkHA;;;;AAIA;AACA,mBADA,CACA;;AACA,2CAFA,CAEA;;AACA;AACA,cACA,0CACA,8DACA,kBADA,GACA,kBAHA;AAKA;AACA,oBAVA,CAUA;;AACA;AACA,KAlIA;;AAmIA;AACA;AACA,KArIA;;AAsIA;;;AAGA;AACA,iCADA,CAGA;AACA;AAEA;;AACA,8DAPA,CASA;;AACA,6IAVA,CAYA;;AACA,uCAbA,CAeA;;AACA;;AAEA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AAEA,sGA7BA,CA+BA;;AACA;AAEA;AAEA;AACA,KA9KA;;AA+KA;;;AAGA;AACA,iGADA,CAGA;;AACA,8DAJA,CAMA;;AACA;AACA;AACA,OAFA;AAIA;AACA;AAEA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAFA;AAGA,SAJA,MAIA;AACA,+BADA,CAGA;;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA,WATA;AAWA;AAEA;AACA;AACA;AAEA;AACA;AACA,aAFA,EAEA,IAFA;AAGA,WAPA;AAQA,SAzBA,MAyBA;AACA;AAEA;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACA,IADA,CACA;AACA;AACA,mCADA,CAEA;;AACA;AACA;AACA;AACA;AACA,iBAJA,EAIA,GAJA;AAKA,eARA,MAQA;AACA;AACA;AACA;AACA,aAdA;AAeA,WAhBA,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAzDA;AA0DA,KA3QA;;AA4QA;;;AAGA;AACA;AAEA;AACA;AAEA;AACA;AACA,KAvRA;;AAwRA;;;;AAIA;AACA;AACA,2DACA;AACA,KAhSA;;AAiSA;AACA;AACA;AACA;AAEA;AACA;AAEA,2BACA,yBACA,IADA,CACA;AACA;AACA,WAHA,EAGA,KAHA,CAGA;AACA;AACA,WALA,CADA;AAQA,SAXA;AAaA;AACA;AACA,SAFA;AAGA,OApBA;AAqBA,KAvTA;;AAwTA;AACA;AAEA;AACA;AAEA;AACA;AACA,KAhUA;;AAiUA;AACA,iCADA,CAGA;;AACA,oDAJA,CAMA;;AACA,uEAPA,CASA;AACA;AACA;AACA;;AAEA;AAEA;AAEA;AACA,uEAnBA,CAqBA;;AACA,gFAtBA,CAwBA;;AACA;AACA;AAEA;AACA;AACA,OA9BA,CAgCA;;;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAEA,sCA1CA,CA4CA;;AACA;AACA,KA/WA;;AAgXA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAxXA;;AAyXA;AACA;AACA,KA3XA;;AA4XA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAlYA;;AAmYA;AACA;AACA,KArYA;;AAsYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhZA;;AAiZA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7ZA;;AA8ZA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,KAvaA;;AAwaA;AACA;AACA,KA1aA;;AA2aA;;;AAGA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAnbA;;AAobA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AATA;AAWA,KAhcA;;AAicA;AACA;AACA,KAncA;;AAocA;;;AAGA;AACA;AAEA;AACA,4BADA;AAEA,2BAFA;AAGA;AAHA;AAMA;AACA;AACA,KAldA;;AAmdA;;;;AAIA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;AAGA;AAHA;AAKA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA,KAneA;;AAoeA;AACA;AACA,KAteA;;AAueA;;;AAGA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KA5fA;;AA6fA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAdA;AAeA,KAlhBA;;AAmhBA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA;AAOA;AACA,KAhiBA;;AAiiBA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA,wDADA;AAEA,yDAFA;AAGA,oFAHA;AAIA;AAJA;AADA,aAQA,IARA,CAQA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA,WAvBA,EAwBA,KAxBA,CAwBA;AACA;AACA,WA1BA;AA2BA,SA5BA,MA4BA;AACA;AACA;AACA;AACA,KAzkBA;;AA0kBA;AACA;AACA,gBADA;AAEA,gBAFA;AAGA;AAHA;AAMA;AAEA;AAEA;AAEA;AAEA,oCAfA,CAiBA;AACA,KA5lBA;;AA6lBA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AARA;AAUA,KAxmBA;;AAymBA;AACA;AACA;AACA,KA5mBA;;AA6mBA;AACA;AACA,kEACA,IADA,CACA;AACA;AACA,qCADA;AAEA,sCAFA;AAGA;AAHA;AAKA,OAPA,EAOA,KAPA,CAOA;AACA;AACA,OATA;AAUA,KAznBA;;AA0nBA;AACA;AACA,KA5nBA;;AA6nBA;AACA;AACA,KA/nBA;;AAgoBA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAtoBA;;AAuoBA;AACA;AACA;AACA;AACA;AAEA;AACA,KA9oBA;;AA+oBA;AACA;AACA,+CAFA,CAIA;;AACA;AACA;AACA,mDADA;AAEA,4DAFA;AAGA,kCAHA;AAIA,oBAJA;AAKA,4BALA;AAMA,4BANA;AAOA;AAPA;AAUA,sCAXA,CAYA;AACA;AACA,KAlqBA;;AAmqBA;;;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;;AA9qBA,GA/IA;;AA+zBA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,WAFA,EANA,CAUA;;AACA,wFACA,KADA,CACA,MADA,EACA,IADA,EACA,IADA,EAEA,OAFA,CAEA,UAFA;AAGA,8BACA,IADA,CACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AAEA;AAEA;AACA;AAEA;AACA,aAhBA;AAiBA,WAnBA;AAoBA;AACA;AACA,KAzCA;AA0CA;;AA12BA,G;;ACr/ByL,CAAgB,yHAAG,EAAC,C;;;;;;;;ACA/G;AAC3B;AACL;AACc;;;AAG5E;AAC0F;AAC1F,gBAAgB,8CAAU;AAC1B,EAAE,6CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,sG;;;;;;;;ACnBf;AAAA;AAAA;AAA8c,CAAgB,4fAAG,EAAC,C","file":"js/17.js","sourcesContent":["// extracted by mini-css-extract-plugin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:!_vm.isRTEditMode ? 'q-px-lg q-pb-md' : '',style:(!_vm.isRTEditMode ? 'padding-top:20px;' : ''),attrs:{\"id\":\"roundtripWizard\"}},[(_vm.user !== null)?_c('div',{staticClass:\"edit-btn-container\",staticStyle:{\"position\":\"fixed\",\"z-index\":\"101\",\"right\":\"0\",\"padding\":\"10px\"}},[(_vm.$route.params.id)?_c('q-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"visibility\"},on:{\"click\":function($event){_vm.unsavedChanges ? _vm.showCancelDialog = true : _vm.$router.push('/rundreise-ansehen/' + _vm.$route.params.id)}}},[_c('q-tooltip',[_vm._v(\"Reise ansehen\")])],1):_vm._e()],1):_vm._e(),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.showCancelDialog),callback:function ($$v) {_vm.showCancelDialog=$$v},expression:\"showCancelDialog\"}},[_c('q-card',{staticStyle:{\"min-width\":\"350px\"}},[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Ungesicherte Änderungen\")]),_c('span',[_vm._v(\"Wenn du jetzt zurück gehst werden deine Änderungen werden verworfen! \"),_c('br'),_vm._v(\" Möchtest du trotzdem zurück?\")])]),_c('q-card-actions',{staticClass:\"text-primary\",attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Änderungen verwerfen\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/rundreise-ansehen/' + _vm.$route.params.id)}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"type\":\"submit\",\"label\":\"Abbrechen\",\"flat\":\"\"}})],1)],1)],1),(!_vm.$store.getters['demoSession/isInDemoSession'])?_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isRTEditMode),expression:\"!isRTEditMode\"}],on:{\"click\":function($event){return _vm.$router.push('/meine-rundreisen')}}},[_c('q-icon',{attrs:{\"name\":\"keyboard_arrow_left\"}}),_vm._v(\"\\n      meine Rundreisen\\n    \")],1)]):_vm._e(),(!_vm.isRTEditMode)?_c('q-stepper',{ref:\"stepper\",attrs:{\"header-nav\":\"\",\"color\":\"primary\",\"contracted\":_vm.isMobile,\"animated\":\"\",\"keep-alive\":\"\"},scopedSlots:_vm._u([{key:\"navigation\",fn:function(){return [_c('div',{staticStyle:{\"height\":\"80px\"}})]},proxy:true},{key:\"message\",fn:function(){return [_c('div',{staticClass:\"sticky-navigation\",style:(!_vm.isRTEditMode ? 'top: 93vh;' : '')},[_c('q-stepper-navigation',{staticClass:\"flex justify-end\"},[(_vm.step === 1)?[_c('q-btn',{attrs:{\"color\":\"primary\",\"disable\":!_vm.currentRoundtrip.Title || !_vm.currentRoundtrip.Rooms || !_vm.currentRoundtrip.Adults,\"label\":\"weiter\"},on:{\"click\":function($event){_vm.step = 2}}})]:(_vm.step === 2)?[_c('q-btn',{staticClass:\"q-ml-sm\",attrs:{\"flat\":\"\",\"color\":\"primary\",\"label\":\"Zurück\"},on:{\"click\":function($event){_vm.step = 1}}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"disable\":_vm.currentRoundtrip.TransportProfile === 'Reisemittel wählen' || (_vm.currentRoundtrip.TransportProfile === 'Flugzeug' && (!_vm.currentRoundtrip.TransportProfile || !_vm.currentRoundtrip.Origin || !_vm.currentRoundtrip.Destination || !_vm.currentRoundtrip.DepatureDate || !_vm.currentRoundtrip.ReturnDate || !_vm.currentRoundtrip.TravelClass || !_vm.currentRoundtrip.NonStop)),\"label\":\"Weiter\"},on:{\"click\":function($event){_vm.step = 3}}})]:(_vm.step === 3)?[(!_vm.isRTEditMode)?_c('q-btn',{staticClass:\"q-ml-sm\",attrs:{\"flat\":\"\",\"color\":\"primary\",\"label\":\"zurück\"},on:{\"click\":function($event){_vm.step = 2}}}):_vm._e(),_c('q-btn',{staticClass:\"q-ml-sm\",attrs:{\"flat\":\"\",\"color\":\"primary\",\"disable\":_vm.addedStops.length <= 1,\"label\":_vm.unsavedChanges ? (!_vm.isRTEditMode ? 'Reise fertigstellen' : 'Reise speichern') : 'Reise ansehen',\"loading\":_vm.saving},on:{\"click\":function($event){_vm.unsavedChanges ? _vm.createTrip() : _vm.$router.push('/rundreise-ansehen/' + _vm.$route.params.id)}}})]:_vm._e()],2)],1)]},proxy:true}],null,false,3141146287),model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[(!_vm.isRTEditMode)?_c('q-step',{attrs:{\"name\":1,\"title\":\"Allgemeine Infos\",\"icon\":\"settings\",\"done\":_vm.step > 1,\"header-nav\":_vm.step > 1}},[_c('q-input',{ref:\"titleInput\",attrs:{\"rules\":[function (val) { return val !== null &&  val !== ''  || 'Bitte gib einen Titel an'; }, function (val) { return _vm.isUniqueTitle(val); }, function (val) { return val[0] !== ' ' || 'Das erste Zeichen kann kein Leerzeichen sein'; }],\"label\":\"Titel\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"title\"}})]},proxy:true}],null,false,490390316),model:{value:(_vm.currentRoundtrip.Title),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"Title\", $$v)},expression:\"currentRoundtrip.Title\"}}),_c('div',[_c('p',[_vm._v(\"Die folgenden Infos benötigen wir, um bei der Hotelsuche bereits alle Daten für dich einzugeben. \"),_c('br'),_vm._v(\" Du kannst dies auch später noch ändern\")]),_c('q-input',{attrs:{\"label\":\"Zimmer\",\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0  || 'Bitte gib eine Zimmeranzahl an'; }],\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"house\"}})]},proxy:true}],null,false,2617713096),model:{value:(_vm.currentRoundtrip.Rooms),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"Rooms\", $$v)},expression:\"currentRoundtrip.Rooms\"}}),_c('q-input',{attrs:{\"label\":\"Erwachsene\",\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0  || 'Bitte gib die Anzahl der Erwachsenen Reisenden an'; }, function (val) { return val <= parseInt(_vm.currentRoundtrip.Rooms) * 9 || 'Bitte wähle mehr Zimmer'; }],\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"group\"}})]},proxy:true}],null,false,1028831827),model:{value:(_vm.currentRoundtrip.Adults),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"Adults\", $$v)},expression:\"currentRoundtrip.Adults\"}}),_c('q-input',{attrs:{\"label\":\"Kinder\",\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val >= 0  && val <= 20|| 'Bitte gib die Anzahl der Kinder auf der Reise an'; }],\"outlined\":\"\"},on:{\"input\":function($event){_vm.currentRoundtrip.ChildrenAges.length = parseInt(_vm.currentRoundtrip.ChildrenAges)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"child_friendly\"}})]},proxy:true}],null,false,1135801950),model:{value:(_vm.currentRoundtrip.Children),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"Children\", $$v)},expression:\"currentRoundtrip.Children\"}}),(parseInt(_vm.currentRoundtrip.Children) > 0  && parseInt(_vm.currentRoundtrip.Children) <= 20)?_c('div',{staticClass:\"flex justify-center\",staticStyle:{\"margin\":\"auto\",\"margin-top\":\"20px\"}},_vm._l((parseInt(_vm.currentRoundtrip.Children)),function(childNum){return _c('q-input',{key:childNum,staticStyle:{\"margin-right\":\"10px\"},attrs:{\"label\":'Alter Kind ' + childNum,\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0 || 'Bitte gib das Alter des Kindes an'; }],\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"child_friendly\"}})]},proxy:true}],null,true),model:{value:(_vm.currentRoundtrip.ChildrenAges[childNum - 1]),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip.ChildrenAges, childNum - 1, $$v)},expression:\"currentRoundtrip.ChildrenAges[childNum - 1]\"}})}),1):_vm._e()],1),_c('p',[_vm._v(\"Wenn du das genaue Datum noch nicht weißt, kannst du es auch später noch ändern.\")]),_c('q-input',{staticClass:\"input-item\",attrs:{\"filled\":\"\",\"error-message\":\"Bitte gib ein richtiges Datum an\",\"error\":!_vm.isDateTimeValid(),\"lazy-rules\":\"\",\"bottom-slots\":\"\",\"outlined\":\"\",\"label\":\"Startdatum\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}},[_c('q-popup-proxy',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"today-btn\":\"\",\"mask\":\"DD.MM.YYYY HH:mm\"},model:{value:(_vm.currentStop.InitDate),callback:function ($$v) {_vm.$set(_vm.currentStop, \"InitDate\", $$v)},expression:\"currentStop.InitDate\"}})],1)],1)]},proxy:true},{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"access_time\"}},[_c('q-popup-proxy',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-time',{attrs:{\"mask\":\"DD.MM.YYYY HH:mm\",\"format24h\":\"\"},model:{value:(_vm.currentStop.InitDate),callback:function ($$v) {_vm.$set(_vm.currentStop, \"InitDate\", $$v)},expression:\"currentStop.InitDate\"}})],1)],1)]},proxy:true}],null,false,1420779139),model:{value:(_vm.currentStop.InitDate),callback:function ($$v) {_vm.$set(_vm.currentStop, \"InitDate\", $$v)},expression:\"currentStop.InitDate\"}})],1):_vm._e(),(!_vm.isRTEditMode)?_c('q-step',{attrs:{\"name\":2,\"title\":\"An-/Abreise\",\"icon\":\"flight\",\"done\":_vm.step > 2,\"header-nav\":_vm.step > 2}},[_c('q-select',{staticStyle:{\"padding-bottom\":\"32px\"},attrs:{\"outlined\":\"\",\"input-debounce\":\"0\",\"options\":['Flugzeug', 'Andere'],\"label\":\"Reisemittel\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle ein Reisemittel'; }]},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"commute\"}})]},proxy:true}],null,false,1230678660),model:{value:(_vm.currentRoundtrip.TransportProfile),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"TransportProfile\", $$v)},expression:\"currentRoundtrip.TransportProfile\"}}),(_vm.currentRoundtrip.TransportProfile === 'Flugzeug')?_c('div',{staticClass:\"flight-container\"},[_c('q-select',{ref:\"select\",attrs:{\"outlined\":\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",\"clearable\":\"\",\"hide-dropdown-icon\":\"\",\"label\":\"Abflugsort\",\"options\":_vm.originOptions,\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle einen Ort'; }]},on:{\"filter\":_vm.getOrigins},scopedSlots:_vm._u([{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-grey\"},[_vm._v(\"\\n                zu viele/keine Ergebnisse, bitte weitertippen\\n              \")])],1)]},proxy:true},{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"flight_takeoff\"}})]},proxy:true}],null,false,248680868),model:{value:(_vm.currentRoundtrip.Origin),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"Origin\", $$v)},expression:\"currentRoundtrip.Origin\"}}),_c('q-select',{ref:\"select\",attrs:{\"outlined\":\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",\"clearable\":\"\",\"hide-dropdown-icon\":\"\",\"label\":\"Ankunftsort\",\"options\":_vm.destinationOptions,\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle einen Ort'; }]},on:{\"filter\":_vm.getDestinations,\"input\":function($event){return _vm.destinationChanged($event)}},scopedSlots:_vm._u([{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-grey\"},[_vm._v(\"\\n                zu viele/keine Ergebnisse, bitte weitertippen\\n              \")])],1)]},proxy:true},{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"flight_land\"}})]},proxy:true}],null,false,137916215),model:{value:(_vm.currentRoundtrip.Destination),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"Destination\", $$v)},expression:\"currentRoundtrip.Destination\"}}),_c('q-input',{staticClass:\"input-item rounded-borders q-field--with-bottom\",attrs:{\"outlined\":\"\",\"label\":\"Abflugsdatum\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}})]},proxy:true}],null,false,991951772),model:{value:(_vm.currentRoundtrip.DepatureDate),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"DepatureDate\", $$v)},expression:\"currentRoundtrip.DepatureDate\"}},[_c('q-popup-proxy',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"today-btn\":\"\",\"mask\":\"DD.MM.YYYY\"},on:{\"input\":function($event){return _vm.updateReturnDate()}},model:{value:(_vm.currentRoundtrip.DepatureDate),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"DepatureDate\", $$v)},expression:\"currentRoundtrip.DepatureDate\"}})],1)],1),_c('q-input',{staticClass:\"input-item rounded-borders q-field--with-bottom\",attrs:{\"outlined\":\"\",\"label\":\"Rückflugsdatum\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}})]},proxy:true}],null,false,991951772),model:{value:(_vm.currentRoundtrip.ReturnDate),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"ReturnDate\", $$v)},expression:\"currentRoundtrip.ReturnDate\"}},[_c('q-popup-proxy',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"today-btn\":\"\",\"mask\":\"DD.MM.YYYY\"},model:{value:(_vm.currentRoundtrip.ReturnDate),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"ReturnDate\", $$v)},expression:\"currentRoundtrip.ReturnDate\"}})],1)],1),_c('q-select',{attrs:{\"outlined\":\"\",\"input-debounce\":\"0\",\"options\":['Economy', 'Premium Economy', 'Business', 'First'],\"label\":\"Reiseklasse auswählen\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle eine Klasse'; }]},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"star\"}})]},proxy:true}],null,false,2365783000),model:{value:(_vm.currentRoundtrip.TravelClass),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"TravelClass\", $$v)},expression:\"currentRoundtrip.TravelClass\"}}),_c('q-select',{attrs:{\"outlined\":\"\",\"input-debounce\":\"0\",\"options\":['Ja', 'Nein'],\"label\":\"Non Stop\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle eine Option'; }]},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"flight\"}})]},proxy:true}],null,false,2782165300),model:{value:(_vm.currentRoundtrip.NonStop),callback:function ($$v) {_vm.$set(_vm.currentRoundtrip, \"NonStop\", $$v)},expression:\"currentRoundtrip.NonStop\"}})],1):(_vm.currentRoundtrip.TransportProfile === 'Andere')?_c('div',[_c('p',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"Bei einem anderem Reisemittel können wir dir bei der Planung deiner An- und Abreise aktuell leider nicht helfen.\")]),_c('p',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"Du kannst dafür sofort mit der Reiseplanung beginnen!\")])]):_vm._e()],1):_vm._e(),_c('q-step',{attrs:{\"name\":3,\"title\":\"Reise erstellen\",\"icon\":\"place\",\"done\":_vm.step > 3,\"header-nav\":_vm.step > 3}},[_c('TripOverview',{ref:\"tripOverview\",attrs:{\"addedStops\":_vm.addedStops,\"currentRoundtrip\":_vm.currentRoundtrip,\"isEditMode\":_vm.isRTEditMode},on:{\"stopsDragged\":function($event){return _vm.onStopsDragged($event)},\"editStop\":function($event){return _vm.editStop($event);},\"removeStop\":function($event){return _vm.removeStop($event)},\"addStop\":function($event){return _vm.handleAddStopFromMap($event)},\"update\":function($event){return _vm.updateFromSuggestedCity($event)},\"distanceUpdate\":function($event){return _vm.updateTotalTripDistance($event)}}})],1)],1):_c('div',[_c('TripOverview',{attrs:{\"addedStops\":_vm.addedStops,\"currentRoundtrip\":_vm.currentRoundtrip,\"isEditMode\":_vm.isRTEditMode},on:{\"stopsDragged\":function($event){return _vm.onStopsDragged($event)},\"editStop\":function($event){return _vm.editStop($event);},\"removeStop\":function($event){return _vm.removeStop($event)},\"addStop\":function($event){return _vm.handleAddStopFromMap($event)},\"update\":function($event){return _vm.updateFromSuggestedCity($event)},\"distanceUpdate\":function($event){return _vm.updateTotalTripDistance($event)}}}),_c('div',{staticClass:\"sticky-navigation\"},[_c('q-btn',{staticClass:\"q-ml-sm\",attrs:{\"flat\":\"\",\"color\":\"primary\",\"label\":_vm.unsavedChanges ? (!_vm.isRTEditMode ? 'Reise fertigstellen' : 'Reise speichern') : 'Reise ansehen',\"loading\":_vm.saving},on:{\"click\":function($event){_vm.unsavedChanges ? _vm.createTrip() : _vm.$router.push('/rundreise-ansehen/' + _vm.$route.params.id)}}})],1)],1),_c('q-dialog',{staticClass:\"bg-white\",model:{value:(_vm.showAddStopDialog),callback:function ($$v) {_vm.showAddStopDialog=$$v},expression:\"showAddStopDialog\"}},[_c('q-card',[_c('q-card-section',[_c('q-input',{staticStyle:{\"font-family\":\"Raleway\",\"font-size\":\"1.25rem\"},attrs:{\"rules\":[function (val) { return val !== null &&  val !== ''  || 'Bitte gib einen Titel an'; }],\"autofocus\":\"\",\"label\":\"Titel\",\"label-color\":\"secondary\",\"filled\":\"\",\"lazy-rules\":\"\"},model:{value:(_vm.currentStop.Title),callback:function ($$v) {_vm.$set(_vm.currentStop, \"Title\", $$v)},expression:\"currentStop.Title\"}}),_c('q-input',{attrs:{\"type\":\"number\",\"filled\":\"\",\"label\":\"Dauer in Tagen\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0 || 'Bitte gib eine Anzahl von Tagen ein'; }],\"lazy-rules\":\"\"},model:{value:(_vm.currentStop.DayDuration),callback:function ($$v) {_vm.$set(_vm.currentStop, \"DayDuration\", _vm._n($$v))},expression:\"currentStop.DayDuration\"}}),_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('span',[_vm._v(\"Ankunftszeit:\")]),_c('span',{staticClass:\"cursor-pointer font-medium\"},[_vm._v(\"\\n            \"+_vm._s(_vm.currentStop.InitDate.split(' ')[1])+\"\\n            \"),_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"access_time\"}}),_c('q-popup-proxy',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-time',{attrs:{\"mask\":\"DD.MM.YYYY HH:mm\",\"format24h\":\"\"},model:{value:(_vm.currentStop.InitDate),callback:function ($$v) {_vm.$set(_vm.currentStop, \"InitDate\", $$v)},expression:\"currentStop.InitDate\"}},[_c('div',{staticClass:\"row items-center justify-end\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Fertig\",\"color\":\"primary\",\"flat\":\"\"}})],1)])],1)],1)])],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Abbrechen\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"primary\",\"disable\":!_vm.currentStop.Title && _vm.currentStop.DayDuration <= 0,\"label\":\"hinzufügen\"},on:{\"click\":function () { _vm.addStop() }}})],1)],1)],1),_c('q-dialog',{model:{value:(_vm.showEditStopDialog),callback:function ($$v) {_vm.showEditStopDialog=$$v},expression:\"showEditStopDialog\"}},[_c('q-card',[_c('q-card-section',[_c('q-input',{staticStyle:{\"font-family\":\"Raleway\",\"font-size\":\"1.25rem\"},attrs:{\"rules\":[function (val) { return val !== null &&  val !== ''  || 'Bitte gib einen Titel an'; }],\"autofocus\":\"\",\"label\":\"Titel\",\"label-color\":\"secondary\",\"filled\":\"\",\"lazy-rules\":\"\"},model:{value:(_vm.currentStop.Title),callback:function ($$v) {_vm.$set(_vm.currentStop, \"Title\", $$v)},expression:\"currentStop.Title\"}}),_c('q-input',{attrs:{\"type\":\"number\",\"filled\":\"\",\"label\":\"Dauer in Tagen\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0 || 'Bitte gib eine Anzahl von Tagen ein'; }],\"lazy-rules\":\"\"},model:{value:(_vm.currentStop.DayDuration),callback:function ($$v) {_vm.$set(_vm.currentStop, \"DayDuration\", _vm._n($$v))},expression:\"currentStop.DayDuration\"}}),_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('span',[_vm._v(\"Ankunft:\")]),_c('span',{staticClass:\"cursor-pointer font-medium\"},[_vm._v(\"\\n            \"+_vm._s(_vm.currentStop.InitDate.split(' ')[1])+\"\\n            \"),_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"access_time\"}}),_c('q-popup-proxy',{attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-time',{attrs:{\"mask\":\"DD.MM.YYYY HH:mm\",\"format24h\":\"\"},model:{value:(_vm.currentStop.InitDate),callback:function ($$v) {_vm.$set(_vm.currentStop, \"InitDate\", $$v)},expression:\"currentStop.InitDate\"}},[_c('div',{staticClass:\"row items-center justify-end\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Fertig\",\"color\":\"primary\",\"flat\":\"\"}})],1)])],1)],1)]),_c('q-select',{staticClass:\"input-item\",attrs:{\"outlined\":\"\",\"options\":['zu Fuß', 'Fahrrad', 'Auto'],\"label\":\"Reisemittel ab Ort\",\"use-input\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle ein Reisemittel'; }]},on:{\"input\":function($event){return _vm.getGeneralProfile()}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"commute\"}})]},proxy:true}]),model:{value:(_vm.inputProfile),callback:function ($$v) {_vm.inputProfile=$$v},expression:\"inputProfile\"}}),(!_vm.hotelName)?_c('div',{staticStyle:{\"margin-bottom\":\"30px\"}},[_c('q-btn',{attrs:{\"size\":\"20\",\"icon\":\"add\"},on:{\"click\":function($event){_vm.addHotel = true}}},[_vm._v(\"Hotel hinzufügen\\n          \")])],1):_vm._e(),_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[(_vm.hotelName)?_c('q-list',{staticClass:\"rounded-borders\",attrs:{\"bordered\":\"\",\"padding\":\"\",\"dense\":\"\"}},[_c('q-item',{staticClass:\"hotel-list\"},[_c('q-item-section',{attrs:{\"avatar\":\"\",\"top\":\"\"}},[_c('q-avatar',{attrs:{\"color\":\"secondary\",\"text-color\":\"white\",\"font-size\":\"20px\",\"icon\":\"hotel\"}})],1),_c('q-item-section',[_c('q-item-label',{staticClass:\"flex\",staticStyle:{\"flex-wrap\":\"wrap\",\"white-space\":\"normal\"},attrs:{\"lines\":\"2\"}},[_c('span',{staticStyle:{\"padding-right\":\"5px\"}},[_vm._v(_vm._s(_vm.capitalize(_vm.hotelName)))]),(_vm.hotelStars && !isNaN(_vm.hotelStars))?_c('q-rating',{staticClass:\"stars\",staticStyle:{\"margin-right\":\"10px\",\"padding-right\":\"5px\"},attrs:{\"readonly\":\"\",\"size\":\"15px\",\"color\":\"gold\"},model:{value:(_vm.hotelStars),callback:function ($$v) {_vm.hotelStars=$$v},expression:\"hotelStars\"}}):_vm._e(),_c('div',{staticClass:\"flex\",staticStyle:{\"flex-wrap\":\"wrap\",\"white-space\":\"normal\"}},[(_vm.guestRating)?_c('span',{staticClass:\"raleway\"},[_vm._v(\"\\n                      \"+_vm._s(_vm.guestRating)+\", \\n                    \")]):_vm._e(),(_vm.hotelPrice)?_c('span',[_c('span',{staticClass:\"raleway\"},[_vm._v(\"ca. € \")]),_c('span',{staticClass:\"raleway\"},[_vm._v(_vm._s(_vm.hotelPrice))]),_c('q-tooltip',[_vm._v(\"ungefährer Durchschnittspreis pro Person & Nacht\")])],1):_vm._e()])],1),_c('q-item-label',{staticStyle:{\"overflow\":\"hidden\"},attrs:{\"caption\":\"\"}},[_c('a',{staticClass:\"ellipsis\",on:{\"click\":function($event){_vm.openInNewTab('https://www.google.com/maps/search/?api=1&query=' + _vm.capitalize(_vm.hotelName + ', ' + _vm.hotelLocation.label))}}},[_vm._v(_vm._s(_vm.hotelLocation && typeof _vm.hotelLocation !== 'undefined' && _vm.hotelLocation.label && typeof _vm.hotelLocation.label !== 'undefined' ? _vm.capitalize(_vm.hotelLocation.label) :  'kein Ort angegeben'))])])],1),_c('q-item-section',[(_vm.transportLocations && _vm.transportLocations.lenght > 0)?_c('q-btn',{staticStyle:{\"width\":\"150px\"},on:{\"click\":function($event){_vm.showTransportDialog = true}}},[_vm._v(\"Transport\\n                \")]):_vm._e()],1),_c('q-dialog',{model:{value:(_vm.showTransportDialog),callback:function ($$v) {_vm.showTransportDialog=$$v},expression:\"showTransportDialog\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row items-center flex\",staticStyle:{\"flex-direction\":\"column\"}},[_c('q-list',_vm._l((_vm.transportLocations),function(location){return _c('div',{key:location,staticClass:\"flex\",staticStyle:{\"flex-direction\":\"column\"}},_vm._l((location.locations),function(sublocation){return _c('q-item',{key:sublocation,attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.openInNewTab('https://www.google.com/maps/search/?api=1&query=' + sublocation.name)}}},[_c('q-item-section',[_c('span',[_c('q-icon',{attrs:{\"name\":_vm.getHotelTransportationIcon(location.category)}}),_c('span',[_vm._v(_vm._s(sublocation.name))])],1),_c('p',[_vm._v(_vm._s(sublocation.distanceInTime))])])],1)}),1)}),0)],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"OK\",\"color\":\"primary\"}})],1)],1)],1),_c('q-item-section',{attrs:{\"side\":\"\"}},[(_vm.generalTempLink && _vm.generalTempLink.length > 0)?_c('div',[_c('q-chip',{staticClass:\"linkChip\",attrs:{\"icon\":\"link\",\"dense\":\"\",\"clickable\":\"\"},on:{\"click\":function($event){return _vm.openInNewTab(_vm.generalTempLink)}}},[_vm._v(\"Hotelwebsite\")])],1):_vm._e(),(_vm.hotelName && typeof _vm.hotelName !== 'undefined'\n                   )?_c('q-chip',{staticClass:\"linkChip\",staticStyle:{\"width\":\"117px\"},attrs:{\"icon\":\"launch\",\"dense\":\"\",\"clickable\":\"\"},on:{\"click\":function($event){_vm.openInNewTab('https://www.booking.com/searchresults.de.html?ss=' + _vm.capitalize(_vm.hotelName) + '&checkin_year=' + _vm.date.split(' ')[0].split('.')[2] + '&checkin_month=' + _vm.date.split('.')[1] + '&checkin_monthday=' + _vm.date.split('.')[0] + '&checkout_year=' + _vm.checkOutDate.split('.')[2] + '&checkout_month=' + _vm.checkOutDate.split('.')[1] + '&checkout_monthday=' + _vm.checkOutDate.split('.')[0] + '&group_adults=' + _vm.adults + _vm.getChildrenText() +  '&no_rooms=' + _vm.rooms + '&ac_langcode=de')}}},[_vm._v(\" booking.com\\n                  \"),_c('q-tooltip',[_vm._v(\"Hotel auf booking.com\")])],1):_vm._e(),(_vm.hotelName && typeof _vm.hotelName !== 'undefined'\n                  )?_c('q-chip',{staticClass:\"linkChip\",staticStyle:{\"width\":\"117px\"},attrs:{\"icon\":\"launch\",\"dense\":\"\",\"clickable\":\"\"},on:{\"click\":function($event){_vm.openInNewTab('https://www.expedia.de/Hotel-Search?adults=' + _vm.adults + 'children=' + _vm.getExpediaChildrenText() + '%2C1_3&destination=' + _vm.capitalize(_vm.hotelName) + '&endDate=' + _vm.checkOutDate.split(' ')[0].split('.')[2] + '-' + _vm.checkOutDate.split('.')[1] + '-' + _vm.checkOutDate.split('.')[0] + '&rooms=' + _vm.rooms + '&sort=RECOMMENDED&startDate=' + _vm.date.split(' ')[0].split('.')[2] + '-' + _vm.date.split('.')[1] + '-' + _vm.date.split('.')[0] + '&theme=&useRewards=true')}}},[_vm._v(\" expedia\\n                  \"),_c('q-tooltip',[_vm._v(\"Hotel auf expedia\")])],1):_vm._e()],1),(_vm.hotelContact && typeof _vm.hotelContact !== 'undefined'\n                )?_c('q-item-section',{attrs:{\"side\":\"\"}},[_c('div',{staticClass:\"hotel-contact\"},[(_vm.hotelContact.email && typeof _vm.hotelContact.email !== 'undefined'\n                    )?_c('q-chip',{attrs:{\"icon\":\"email\",\"clickable\":\"\"},on:{\"click\":function($event){return _vm.openInNewTab('mailto:' + _vm.hotelContact.email)}}},[_vm._v(_vm._s(_vm.hotelContact.email)+\"\\n                  \")]):_vm._e(),(_vm.hotelContact.phone && typeof _vm.hotelContact.phone !== 'undefined'\n                    )?_c('q-chip',{attrs:{\"icon\":\"phone\",\"clickable\":\"\"},on:{\"click\":function($event){return _vm.openInNewTab('tel:' + _vm.hotelContact.phone)}}},[_vm._v(_vm._s(_vm.hotelContact.phone)+\"\\n                  \")]):_vm._e()],1)]):_vm._e(),_c('q-item-section',{attrs:{\"side\":\"\"}},[_c('q-icon',{attrs:{\"name\":\"clear\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.removeHotel()}}})],1)],1)],1):_vm._e()],1),_c('q-dialog',{model:{value:(_vm.addHotel),callback:function ($$v) {_vm.addHotel=$$v},expression:\"addHotel\"}},[_c('q-card',[_c('q-card-section',[_c('h6',{staticStyle:{\"margin\":\"0\"}},[_vm._v(\"Hotels auf booking.com ansehen:\")]),(_vm.currentStop.Location)?_c('q-chip',{staticClass:\"linkChip\",staticStyle:{\"width\":\"117px\",\"margin-bottom\":\"40px\"},attrs:{\"icon\":\"launch\",\"dense\":\"\",\"clickable\":\"\"},on:{\"click\":function($event){_vm.openInNewTab('https://www.booking.com/searchresults.de.html?ss=' + _vm.currentStop.Location.label.split(',')[0] + '&checkin_year=' + _vm.currentStop.InitDate.split(' ')[0].split('.')[2] + '&checkin_month=' + _vm.currentStop.InitDate.split('.')[1] + '&checkin_monthday=' + _vm.currentStop.InitDate.split('.')[0] + '&checkout_year=' + _vm.getCheckOutDate().split('.')[2] + '&checkout_month=' + _vm.getCheckOutDate().split('.')[1] + '&checkout_monthday=' + _vm.getCheckOutDate().split('.')[0] + '&group_adults=' + _vm.currentRoundtrip.Adults + _vm.getChildrenText() +  '&no_rooms=' + _vm.currentRoundtrip.Rooms + '&ac_langcode=de')}}},[_vm._v(\" booking.com\\n              \")]):_vm._e(),_c('h6',{staticStyle:{\"margin\":\"0\"}},[_vm._v(\"Hotel hinzufügen:\")]),(_vm.currentStop.Location && _vm.currentStop.Location.lat)?_c('HotelSearch',{ref:\"hotelSearch\",attrs:{\"disabled\":!_vm.getCheckOutDate(),\"lat\":_vm.currentStop.Location.lat.toString(),\"long\":_vm.currentStop.Location.lng.toString(),\"checkInDate\":_vm.currentStop.InitDate,\"checkOutDate\":_vm.getCheckOutDate(),\"roomAmount\":parseInt(_vm.currentRoundtrip.Rooms),\"adults\":parseInt(_vm.currentRoundtrip.Adults),\"childrenAges\":_vm.currentRoundtrip.ChildrenAges},on:{\"update\":function($event){return _vm.updateHotelData($event)}}}):_vm._e()],1),_c('q-card-section',[_c('q-input',{ref:\"urlInput\",attrs:{\"type\":\"url\",\"rules\":[function (val) { return !val || _vm.urlReg.test(val) || 'Bitte gib einen richtigen Link an'; }],\"label\":\"Hotel link (optional)\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"link\"}})]},proxy:true}]),model:{value:(_vm.generalTempLink),callback:function ($$v) {_vm.generalTempLink=$$v},expression:\"generalTempLink\"}})],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Abbrechen\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.removeHotel()}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Hotel hinzufügen\",\"color\":\"primary\",\"disable\":_vm.addHotelDisabled},on:{\"click\":function($event){return _vm.addHotelToStop()}}})],1)],1)],1),(_vm.suggestedSights && _vm.suggestedSights !== 'error')?_c('div',[_vm._l((_vm.suggestedSights),function(sight,index){return _c('span',{key:index,staticStyle:{\"text-decoration\":\"none\"},attrs:{\"href\":'https://www.google.com/search?q=' + sight.name + ' ' + _vm.currentStop.Location ? _vm.currentStop.Location.label.split(',')[0] : '',\"target\":\"_blank\"}},[_c('q-chip',{attrs:{\"clickable\":\"\",\"icon\":sight.category === 'SIGHTS' ? 'account_balance' : 'location_on'},on:{\"click\":function($event){return _vm.openSightDialog(sight)}}},[_vm._v(_vm._s(sight.name)+\"\\n            \")])],1)}),(_vm.currentStop.Location)?_c('a',{attrs:{\"target\":\"_blank\",\"href\":'https://www.google.com/search?q=' +  _vm.currentStop.Location.label.split(',')[0] + ' Sehenswürdigkeiten'}},[_vm._v(\"weitere auf Google\")]):_vm._e(),_c('q-dialog',{model:{value:(_vm.sightDialog.showed),callback:function ($$v) {_vm.$set(_vm.sightDialog, \"showed\", $$v)},expression:\"sightDialog.showed\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row flex justify-end q-pb-none\",staticStyle:{\"z-index\":\"100\",\"width\":\"100%\",\"position\":\"absolute\",\"color\":\"white\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"icon\":\"close\",\"flat\":\"\",\"round\":\"\",\"dense\":\"\"}})],1),_c('q-img',{staticStyle:{\"max-height\":\"75vh\"},attrs:{\"src\":_vm.sightDialog.imgSrc}},[_c('div',{staticClass:\"absolute-bottom\"},[_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.sightDialog.title))]),_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(_vm._s(_vm.sightDialog.shortDescription))])])]),_c('q-card-section',[_vm._v(\"\\n                \"+_vm._s(_vm.sightDialog.description)+\"\\n              \")]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"hinzufügen\",\"color\":\"primary\"},on:{\"click\":function($event){[_vm.$refs.sightInput.add(_vm.sightDialog.title, true), _vm.saveSights()]}}})],1)],1)],1)],2):_c('q-chip',{attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.searchSights()}}},[_vm._v(_vm._s(_vm.suggestedSights === 'error' ? 'keine POIs gefunden' : 'POIs anzeigen')+\"\\n          \"),_c('q-tooltip',[_vm._v(\"Sehenswürdigkeiten anzeigen\")])],1),_c('q-select',{ref:\"sightInput\",staticStyle:{\"margin\":\"10px 10px 10px 0\"},attrs:{\"label\":\"Sehenswürdigkeiten\",\"filled\":\"\",\"use-input\":\"\",\"use-chips\":\"\",\"multiple\":\"\",\"hide-dropdown-icon\":\"\",\"input-debounce\":\"0\",\"new-value-mode\":\"add-unique\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"add\"},on:{\"click\":function($event){$event.stopPropagation();}}})]},proxy:true}]),model:{value:(_vm.currentStop.Sights),callback:function ($$v) {_vm.$set(_vm.currentStop, \"Sights\", $$v)},expression:\"currentStop.Sights\"}}),_c('q-editor',{ref:\"editor_ref\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{\"min-height\":\"5rem\",\"toolbar\":_vm.editorToolbar,\"toolbar-toggle-color\":\"primary\",\"fonts\":_vm.editorFonts,\"definitions\":{\n      format: {\n        top: 'Formatierung bei Kopieren beibehaten',\n        icon: _vm.$q.iconSet.editor.formatting,\n        label: 'Format bei Kopie ' + (this.preventPasting ? 'aus' : 'an'),\n        handler: _vm.formatOn\n      }\n      }},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();}},nativeOn:{\"paste\":function($event){return (function (evt) { return _vm.pasteCapture(evt); })($event)}},model:{value:(_vm.currentStop.Description),callback:function ($$v) {_vm.$set(_vm.currentStop, \"Description\", $$v)},expression:\"currentStop.Description\"}})],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Abbrechen\",\"color\":\"primary\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Speichern\",\"color\":\"primary\",\"disable\":!_vm.currentStop.DayDuration || _vm.currentStop.DayDuration <= 0},on:{\"click\":function () { _vm.addStop() }}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    id=\"roundtripWizard\"\r\n    :style=\"!isRTEditMode ? 'padding-top:20px;' : ''\"\r\n    :class=\"!isRTEditMode ? 'q-px-lg q-pb-md' : ''\"\r\n  >\r\n    <div\r\n      class=\"edit-btn-container\"\r\n      v-if=\"user !== null\"\r\n      style=\"position:fixed; z-index:101; right:0; padding: 10px\"\r\n    >\r\n      <q-btn\r\n        v-if=\"$route.params.id\"\r\n        round\r\n        color=\"primary\"\r\n        icon=\"visibility\"\r\n        @click=\"unsavedChanges ? showCancelDialog = true : $router.push('/rundreise-ansehen/' + $route.params.id)\"\r\n      >\r\n        <q-tooltip>Reise ansehen</q-tooltip>\r\n      </q-btn>\r\n    </div>\r\n\r\n    <q-dialog\r\n      v-model=\"showCancelDialog\"\r\n      persistent\r\n    >\r\n      <q-card style=\"min-width: 350px\">\r\n        <q-card-section>\r\n          <div class=\"text-h6\">Ungesicherte Änderungen</div>\r\n          <span>Wenn du jetzt zurück gehst werden deine Änderungen werden verworfen! <br /> Möchtest du trotzdem zurück?</span>\r\n        </q-card-section>\r\n        <q-card-actions\r\n          align=\"right\"\r\n          class=\"text-primary\"\r\n        >\r\n          <q-btn\r\n            label=\"Änderungen verwerfen\"\r\n            v-close-popup\r\n            flat\r\n            @click=\"$router.push('/rundreise-ansehen/' + $route.params.id)\"\r\n          />\r\n          <q-btn\r\n            type=\"submit\"\r\n            label=\"Abbrechen\"\r\n            flat\r\n            v-close-popup\r\n          />\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-dialog>\r\n\r\n    <div\r\n      style=\"margin-bottom:20px;\"\r\n      v-if=\"!$store.getters['demoSession/isInDemoSession']\"\r\n    >\r\n      <a\r\n        v-show=\"!isRTEditMode\"\r\n        @click=\"$router.push('/meine-rundreisen')\"\r\n      >\r\n        <q-icon name=\"keyboard_arrow_left\"></q-icon>\r\n        meine Rundreisen\r\n      </a>\r\n    </div>\r\n    <q-stepper\r\n      v-model=\"step\"\r\n      header-nav\r\n      ref=\"stepper\"\r\n      color=\"primary\"\r\n      :contracted=\"isMobile\"\r\n      animated\r\n      keep-alive\r\n      v-if=\"!isRTEditMode\"\r\n    >\r\n      <template v-slot:navigation>\r\n        <!-- placholder for sticky nav -->\r\n        <div style=\"height:80px;\"></div>\r\n      </template>\r\n\r\n      <template v-slot:message>\r\n        <div\r\n          class=\"sticky-navigation\"\r\n          :style=\"!isRTEditMode ? 'top: 93vh;' : ''\"\r\n        >\r\n          <q-stepper-navigation class=\"flex justify-end\">\r\n            <template v-if=\"step === 1\">\r\n              <q-btn\r\n                color=\"primary\"\r\n                :disable=\"!currentRoundtrip.Title || !currentRoundtrip.Rooms || !currentRoundtrip.Adults\"\r\n                @click=\"step = 2\"\r\n                label=\"weiter\"\r\n              />\r\n            </template>\r\n\r\n            <template v-else-if=\"step === 2\">\r\n              <q-btn\r\n                flat\r\n                @click=\"step = 1\"\r\n                color=\"primary\"\r\n                label=\"Zurück\"\r\n                class=\"q-ml-sm\"\r\n              />\r\n              <q-btn\r\n                @click=\"step = 3\"\r\n                color=\"primary\"\r\n                :disable=\"currentRoundtrip.TransportProfile === 'Reisemittel wählen' || (currentRoundtrip.TransportProfile === 'Flugzeug' && (!currentRoundtrip.TransportProfile || !currentRoundtrip.Origin || !currentRoundtrip.Destination || !currentRoundtrip.DepatureDate || !currentRoundtrip.ReturnDate || !currentRoundtrip.TravelClass || !currentRoundtrip.NonStop))\"\r\n                label=\"Weiter\"\r\n              />\r\n            </template>\r\n\r\n            <template v-else-if=\"step === 3\">\r\n              <q-btn\r\n                flat\r\n                @click=\"step = 2\"\r\n                color=\"primary\"\r\n                label=\"zurück\"\r\n                class=\"q-ml-sm\"\r\n                v-if=\"!isRTEditMode\"\r\n              />\r\n              <q-btn\r\n                flat\r\n                color=\"primary\"\r\n                :disable=\"addedStops.length <= 1\"\r\n                :label=\"unsavedChanges ? (!isRTEditMode ? 'Reise fertigstellen' : 'Reise speichern') : 'Reise ansehen'\"\r\n                class=\"q-ml-sm\"\r\n                :loading=\"saving\"\r\n                @click=\"unsavedChanges ? createTrip() : $router.push('/rundreise-ansehen/' + $route.params.id)\"\r\n              />\r\n            </template>\r\n          </q-stepper-navigation>\r\n        </div>\r\n      </template>\r\n\r\n      <q-step\r\n        :name=\"1\"\r\n        title=\"Allgemeine Infos\"\r\n        icon=\"settings\"\r\n        :done=\"step > 1\"\r\n        :header-nav=\"step > 1\"\r\n        v-if=\"!isRTEditMode\"\r\n      >\r\n        <q-input\r\n          v-model=\"currentRoundtrip.Title\"\r\n          :rules=\"[val => val !== null &&  val !== ''  || 'Bitte gib einen Titel an', val => isUniqueTitle(val), val => val[0] !== ' ' || 'Das erste Zeichen kann kein Leerzeichen sein']\"\r\n          label=\"Titel\"\r\n          outlined\r\n          ref=\"titleInput\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"title\" />\r\n          </template>\r\n        </q-input>\r\n\r\n        <div>\r\n          <p>Die folgenden Infos benötigen wir, um bei der Hotelsuche bereits alle Daten für dich einzugeben. <br /> Du kannst dies auch später noch ändern</p>\r\n          <q-input\r\n            v-model=\"currentRoundtrip.Rooms\"\r\n            label=\"Zimmer\"\r\n            type=\"number\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val > 0  || 'Bitte gib eine Zimmeranzahl an']\"\r\n            outlined\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"house\" />\r\n            </template>\r\n          </q-input>\r\n\r\n          <q-input\r\n            v-model=\"currentRoundtrip.Adults\"\r\n            label=\"Erwachsene\"\r\n            type=\"number\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val > 0  || 'Bitte gib die Anzahl der Erwachsenen Reisenden an', val => val <= parseInt(currentRoundtrip.Rooms) * 9 || 'Bitte wähle mehr Zimmer']\"\r\n            outlined\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"group\" />\r\n            </template>\r\n          </q-input>\r\n          <q-input\r\n            v-model=\"currentRoundtrip.Children\"\r\n            label=\"Kinder\"\r\n            type=\"number\"\r\n            @input=\"currentRoundtrip.ChildrenAges.length = parseInt(currentRoundtrip.ChildrenAges)\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val >= 0  && val <= 20|| 'Bitte gib die Anzahl der Kinder auf der Reise an']\"\r\n            outlined\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"child_friendly\" />\r\n            </template>\r\n          </q-input>\r\n          <div\r\n            class=\"flex justify-center\"\r\n            style=\"margin:auto; margin-top:20px;\"\r\n            v-if=\"parseInt(currentRoundtrip.Children) > 0  && parseInt(currentRoundtrip.Children) <= 20\"\r\n          >\r\n            <q-input\r\n              v-for=\"childNum in parseInt(currentRoundtrip.Children)\"\r\n              :key=\"childNum\"\r\n              v-model=\"currentRoundtrip.ChildrenAges[childNum - 1]\"\r\n              :label=\"'Alter Kind ' + childNum\"\r\n              type=\"number\"\r\n              style=\"margin-right:10px;\"\r\n              :rules=\"[val => val !== null &&  val !== '' && val > 0 || 'Bitte gib das Alter des Kindes an']\"\r\n              outlined\r\n            >\r\n              <template v-slot:prepend>\r\n                <q-icon name=\"child_friendly\" />\r\n              </template>\r\n            </q-input>\r\n          </div>\r\n        </div>\r\n        <p>Wenn du das genaue Datum noch nicht weißt, kannst du es auch später noch ändern.</p>\r\n        <q-input\r\n          filled\r\n          v-model=\"currentStop.InitDate\"\r\n          error-message=\"Bitte gib ein richtiges Datum an\"\r\n          :error=\"!isDateTimeValid()\"\r\n          lazy-rules\r\n          bottom-slots\r\n          class=\"input-item\"\r\n          outlined\r\n          label=\"Startdatum\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon\r\n              name=\"event\"\r\n              class=\"cursor-pointer\"\r\n            >\r\n              <q-popup-proxy\r\n                transition-show=\"scale\"\r\n                transition-hide=\"scale\"\r\n              >\r\n                <q-date\r\n                  v-model=\"currentStop.InitDate\"\r\n                  today-btn\r\n                  mask=\"DD.MM.YYYY HH:mm\"\r\n                />\r\n              </q-popup-proxy>\r\n            </q-icon>\r\n          </template>\r\n\r\n          <template v-slot:append>\r\n            <q-icon\r\n              name=\"access_time\"\r\n              class=\"cursor-pointer\"\r\n            >\r\n              <q-popup-proxy\r\n                transition-show=\"scale\"\r\n                transition-hide=\"scale\"\r\n              >\r\n                <q-time\r\n                  v-model=\"currentStop.InitDate\"\r\n                  mask=\"DD.MM.YYYY HH:mm\"\r\n                  format24h\r\n                />\r\n              </q-popup-proxy>\r\n            </q-icon>\r\n          </template>\r\n        </q-input>\r\n      </q-step>\r\n\r\n      <q-step\r\n        :name=\"2\"\r\n        title=\"An-/Abreise\"\r\n        icon=\"flight\"\r\n        :done=\"step > 2\"\r\n        :header-nav=\"step > 2\"\r\n        v-if=\"!isRTEditMode\"\r\n      >\r\n        <q-select\r\n          outlined\r\n          v-model=\"currentRoundtrip.TransportProfile\"\r\n          input-debounce=\"0\"\r\n          :options=\"['Flugzeug', 'Andere']\"\r\n          label=\"Reisemittel\"\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte wähle ein Reisemittel']\"\r\n          style=\"padding-bottom: 32px\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"commute\" />\r\n          </template>\r\n        </q-select>\r\n        <div\r\n          v-if=\"currentRoundtrip.TransportProfile === 'Flugzeug'\"\r\n          class=\"flight-container\"\r\n        >\r\n          <q-select\r\n            outlined=\"\"\r\n            use-input\r\n            hide-selected\r\n            fill-input\r\n            input-debounce=\"0\"\r\n            clearable\r\n            ref=\"select\"\r\n            v-model=\"currentRoundtrip.Origin\"\r\n            hide-dropdown-icon\r\n            label=\"Abflugsort\"\r\n            :options=\"originOptions\"\r\n            @filter=\"getOrigins\"\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte wähle einen Ort']\"\r\n          >\r\n            <template v-slot:no-option>\r\n              <q-item>\r\n                <q-item-section class=\"text-grey\">\r\n                  zu viele/keine Ergebnisse, bitte weitertippen\r\n                </q-item-section>\r\n              </q-item>\r\n            </template>\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"flight_takeoff\" />\r\n            </template>\r\n          </q-select>\r\n          <q-select\r\n            outlined=\"\"\r\n            use-input\r\n            hide-selected\r\n            fill-input\r\n            input-debounce=\"0\"\r\n            clearable\r\n            ref=\"select\"\r\n            v-model=\"currentRoundtrip.Destination\"\r\n            hide-dropdown-icon\r\n            label=\"Ankunftsort\"\r\n            :options=\"destinationOptions\"\r\n            @filter=\"getDestinations\"\r\n            @input=\"destinationChanged($event)\"\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte wähle einen Ort']\"\r\n          >\r\n            <template v-slot:no-option>\r\n              <q-item>\r\n                <q-item-section class=\"text-grey\">\r\n                  zu viele/keine Ergebnisse, bitte weitertippen\r\n                </q-item-section>\r\n              </q-item>\r\n            </template>\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"flight_land\" />\r\n            </template>\r\n          </q-select>\r\n          <q-input\r\n            outlined\r\n            v-model=\"currentRoundtrip.DepatureDate\"\r\n            label=\"Abflugsdatum\"\r\n            class=\"input-item rounded-borders q-field--with-bottom\"\r\n          >\r\n            <q-popup-proxy\r\n              transition-show=\"scale\"\r\n              transition-hide=\"scale\"\r\n            >\r\n              <q-date\r\n                v-model=\"currentRoundtrip.DepatureDate\"\r\n                today-btn\r\n                mask=\"DD.MM.YYYY\"\r\n                @input=\"updateReturnDate()\"\r\n              />\r\n            </q-popup-proxy>\r\n            <template v-slot:prepend>\r\n              <q-icon\r\n                name=\"event\"\r\n                class=\"cursor-pointer\"\r\n              >\r\n              </q-icon>\r\n            </template>\r\n          </q-input>\r\n          <q-input\r\n            outlined\r\n            v-model=\"currentRoundtrip.ReturnDate\"\r\n            label=\"Rückflugsdatum\"\r\n            class=\"input-item rounded-borders q-field--with-bottom\"\r\n          >\r\n            <q-popup-proxy\r\n              transition-show=\"scale\"\r\n              transition-hide=\"scale\"\r\n            >\r\n              <q-date\r\n                v-model=\"currentRoundtrip.ReturnDate\"\r\n                today-btn\r\n                mask=\"DD.MM.YYYY\"\r\n              />\r\n            </q-popup-proxy>\r\n            <template v-slot:prepend>\r\n              <q-icon\r\n                name=\"event\"\r\n                class=\"cursor-pointer\"\r\n              >\r\n              </q-icon>\r\n            </template>\r\n          </q-input>\r\n          <q-select\r\n            outlined\r\n            v-model=\"currentRoundtrip.TravelClass\"\r\n            input-debounce=\"0\"\r\n            :options=\"['Economy', 'Premium Economy', 'Business', 'First']\"\r\n            label=\"Reiseklasse auswählen\"\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte wähle eine Klasse']\"\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"star\" />\r\n            </template>\r\n          </q-select>\r\n          <q-select\r\n            outlined\r\n            v-model=\"currentRoundtrip.NonStop\"\r\n            input-debounce=\"0\"\r\n            :options=\"['Ja', 'Nein']\"\r\n            label=\"Non Stop\"\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte wähle eine Option']\"\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"flight\" />\r\n            </template>\r\n          </q-select>\r\n        </div>\r\n        <div v-else-if=\"currentRoundtrip.TransportProfile === 'Andere'\">\r\n          <p style=\"text-align:left;\">Bei einem anderem Reisemittel können wir dir bei der Planung deiner An- und Abreise aktuell leider nicht helfen.</p>\r\n          <p style=\"text-align:left;\">Du kannst dafür sofort mit der Reiseplanung beginnen!</p>\r\n        </div>\r\n      </q-step>\r\n\r\n      <q-step\r\n        :name=\"3\"\r\n        title=\"Reise erstellen\"\r\n        icon=\"place\"\r\n        :done=\"step > 3\"\r\n        :header-nav=\"step > 3\"\r\n      >\r\n\r\n        <TripOverview\r\n          :addedStops=\"addedStops\"\r\n          :currentRoundtrip=\"currentRoundtrip\"\r\n          :isEditMode=\"isRTEditMode\"\r\n          @stopsDragged=\"onStopsDragged($event)\"\r\n          @editStop=\"editStop($event);\"\r\n          @removeStop=\"removeStop($event)\"\r\n          @addStop=\"handleAddStopFromMap($event)\"\r\n          @update=\"updateFromSuggestedCity($event)\"\r\n          @distanceUpdate=\"updateTotalTripDistance($event)\"\r\n          ref=\"tripOverview\"\r\n        ></TripOverview>\r\n      </q-step>\r\n\r\n    </q-stepper>\r\n    <div v-else>\r\n      <TripOverview\r\n        :addedStops=\"addedStops\"\r\n        :currentRoundtrip=\"currentRoundtrip\"\r\n        :isEditMode=\"isRTEditMode\"\r\n        @stopsDragged=\"onStopsDragged($event)\"\r\n        @editStop=\"editStop($event);\"\r\n        @removeStop=\"removeStop($event)\"\r\n        @addStop=\"handleAddStopFromMap($event)\"\r\n        @update=\"updateFromSuggestedCity($event)\"\r\n        @distanceUpdate=\"updateTotalTripDistance($event)\"\r\n      ></TripOverview>\r\n      <div class=\"sticky-navigation\">\r\n        <q-btn\r\n          flat\r\n          color=\"primary\"\r\n          :label=\"unsavedChanges ? (!isRTEditMode ? 'Reise fertigstellen' : 'Reise speichern') : 'Reise ansehen'\"\r\n          class=\"q-ml-sm\"\r\n          :loading=\"saving\"\r\n          @click=\"unsavedChanges ? createTrip() : $router.push('/rundreise-ansehen/' + $route.params.id)\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <q-dialog\r\n      v-model=\"showAddStopDialog\"\r\n      class=\"bg-white\"\r\n    >\r\n      <q-card>\r\n        <q-card-section>\r\n          <q-input\r\n            v-model=\"currentStop.Title\"\r\n            :rules=\"[val => val !== null &&  val !== ''  || 'Bitte gib einen Titel an']\"\r\n            style=\"font-family:Raleway; font-size:1.25rem;\"\r\n            autofocus\r\n            label=\"Titel\"\r\n            label-color=\"secondary\"\r\n            filled\r\n            lazy-rules\r\n          />\r\n\r\n          <q-input\r\n            v-model.number=\"currentStop.DayDuration\"\r\n            type=\"number\"\r\n            filled\r\n            label=\"Dauer in Tagen\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val > 0 || 'Bitte gib eine Anzahl von Tagen ein']\"\r\n            lazy-rules\r\n          />\r\n          <div style=\"margin-bottom:20px;\">\r\n            <span>Ankunftszeit:</span>\r\n            <span class=\"cursor-pointer font-medium\">\r\n              {{ currentStop.InitDate.split(' ')[1] }}\r\n              <q-icon\r\n                name=\"access_time\"\r\n                class=\"cursor-pointer\"\r\n              ></q-icon>\r\n              <q-popup-proxy\r\n                transition-show=\"scale\"\r\n                transition-hide=\"scale\"\r\n              >\r\n                <q-time\r\n                  v-model=\"currentStop.InitDate\"\r\n                  mask=\"DD.MM.YYYY HH:mm\"\r\n                  format24h\r\n                >\r\n                  <div class=\"row items-center justify-end\">\r\n                    <q-btn\r\n                      v-close-popup\r\n                      label=\"Fertig\"\r\n                      color=\"primary\"\r\n                      flat\r\n                    />\r\n                  </div>\r\n                </q-time>\r\n              </q-popup-proxy>\r\n            </span>\r\n          </div>\r\n        </q-card-section>\r\n        <q-card-actions align=\"right\">\r\n          <q-btn\r\n            v-close-popup\r\n            label=\"Abbrechen\"\r\n          />\r\n          <q-btn\r\n            color=\"primary\"\r\n            :disable=\"!currentStop.Title && currentStop.DayDuration <= 0\"\r\n            @click=\"() => { addStop() }\"\r\n            v-close-popup\r\n            label=\"hinzufügen\"\r\n          />\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-dialog>\r\n\r\n    <q-dialog v-model=\"showEditStopDialog\">\r\n      <q-card>\r\n        <q-card-section>\r\n          <q-input\r\n            v-model=\"currentStop.Title\"\r\n            :rules=\"[val => val !== null &&  val !== ''  || 'Bitte gib einen Titel an']\"\r\n            style=\"font-family:Raleway; font-size:1.25rem;\"\r\n            autofocus\r\n            label=\"Titel\"\r\n            label-color=\"secondary\"\r\n            filled\r\n            lazy-rules\r\n          />\r\n\r\n          <q-input\r\n            v-model.number=\"currentStop.DayDuration\"\r\n            type=\"number\"\r\n            filled\r\n            label=\"Dauer in Tagen\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val > 0 || 'Bitte gib eine Anzahl von Tagen ein']\"\r\n            lazy-rules\r\n          />\r\n          <div style=\"margin-bottom:20px;\">\r\n            <span>Ankunft:</span>\r\n            <span class=\"cursor-pointer font-medium\">\r\n              {{ currentStop.InitDate.split(' ')[1] }}\r\n              <q-icon\r\n                name=\"access_time\"\r\n                class=\"cursor-pointer\"\r\n              ></q-icon>\r\n              <q-popup-proxy\r\n                transition-show=\"scale\"\r\n                transition-hide=\"scale\"\r\n              >\r\n                <q-time\r\n                  v-model=\"currentStop.InitDate\"\r\n                  mask=\"DD.MM.YYYY HH:mm\"\r\n                  format24h\r\n                >\r\n                  <div class=\"row items-center justify-end\">\r\n                    <q-btn\r\n                      v-close-popup\r\n                      label=\"Fertig\"\r\n                      color=\"primary\"\r\n                      flat\r\n                    />\r\n                  </div>\r\n                </q-time>\r\n              </q-popup-proxy>\r\n\r\n            </span>\r\n          </div>\r\n          <q-select\r\n            outlined\r\n            v-model=\"inputProfile\"\r\n            :options=\"['zu Fuß', 'Fahrrad', 'Auto']\"\r\n            label=\"Reisemittel ab Ort\"\r\n            use-input\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte wähle ein Reisemittel']\"\r\n            class=\"input-item\"\r\n            @input=\"getGeneralProfile()\"\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"commute\" />\r\n            </template>\r\n          </q-select>\r\n\r\n          <div\r\n            style=\"margin-bottom:30px\"\r\n            v-if=\"!hotelName\"\r\n          >\r\n            <q-btn\r\n              size=\"20\"\r\n              icon=\"add\"\r\n              @click=\"addHotel = true\"\r\n            >Hotel hinzufügen\r\n            </q-btn>\r\n          </div>\r\n\r\n          <div style=\"margin-bottom:20px;\">\r\n            <q-list\r\n              bordered\r\n              padding\r\n              dense\r\n              class=\"rounded-borders\"\r\n              v-if=\"hotelName\"\r\n            >\r\n              <q-item class=\"hotel-list\">\r\n                <q-item-section\r\n                  avatar\r\n                  top\r\n                >\r\n                  <q-avatar\r\n                    color=\"secondary\"\r\n                    text-color=\"white\"\r\n                    font-size=\"20px\"\r\n                    icon=\"hotel\"\r\n                  >\r\n                  </q-avatar>\r\n                </q-item-section>\r\n\r\n                <q-item-section>\r\n                  <q-item-label\r\n                    lines=\"2\"\r\n                    class=\"flex\"\r\n                    style=\"flex-wrap:wrap; white-space:normal;\"\r\n                  >\r\n                    <span style=\"padding-right:5px;\">{{capitalize(hotelName)}}</span>\r\n                    <q-rating\r\n                      v-if=\"hotelStars && !isNaN(hotelStars)\"\r\n                      class=\"stars\"\r\n                      v-model=\"hotelStars\"\r\n                      readonly\r\n                      size=\"15px\"\r\n                      color=\"gold\"\r\n                      style=\"margin-right:10px; padding-right:5px;\"\r\n                    />\r\n                    <div\r\n                      class=\"flex\"\r\n                      style=\"flex-wrap:wrap; white-space:normal;\"\r\n                    >\r\n                      <span\r\n                        v-if=\"guestRating\"\r\n                        class=\"raleway\"\r\n                      >\r\n                        {{guestRating}},&nbsp;\r\n                      </span>\r\n                      <span v-if=\"hotelPrice\">\r\n                        <span class=\"raleway\">ca. € </span>\r\n                        <span class=\"raleway\">{{hotelPrice}}</span>\r\n                        <q-tooltip>ungefährer Durchschnittspreis pro Person & Nacht</q-tooltip>\r\n                      </span>\r\n                    </div>\r\n                  </q-item-label>\r\n                  <q-item-label\r\n                    caption\r\n                    style=\"overflow:hidden;\"\r\n                  >\r\n                    <a\r\n                      class=\"ellipsis\"\r\n                      @click=\"openInNewTab('https://www.google.com/maps/search/?api=1&query=' + capitalize(hotelName + ', ' + hotelLocation.label))\"\r\n                    >{{hotelLocation && typeof hotelLocation !== 'undefined' && hotelLocation.label && typeof hotelLocation.label !== 'undefined' ? capitalize(hotelLocation.label) :  'kein Ort angegeben'}}</a>\r\n                  </q-item-label>\r\n                </q-item-section>\r\n                <q-item-section>\r\n                  <q-btn\r\n                    v-if=\"transportLocations && transportLocations.lenght > 0\"\r\n                    style=\"width:150px;\"\r\n                    @click=\"showTransportDialog = true\"\r\n                  >Transport\r\n                  </q-btn>\r\n                </q-item-section>\r\n                <q-dialog v-model=\"showTransportDialog\">\r\n                  <q-card>\r\n                    <q-card-section\r\n                      class=\"row items-center flex\"\r\n                      style=\"flex-direction:column;\"\r\n                    >\r\n                      <q-list>\r\n                        <div\r\n                          class=\"flex\"\r\n                          style=\"flex-direction:column;\"\r\n                          v-for=\"location in transportLocations\"\r\n                          :key=\"location\"\r\n                        >\r\n                          <q-item\r\n                            v-for=\"sublocation in location.locations\"\r\n                            :key=\"sublocation\"\r\n                            clickable\r\n                            @click=\"openInNewTab('https://www.google.com/maps/search/?api=1&query=' + sublocation.name)\"\r\n                          >\r\n                            <q-item-section>\r\n                              <span>\r\n                                <q-icon :name=\"getHotelTransportationIcon(location.category)\" />\r\n                                <span>{{sublocation.name}}</span>\r\n                              </span>\r\n                              <p>{{sublocation.distanceInTime}}</p>\r\n                            </q-item-section>\r\n                          </q-item>\r\n                        </div>\r\n                      </q-list>\r\n                    </q-card-section>\r\n\r\n                    <q-card-actions align=\"right\">\r\n                      <q-btn\r\n                        flat\r\n                        label=\"OK\"\r\n                        color=\"primary\"\r\n                        v-close-popup\r\n                      />\r\n                    </q-card-actions>\r\n                  </q-card>\r\n                </q-dialog>\r\n                <q-item-section side>\r\n                  <div v-if=\"generalTempLink && generalTempLink.length > 0\">\r\n                    <q-chip\r\n                      icon=\"link\"\r\n                      dense\r\n                      class=\"linkChip\"\r\n                      clickable\r\n                      @click=\"openInNewTab(generalTempLink)\"\r\n                    >Hotelwebsite</q-chip>\r\n                  </div>\r\n                  <q-chip\r\n                    icon=\"launch\"\r\n                    v-if=\"hotelName && typeof hotelName !== 'undefined'\r\n                     \"\r\n                    dense\r\n                    style=\"width:117px;\"\r\n                    class=\"linkChip\"\r\n                    clickable\r\n                    @click=\"openInNewTab('https://www.booking.com/searchresults.de.html?ss=' + capitalize(hotelName) + '&checkin_year=' + date.split(' ')[0].split('.')[2] + '&checkin_month=' + date.split('.')[1] + '&checkin_monthday=' + date.split('.')[0] + '&checkout_year=' + checkOutDate.split('.')[2] + '&checkout_month=' + checkOutDate.split('.')[1] + '&checkout_monthday=' + checkOutDate.split('.')[0] + '&group_adults=' + adults + getChildrenText() +  '&no_rooms=' + rooms + '&ac_langcode=de')\"\r\n                  > booking.com\r\n                    <q-tooltip>Hotel auf booking.com</q-tooltip>\r\n                  </q-chip>\r\n                  <q-chip\r\n                    icon=\"launch\"\r\n                    v-if=\"hotelName && typeof hotelName !== 'undefined'\r\n                    \"\r\n                    dense\r\n                    style=\"width:117px;\"\r\n                    class=\"linkChip\"\r\n                    clickable\r\n                    @click=\"openInNewTab('https://www.expedia.de/Hotel-Search?adults=' + adults + 'children=' + getExpediaChildrenText() + '%2C1_3&destination=' + capitalize(hotelName) + '&endDate=' + checkOutDate.split(' ')[0].split('.')[2] + '-' + checkOutDate.split('.')[1] + '-' + checkOutDate.split('.')[0] + '&rooms=' + rooms + '&sort=RECOMMENDED&startDate=' + date.split(' ')[0].split('.')[2] + '-' + date.split('.')[1] + '-' + date.split('.')[0] + '&theme=&useRewards=true')\"\r\n                  > expedia\r\n                    <q-tooltip>Hotel auf expedia</q-tooltip>\r\n                  </q-chip>\r\n                </q-item-section>\r\n                <q-item-section\r\n                  side\r\n                  v-if=\"hotelContact && typeof hotelContact !== 'undefined'\r\n                  \"\r\n                >\r\n                  <div class=\"hotel-contact\">\r\n                    <q-chip\r\n                      v-if=\"hotelContact.email && typeof hotelContact.email !== 'undefined'\r\n                      \"\r\n                      icon=\"email\"\r\n                      clickable\r\n                      @click=\"openInNewTab('mailto:' + hotelContact.email)\"\r\n                    >{{ hotelContact.email}}\r\n                    </q-chip>\r\n                    <q-chip\r\n                      icon=\"phone\"\r\n                      v-if=\"hotelContact.phone && typeof hotelContact.phone !== 'undefined'\r\n                      \"\r\n                      clickable\r\n                      @click=\"openInNewTab('tel:' + hotelContact.phone)\"\r\n                    >{{hotelContact.phone}}\r\n                    </q-chip>\r\n                  </div>\r\n                </q-item-section>\r\n\r\n                <q-item-section side>\r\n                  <q-icon\r\n                    name=\"clear\"\r\n                    color=\"primary\"\r\n                    @click=\"removeHotel()\"\r\n                  />\r\n                </q-item-section>\r\n              </q-item>\r\n            </q-list>\r\n          </div>\r\n\r\n          <q-dialog v-model=\"addHotel\">\r\n            <q-card>\r\n              <q-card-section>\r\n                <h6 style=\"margin:0;\">Hotels auf booking.com ansehen:</h6>\r\n                <q-chip\r\n                  icon=\"launch\"\r\n                  v-if=\"currentStop.Location\"\r\n                  dense\r\n                  style=\"width:117px;margin-bottom:40px;\"\r\n                  class=\"linkChip\"\r\n                  clickable\r\n                  @click=\"openInNewTab('https://www.booking.com/searchresults.de.html?ss=' + currentStop.Location.label.split(',')[0] + '&checkin_year=' + currentStop.InitDate.split(' ')[0].split('.')[2] + '&checkin_month=' + currentStop.InitDate.split('.')[1] + '&checkin_monthday=' + currentStop.InitDate.split('.')[0] + '&checkout_year=' + getCheckOutDate().split('.')[2] + '&checkout_month=' + getCheckOutDate().split('.')[1] + '&checkout_monthday=' + getCheckOutDate().split('.')[0] + '&group_adults=' + currentRoundtrip.Adults + getChildrenText() +  '&no_rooms=' + currentRoundtrip.Rooms + '&ac_langcode=de')\"\r\n                > booking.com\r\n                </q-chip>\r\n\r\n                <h6 style=\"margin:0;\">Hotel hinzufügen:</h6>\r\n\r\n                <HotelSearch\r\n                  v-if=\"currentStop.Location && currentStop.Location.lat\"\r\n                  :disabled=\"!getCheckOutDate()\"\r\n                  :lat=\"currentStop.Location.lat.toString()\"\r\n                  :long=\"currentStop.Location.lng.toString()\"\r\n                  :checkInDate=\"currentStop.InitDate\"\r\n                  :checkOutDate=\"getCheckOutDate()\"\r\n                  :roomAmount=\"parseInt(currentRoundtrip.Rooms)\"\r\n                  :adults=\"parseInt(currentRoundtrip.Adults)\"\r\n                  :childrenAges=\"currentRoundtrip.ChildrenAges\"\r\n                  @update=\"updateHotelData($event)\"\r\n                  ref=\"hotelSearch\"\r\n                ></HotelSearch>\r\n              </q-card-section>\r\n              <q-card-section>\r\n                <q-input\r\n                  v-model=\"generalTempLink\"\r\n                  ref=\"urlInput\"\r\n                  type=\"url\"\r\n                  :rules=\"[val => !val || urlReg.test(val) || 'Bitte gib einen richtigen Link an']\"\r\n                  label=\"Hotel link (optional)\"\r\n                  outlined\r\n                >\r\n                  <template v-slot:prepend>\r\n                    <q-icon name=\"link\" />\r\n                  </template>\r\n                </q-input>\r\n              </q-card-section>\r\n              <q-card-actions align=\"right\">\r\n                <q-btn\r\n                  flat\r\n                  label=\"Abbrechen\"\r\n                  color=\"primary\"\r\n                  v-close-popup\r\n                  @click=\"removeHotel()\"\r\n                />\r\n                <q-btn\r\n                  flat\r\n                  label=\"Hotel hinzufügen\"\r\n                  @click=\"addHotelToStop()\"\r\n                  color=\"primary\"\r\n                  :disable=\"addHotelDisabled\"\r\n                  v-close-popup\r\n                />\r\n              </q-card-actions>\r\n            </q-card>\r\n          </q-dialog>\r\n\r\n          <div v-if=\"suggestedSights && suggestedSights !== 'error'\">\r\n            <span\r\n              v-for=\"(sight, index) in suggestedSights\"\r\n              :key=\"index\"\r\n              :href=\"'https://www.google.com/search?q=' + sight.name + ' ' + currentStop.Location ? currentStop.Location.label.split(',')[0] : ''\"\r\n              target=\"_blank\"\r\n              style=\"text-decoration:none;\"\r\n            >\r\n              <q-chip\r\n                clickable\r\n                @click=\"openSightDialog(sight)\"\r\n                :icon=\"sight.category === 'SIGHTS' ? 'account_balance' : 'location_on'\"\r\n              >{{sight.name}}\r\n              </q-chip>\r\n\r\n            </span>\r\n            <a\r\n              target=\"_blank\"\r\n              v-if=\"currentStop.Location\"\r\n              :href=\"'https://www.google.com/search?q=' +  currentStop.Location.label.split(',')[0] + ' Sehenswürdigkeiten'\"\r\n            >weitere auf Google</a>\r\n            <q-dialog v-model=\"sightDialog.showed\">\r\n              <q-card>\r\n                <q-card-section\r\n                  class=\"row flex justify-end q-pb-none\"\r\n                  style=\"z-index:100; width:100%; position:absolute; color:white;\"\r\n                >\r\n                  <q-btn\r\n                    icon=\"close\"\r\n                    flat\r\n                    round\r\n                    dense\r\n                    v-close-popup\r\n                  />\r\n                </q-card-section>\r\n                <q-img\r\n                  :src=\"sightDialog.imgSrc\"\r\n                  style=\"max-height:75vh;\"\r\n                >\r\n                  <div class=\"absolute-bottom\">\r\n                    <div class=\"text-h6\">{{sightDialog.title}}</div>\r\n                    <div class=\"text-subtitle2\">{{sightDialog.shortDescription}}</div>\r\n                  </div>\r\n                </q-img>\r\n\r\n                <q-card-section>\r\n                  {{sightDialog.description}}\r\n                </q-card-section>\r\n\r\n                <q-card-actions align=\"right\">\r\n                  <q-btn\r\n                    flat\r\n                    label=\"hinzufügen\"\r\n                    color=\"primary\"\r\n                    v-close-popup\r\n                    @click=\"[$refs.sightInput.add(sightDialog.title, true), saveSights()]\"\r\n                  />\r\n                </q-card-actions>\r\n              </q-card>\r\n            </q-dialog>\r\n          </div>\r\n          <q-chip\r\n            v-else\r\n            clickable\r\n            @click=\"searchSights()\"\r\n          >{{suggestedSights === 'error' ? 'keine POIs gefunden' : 'POIs anzeigen'}}\r\n            <q-tooltip>Sehenswürdigkeiten anzeigen</q-tooltip>\r\n          </q-chip>\r\n\r\n          <q-select\r\n            label=\"Sehenswürdigkeiten\"\r\n            filled\r\n            v-model=\"currentStop.Sights\"\r\n            use-input\r\n            use-chips\r\n            multiple\r\n            hide-dropdown-icon\r\n            input-debounce=\"0\"\r\n            new-value-mode=\"add-unique\"\r\n            style=\"margin:10px 10px 10px 0;\"\r\n            ref=\"sightInput\"\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon\r\n                name=\"add\"\r\n                @click.stop\r\n              />\r\n            </template>\r\n          </q-select>\r\n\r\n          <q-editor\r\n            v-model=\"currentStop.Description\"\r\n            min-height=\"5rem\"\r\n            ref=\"editor_ref\"\r\n            @keyup.enter.stop\r\n            :toolbar=\"editorToolbar\"\r\n            toolbar-toggle-color=\"primary\"\r\n            :fonts=\"editorFonts\"\r\n            @paste.native=\"evt => pasteCapture(evt)\"\r\n            style=\"margin-top:10px; margin-bottom:10px;\"\r\n            :definitions=\"{\r\n        format: {\r\n          top: 'Formatierung bei Kopieren beibehaten',\r\n          icon: $q.iconSet.editor.formatting,\r\n          label: 'Format bei Kopie ' + (this.preventPasting ? 'aus' : 'an'),\r\n          handler: formatOn\r\n        }\r\n        }\"\r\n          />\r\n        </q-card-section>\r\n        <q-card-actions align=\"right\">\r\n          <q-btn\r\n            flat\r\n            label=\"Abbrechen\"\r\n            color=\"primary\"\r\n            v-close-popup\r\n          />\r\n          <q-btn\r\n            label=\"Speichern\"\r\n            color=\"primary\"\r\n            :disable=\"!currentStop.DayDuration || currentStop.DayDuration <= 0\"\r\n            @click=\"() => { addStop() }\"\r\n            v-close-popup\r\n          />\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-dialog>\r\n  </div>\r\n</template>\r\n<style lang=\"less\">\r\n@import \"../css/roundtripWizard.less\";\r\n\r\n// dont remove this, neccessary for inline display of editor content in trip overview\r\n.MsoListParagraph {\r\n  display: inline !important;\r\n}\r\n</style>\r\n<script>\r\nimport { countries } from '../countries.js'\r\nimport axios from 'axios'\r\nimport sharedMethods from '../sharedMethods.js'\r\nimport { date } from 'quasar'\r\n// import draggable from 'vuedraggable'\r\nimport { auth, db } from '../firebaseInit.js'\r\n\r\nlet timeStamp = Date.now()\r\nlet formattedScheduleDate = date.formatDate(timeStamp, 'DD.MM.YYYY')\r\n\r\nexport default {\r\n  components: {\r\n    HotelSearch: () => import('../pages/Map/HotelSearch.vue'),\r\n    // draggable,\r\n    TripOverview: () => import('../pages/TripOverview/TripOverview.vue')\r\n  },\r\n  computed: {\r\n    isMobile () {\r\n      return window.matchMedia('(max-width: 550px)').matches\r\n    },\r\n    user () {\r\n      return auth.user()\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      step: 1,\r\n      countryOptions: countries,\r\n      country: 'Land wählen',\r\n      preventPasting: false,\r\n      originOptions: [],\r\n      destinationOptions: [],\r\n      unsavedChanges: false,\r\n      currentRoundtrip: {\r\n        Title: '',\r\n        Rooms: 1,\r\n        Adults: 2,\r\n        ChildrenAges: [],\r\n        Children: 0,\r\n        TransportProfile: 'Reisemittel wählen',\r\n        Origin: null,\r\n        Destination: null,\r\n        DepatureDate: formattedScheduleDate,\r\n        ReturnDate: formattedScheduleDate,\r\n        TravelClass: 'Economy',\r\n        NonStop: 'Ja'\r\n      },\r\n      currentStop: {\r\n        Title: 'neuer Stopp',\r\n        Description: 'Raum für Notizen, Beschreibungen...',\r\n        Location: null,\r\n        Sights: [],\r\n        InitDate: formattedScheduleDate + ' 10:00',\r\n        Profile: 'driving',\r\n        DayDuration: 1\r\n      },\r\n\r\n      // leave this outside of current stop to avoid to much fields in db (will only be added to current stop if need to)\r\n      hotelLocation: {},\r\n      hotelStars: 0,\r\n      hotelContact: {},\r\n      hotelName: null,\r\n      generalTempLink: null,\r\n      hotelPrice: 0,\r\n      guestRating: 0,\r\n      transportLocations: [],\r\n      showCancelDialog: false,\r\n\r\n      addedStops: [],\r\n      suggestedSights: null,\r\n      sightDialog: { showed: false, title: '', imgSrc: '', description: '', shortDescription: '' },\r\n      addHotel: false,\r\n      addHotelDisabled: true,\r\n      inputProfile: 'Auto',\r\n      showAutoRoutedialog: false,\r\n\r\n      isRTEditMode: false,\r\n      saving: false,\r\n\r\n      totalTripDuration: 0,\r\n      totalTripDistance: 0,\r\n\r\n      // -1 if no stop to edit (normal mode) else put index of stop to edit\r\n      stopToEdit: -1,\r\n\r\n      showAddStopDialog: false,\r\n      showEditStopDialog: false,\r\n\r\n      editorFonts: {\r\n        arial: 'Arial',\r\n        arial_black: 'Arial Black',\r\n        comic_sans: 'Comic Sans MS',\r\n        courier_new: 'Courier New',\r\n        impact: 'Impact',\r\n        lucida_grande: 'Lucida Grande',\r\n        times_new_roman: 'Times New Roman',\r\n        verdana: 'Verdana'\r\n      },\r\n      editorToolbar: [\r\n        [\r\n          {\r\n            label: '',\r\n            icon: this.$q.iconSet.editor.align,\r\n            fixedLabel: true,\r\n            list: 'only-icons',\r\n            options: ['left', 'center', 'right', 'justify']\r\n          }\r\n        ],\r\n        ['bold', 'italic', 'strike', 'underline', 'subscript', 'superscript'],\r\n        ['token', 'hr', 'link', 'custom_btn'],\r\n        ['fullscreen'],\r\n        [\r\n          {\r\n            label: 'Größe',\r\n            icon: this.$q.iconSet.editor.fontSize,\r\n            fixedLabel: true,\r\n            fixedIcon: true,\r\n            list: 'no-icons',\r\n            options: [\r\n              'size-1',\r\n              'size-2',\r\n              'size-3',\r\n              'size-4',\r\n              'size-5',\r\n              'size-6',\r\n              'size-7'\r\n            ]\r\n          },\r\n          {\r\n            label: 'Schrift',\r\n            icon: this.$q.iconSet.editor.font,\r\n            fixedLabel: true,\r\n            fixedIcon: true,\r\n            list: 'no-icons',\r\n            options: [\r\n              'default_font',\r\n              'arial',\r\n              'arial_black',\r\n              'comic_sans',\r\n              'courier_new',\r\n              'impact',\r\n              'lucida_grande',\r\n              'times_new_roman',\r\n              'verdana'\r\n            ]\r\n          }\r\n        ],\r\n        ['quote', 'unordered', 'ordered', 'outdent', 'indent'],\r\n        ['format', 'image'],\r\n        ['undo', 'redo']\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * adds the current stop to the stops array\r\n     */\r\n    addStop () {\r\n      this.unsavedChanges = true\r\n\r\n      // remove placeholder if not changed\r\n      if (this.currentStop.Description === 'Raum für Notizen, Beschreibungen...') this.currentStop.Description = ''\r\n\r\n      // add days of current stop to current date to get next stop init date\r\n      let currentDate = sharedMethods.getDateFromString(this.currentStop.InitDate)\r\n      currentDate.setDate(currentDate.getDate() + this.currentStop.DayDuration)\r\n\r\n      // this stop was already added to addedStops (edit mode)\r\n      if (this.stopToEdit > -1) {\r\n        if (this.addedStops[this.stopToEdit].DayDuration !== this.currentStop.DayDuration) {\r\n          const dayDistance = this.currentStop.DayDuration - this.addedStops[this.stopToEdit].DayDuration\r\n\r\n          // update dates of all following stops\r\n          for (let i = this.stopToEdit + 1; i < this.addedStops.length; i++) {\r\n            const currentStopDate = sharedMethods.getDateFromString(this.addedStops[i].InitDate)\r\n\r\n            currentStopDate.setDate(currentStopDate.getDate() + dayDistance)\r\n\r\n            this.addedStops[i].InitDate = date.formatDate(currentStopDate, 'DD.MM.YYYY HH:mm')\r\n          }\r\n        }\r\n\r\n        this.addedStops[this.stopToEdit] = this.currentStop\r\n\r\n        // set next stop init date to last stops one\r\n        currentDate = sharedMethods.getDateFromString(this.addedStops[this.addedStops.length - 1].InitDate)\r\n        currentDate.setDate(currentDate.getDate() + this.addedStops[this.addedStops.length - 1].DayDuration)\r\n\r\n        this.stopToEdit = -1\r\n      } else {\r\n        this.addedStops.push(this.currentStop)\r\n      }\r\n\r\n      this.currentStop = {\r\n        Title: 'neuer Stopp',\r\n        Description: 'Raum für Notizen, Beschreibungen...',\r\n        Location: null,\r\n        Sights: [],\r\n        InitDate: date.formatDate(currentDate, 'DD.MM.YYYY HH:mm'),\r\n        Profile: 'driving',\r\n        DayDuration: 1\r\n      }\r\n\r\n      // reload map\r\n      if (this.$refs.tripOverview) this.$refs.tripOverview.refreshMap()\r\n\r\n      this.updateTotalTripDuration()\r\n    },\r\n    /**\r\n     * Set roundtrip to shortest route possible (get it from getShortestRoute & reset init dates)\r\n     * @see getShortestRoute()\r\n     */\r\n    setTripToShortestRoute () {\r\n      let suggestedStops = this.getShortestRoute()\r\n      let initDate = sharedMethods.getDateFromString(this.addedStops[0].InitDate)\r\n\r\n      suggestedStops.forEach((stop, index) => {\r\n        stop.InitDate = date.formatDate(initDate, 'DD.MM.YYYY HH:mm')\r\n        initDate.setDate(initDate.getDate() + 1)\r\n\r\n        if (index === suggestedStops.length - 1) this.addedStops = suggestedStops\r\n      })\r\n\r\n      this.updateTotalTripDuration()\r\n    },\r\n    /**\r\n     * Get shortest route in comparing the distances between every stop\r\n     * @see getShortestDistance()\r\n     */\r\n    getShortestRoute () {\r\n      let stopsTaken = [this.addedStops[0]]\r\n      this.addedStops.forEach((stop, index) => {\r\n        if (index > 0) {\r\n          let foundStop = this.getShortestDistance(stopsTaken[stopsTaken.length - 1], stopsTaken)\r\n          if (foundStop !== null) {\r\n            stopsTaken.push(foundStop)\r\n          }\r\n        }\r\n      })\r\n      return stopsTaken\r\n    },\r\n    /**\r\n     * Get shortest distance between two stops\r\n     * @param originStop the origin to start from\r\n     * @param {Array} stopsTaken array of stops already in suggested route\r\n     * @see getDinstanceFromLatLonInKm()\r\n     */\r\n    getShortestDistance (originStop, stopsTaken) {\r\n      let distances = []\r\n      let stop = null\r\n      this.addedStops.forEach(stop => {\r\n        if (!stopsTaken.includes(stop)) {\r\n          distances.push({ distance: this.getDistanceFromLatLonInKm(originStop.Location.lng, originStop.Location.lat, stop.Location.lng, stop.Location.lat), stop: stop })\r\n        }\r\n      })\r\n      if (distances.length > 0) {\r\n        let distanceValues = []\r\n\r\n        distances.forEach(distanceArr => {\r\n          distanceValues.push(distanceArr.distance)\r\n        })\r\n\r\n        let minVal = Math.min.apply(null, distanceValues)\r\n        stop = distances[distances.findIndex(x => x.distance === minVal)].stop\r\n      }\r\n      return stop\r\n    },\r\n    /**\r\n     * Get the distance between two lat lng positions in km\r\n     * @example getDistanceFromLatLonInKm(42.2, 11.2, 42.6, 11.6)\r\n     */\r\n    getDistanceFromLatLonInKm (lat1, lon1, lat2, lon2) {\r\n      var R = 6371 // Radius of the earth in km\r\n      var dLat = this.deg2rad(lat2 - lat1) // deg2rad below\r\n      var dLon = this.deg2rad(lon2 - lon1)\r\n      var a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2)\r\n\r\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\r\n      var d = R * c // Distance in km\r\n      return d\r\n    },\r\n    deg2rad (deg) {\r\n      return deg * (Math.PI / 180)\r\n    },\r\n    /**\r\n     *  removes the stop with the given index\r\n     */\r\n    removeStop (index) {\r\n      this.unsavedChanges = true\r\n\r\n      // all following dates of deleted stop must be updated\r\n      // following stop of deleted stop gets deleted stops date\r\n\r\n      // get date of stop to delete\r\n      const deletedStopDate = this.addedStops[index].InitDate\r\n\r\n      // delete this stop from db\r\n      if (this.addedStops[index].DocId) db.collection('RoundtripDetails').doc(this.addedStops[index].DocId).delete()\r\n\r\n      // delete stop\r\n      this.addedStops.splice(index, 1)\r\n\r\n      // set following date to delete stop date\r\n      this.addedStops[index].InitDate = deletedStopDate\r\n\r\n      for (let i = index + 1; i < this.addedStops.length; i++) {\r\n        let previousStopDate = sharedMethods.getDateFromString(this.addedStops[i - 1].InitDate)\r\n\r\n        previousStopDate.setDate(previousStopDate.getDate() + this.addedStops[i - 1].DayDuration)\r\n        this.addedStops[i].InitDate = date.formatDate(previousStopDate, 'DD.MM.YYYY')\r\n      }\r\n\r\n      let lastStop = this.addedStops[this.addedStops.length - 1]\r\n      let currentDate = sharedMethods.getDateFromString(lastStop.InitDate)\r\n      currentDate.setDate(currentDate.getDate() + lastStop.DayDuration)\r\n\r\n      this.currentStop.InitDate = date.formatDate(currentDate, 'DD.MM.YYYY HH:mm')\r\n\r\n      // reload map\r\n      if (this.$refs.tripOverview) this.$refs.tripOverview.refreshMap()\r\n\r\n      if (this.addedStops.length === 0) this.step = 3\r\n\r\n      this.updateTotalTripDuration()\r\n    },\r\n    /**\r\n     * creates the roundtrip (write the temp data into db)\r\n     */\r\n    createTrip () {\r\n      if (!this.unsavedChanges) this.$router.push('/rundreise-ansehen/' + this.$route.params.id)\r\n\r\n      // need this json stringify to prevent update of location when the click location changes\r\n      let stops = JSON.parse(JSON.stringify(this.addedStops))\r\n\r\n      // make all date strings to real dates\r\n      stops.forEach((stop, index) => {\r\n        stop.InitDate = sharedMethods.getDateFromString(this.addedStops[index].InitDate)\r\n      })\r\n\r\n      this.currentRoundtrip.Title = this.currentRoundtrip.Title.charAt(0).toUpperCase() + this.currentRoundtrip.Title.slice(1)\r\n      this.currentRoundtrip.Title = this.currentRoundtrip.Title.trim()\r\n\r\n      let tripDuration = this.getTripDuration()\r\n      let daysString = '< 5 Tage'\r\n\r\n      if (tripDuration < 5) {\r\n        daysString = '< 5 Tage'\r\n      } else if (tripDuration >= 5 && tripDuration <= 8) {\r\n        daysString = '5-8 Tage'\r\n      } else if (tripDuration >= 9 && tripDuration <= 11) {\r\n        daysString = '9-11 Tage'\r\n      } else if (tripDuration >= 12 && tripDuration <= 15) {\r\n        daysString = '12-15 Tage'\r\n      } else if (tripDuration > 15) {\r\n        daysString = '> 15 Tage'\r\n      }\r\n\r\n      this.currentRoundtrip.Days = daysString\r\n\r\n      this.getRoundtripCountries().then(countries => {\r\n        if (this.$store.getters['demoSession/isInDemoSession'] && auth.user() === null) {\r\n          this.$store.dispatch({ type: 'demoSession/addRoundtrip', roundtripObject: this.currentRoundtrip, tempLocation: countries, originCode: null, destinationCode: null, stops: stops }).then(() => {\r\n            this.$router.push('/registrieren')\r\n          })\r\n        } else if (this.isRTEditMode) {\r\n          let promiseList = []\r\n\r\n          // update existing roundtrip\r\n          this.addedStops.forEach(stop => {\r\n            if (stop.DocId) {\r\n              // this stop is existing\r\n              promiseList.push(db.collection('RoundtripDetails').doc(stop.DocId).update(stop))\r\n            } else {\r\n              // this is a new stop\r\n              stop.RTId = this.$route.params.id\r\n              promiseList.push(db.collection('RoundtripDetails').add(stop))\r\n            }\r\n          })\r\n\r\n          this.saving = true\r\n\r\n          Promise.all(promiseList).then(() => {\r\n            this.saving = false\r\n            sharedMethods.showSuccessNotification('Reise wurde gespeichert')\r\n\r\n            setTimeout(function () {\r\n              this.$router.push('/rundreise-ansehen/' + this.$route.params.id)\r\n            }, 1000)\r\n          })\r\n        } else {\r\n          // add roundtrip normally\r\n\r\n          this.saving = true\r\n          try {\r\n            this.$store.dispatch({ type: 'roundtrips/addRoundtrip', title: this.currentRoundtrip.Title, days: daysString, uid: auth.user().uid, rooms: this.currentRoundtrip.Rooms, adults: this.currentRoundtrip.Adults, childrenAges: this.currentRoundtrip.ChildrenAges, tempLocation: countries, depatureDate: this.currentRoundtrip.DepatureDate, transportProfile: this.currentRoundtrip.TransportProfile, origin: this.currentRoundtrip.Origin, originCode: null, destination: this.currentRoundtrip.Destination, destinationCode: null, returnDate: this.currentRoundtrip.ReturnDate, travelClass: this.currentRoundtrip.TravelClass, nonStop: this.currentRoundtrip.NonStop, stops: stops })\r\n              .then(docId => {\r\n                if (docId && docId !== null) {\r\n                  let context = this\r\n                  // wait to ensure roundtrip is fully added\r\n                  setTimeout(function () {\r\n                    this.saving = false\r\n                    console.log(docId)\r\n                    context.$router.push('/rundreise-ansehen/' + docId)\r\n                  }, 500)\r\n                } else {\r\n                  this.saving = false\r\n                  sharedMethods.showErrorNotification('Deine Rundreise konnte nicht erstellt werden, bitte versuche es erneut')\r\n                }\r\n              })\r\n          } catch (error) {\r\n            console.log(error)\r\n            this.saving = false\r\n            sharedMethods.showErrorNotification('Deine Rundreise konnte nicht erstellt werden, bitte versuche es erneut')\r\n            return false\r\n          }\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * updates total trip duration\r\n     */\r\n    updateTotalTripDuration () {\r\n      let startDate = sharedMethods.getDateFromString(this.addedStops[0].InitDate)\r\n\r\n      let stopDate = sharedMethods.getDateFromString(this.addedStops[this.addedStops.length - 1].InitDate)\r\n      const oneDay = 24 * 60 * 60 * 1000\r\n\r\n      const diffDays = Math.round(Math.abs((startDate - stopDate) / oneDay))\r\n      this.totalTripDuration = diffDays + this.addedStops[this.addedStops.length - 1].DayDuration\r\n    },\r\n    /**\r\n     * called from map\r\n     * resets amount if -1 will be passed\r\n     */\r\n    updateTotalTripDistance (distance) {\r\n      console.log(distance)\r\n      if (distance === -1) this.totalTripDistance = 0\r\n      else this.totalTripDistance += distance\r\n    },\r\n    getRoundtripCountries () {\r\n      return new Promise((resolve) => {\r\n        let tempCountries = []\r\n        let promiseList = []\r\n\r\n        this.addedStops.forEach((stop, index) => {\r\n          let url = 'http://api.geonames.org/countryCodeJSON?lang=de&lat=' + stop.Location.lat + '&lng=' + stop.Location.lng + '&username=roundtrips4you'\r\n\r\n          promiseList.push(\r\n            axios.get(url)\r\n              .then(response => {\r\n                if (!tempCountries.includes(response.data.countryName)) tempCountries.push(response.data.countryName)\r\n              }).catch(function (error) {\r\n                console.log(error)\r\n              })\r\n          )\r\n        })\r\n\r\n        Promise.all(promiseList).then(vals => {\r\n          resolve(tempCountries)\r\n        })\r\n      })\r\n    },\r\n    getTripDuration () {\r\n      let startDate = sharedMethods.getDateFromString(this.addedStops[0].InitDate)\r\n\r\n      let stopDate = sharedMethods.getDateFromString(this.addedStops[this.addedStops.length - 1].InitDate)\r\n      const oneDay = 24 * 60 * 60 * 1000\r\n\r\n      const diffDays = Math.round(Math.abs((startDate - stopDate) / oneDay))\r\n      this.tripDuration = diffDays\r\n    },\r\n    onStopsDragged (event) {\r\n      this.unsavedChanges = true\r\n\r\n      // dont do anything if stop was not moved\r\n      if (event.newIndex === event.oldIndex) return\r\n\r\n      // know this is messy but only solution to update added stop with right value\r\n      let newAddedStops = JSON.parse(JSON.stringify(event.addedStops))\r\n\r\n      // stop was moved > recalculate dates\r\n      // set dragged stop date to dragged on stop\r\n      // set next date to this date + dragged stop date days etc.\r\n      // set previous date to this date - previos date days etc.\r\n\r\n      let draggedStop = newAddedStops[event.newIndex]\r\n\r\n      let draggedUp = event.oldIndex > event.newIndex\r\n\r\n      let draggedOnStop = newAddedStops[event.newIndex - 1]\r\n      if (draggedUp) draggedOnStop = newAddedStops[event.newIndex + 1]\r\n\r\n      // set dragged stop date to dragged on stop date\r\n      draggedStop.InitDate = JSON.parse(JSON.stringify(draggedOnStop.InitDate))\r\n\r\n      // set all following dates to previous date +  previous date day duration\r\n      for (let i = event.newIndex + 1; i < newAddedStops.length; i++) {\r\n        let previousStopDate = sharedMethods.getDateFromString(newAddedStops[i - 1].InitDate)\r\n\r\n        previousStopDate.setDate(previousStopDate.getDate() + newAddedStops[i - 1].DayDuration)\r\n        newAddedStops[i].InitDate = date.formatDate(previousStopDate, 'DD.MM.YYYY HH:mm')\r\n      }\r\n\r\n      // set all previous dates to following date - previous date day duration\r\n      for (let i = event.newIndex - 1; i >= 0; i--) {\r\n        let followingStopDate = sharedMethods.getDateFromString(newAddedStops[i + 1].InitDate)\r\n\r\n        followingStopDate.setDate(followingStopDate.getDate() - newAddedStops[i].DayDuration)\r\n\r\n        console.log(followingStopDate)\r\n        newAddedStops[i].InitDate = date.formatDate(followingStopDate, 'DD.MM.YYYY HH:mm')\r\n      }\r\n\r\n      this.addedStops = newAddedStops\r\n\r\n      // reload map\r\n      if (this.$refs.tripOverview) this.$refs.tripOverview.refreshMap()\r\n    },\r\n    /**\r\n     * called when a user clicks on a stop to edit it\r\n     */\r\n    editStop (index) {\r\n      this.currentStop = JSON.parse(JSON.stringify(this.addedStops[index]))\r\n      console.log(this.currentStop)\r\n      this.stopToEdit = index\r\n      this.showEditStopDialog = true\r\n    },\r\n    isUniqueTitle (val) {\r\n      return sharedMethods.isUniqueTitle(val)\r\n    },\r\n    getChildrenText () {\r\n      let text = '&group_children=' + this.currentRoundtrip.ChildrenAges.length\r\n      this.currentRoundtrip.ChildrenAges.forEach(child => {\r\n        text += '&age=' + child\r\n      })\r\n      return text\r\n    },\r\n    capitalize (value) {\r\n      return sharedMethods.capitalize(value)\r\n    },\r\n    addHotelToStop () {\r\n      this.currentStop.HotelLocation = this.hotelLocation\r\n      this.currentStop.HotelStars = this.hotelStars\r\n      this.currentStop.HotelContact = this.hotelContact\r\n      this.currentStop.HotelName = this.hotelName\r\n      this.currentStop.GeneralLink = this.generalTempLink\r\n      this.currentStop.CheckOutDate = this.getCheckOutDate()\r\n      this.currentStop.HotelPrice = this.hotelPrice\r\n      this.currentStop.GuestRating = this.guestRating\r\n      this.currentStop.TransportLocations = this.transportLocations\r\n    },\r\n    removeHotel () {\r\n      this.hotelName = null\r\n\r\n      delete this.currentStop.HotelLocation\r\n      delete this.currentStop.HotelStars\r\n      delete this.currentStop.HotelContact\r\n      delete this.currentStop.HotelName\r\n      delete this.currentStop.GeneralLink\r\n      delete this.currentStop.CheckOutDate\r\n      delete this.currentStop.HotelPrice\r\n      delete this.currentStop.GuestRating\r\n      delete this.currentStop.TransportLocations\r\n    },\r\n    /**\r\n     * gets the check out date (add duration of days to init date)\r\n     */\r\n    getCheckOutDate () {\r\n      // add days of current stop to current date\r\n      let checkOutDate = sharedMethods.getDateFromString(this.currentStop.InitDate)\r\n      checkOutDate.setDate(checkOutDate.getDate() + this.currentStop.DayDuration)\r\n      checkOutDate = date.formatDate(checkOutDate, 'DD.MM.YYYY')\r\n      return checkOutDate\r\n    },\r\n    isDateTimeValid () {\r\n      return sharedMethods.isDateTimeValid(this.currentStop.InitDate)\r\n    },\r\n    /**\r\n     * filter countries method used in filter method of quasar select component\r\n     */\r\n    filterCountries (val, update, abort) {\r\n      update(() => {\r\n        const needle = val.toLowerCase()\r\n        this.countryOptions = countries.filter(v => v.toLowerCase().indexOf(needle) > -1)\r\n      })\r\n    },\r\n    getGeneralProfile () {\r\n      switch (this.inputProfile) {\r\n        case 'zu Fuß':\r\n          this.currentStop.Profile = 'walking'\r\n          break\r\n        case 'Fahrrad':\r\n          this.currentStop.Profile = 'cycling'\r\n          break\r\n        default:\r\n          this.currentStop.Profile = 'driving'\r\n          break\r\n      }\r\n    },\r\n    openInNewTab (link) {\r\n      window.open(link, '_blank')\r\n    },\r\n    /**\r\n     * called from city suggestions, when user adds a new city\r\n     */\r\n    updateFromSuggestedCity (event) {\r\n      this.unsavedChanges = true\r\n\r\n      this.currentStop.Location = {\r\n        lng: event.longitude,\r\n        lat: event.latitude,\r\n        label: event.name\r\n      }\r\n\r\n      this.currentStop.Title = 'Stopp in ' + event.name.split(',')[0]\r\n      this.step = 5\r\n    },\r\n    /**\r\n   * update location object with location serch results\r\n   * @param event event from location search update callback\r\n   */\r\n    updateLocation (event) {\r\n      if (event !== null) {\r\n        this.currentStop.Location = {\r\n          lng: event.x,\r\n          lat: event.y,\r\n          label: event.label\r\n        }\r\n        this.currentStop.Title = 'Stopp in ' + event.label.split(',')[0]\r\n        this.step = 5\r\n      } else {\r\n        this.currentStop.Location = null\r\n      }\r\n    },\r\n    formatOn () {\r\n      this.preventPasting = !this.preventPasting\r\n    },\r\n    /**\r\n     * method for q-editor\r\n     */\r\n    pasteCapture (evt) {\r\n      if (this.preventPasting) {\r\n        let text, onPasteStripFormattingIEPaste\r\n        evt.preventDefault()\r\n        if (evt.originalEvent && evt.originalEvent.clipboardData.getData) {\r\n          text = evt.originalEvent.clipboardData.getData('text/plain')\r\n          this.$refs.editor_ref.runCmd('insertText', text)\r\n        } else if (evt.clipboardData && evt.clipboardData.getData()) {\r\n          text = evt.clipboardData.getData('text/plain')\r\n          this.$refs.editor_ref.runCmd('insertText', text)\r\n        } else if (window.clipboardData && window.clipboardData.getData) {\r\n          if (!onPasteStripFormattingIEPaste) {\r\n            onPasteStripFormattingIEPaste = true\r\n            this.$refs.editor_ref.runCmd('ms-pasteTextOnly', text)\r\n          }\r\n          onPasteStripFormattingIEPaste = false\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * open sight dialog to show data from wikivoyage about sight\r\n     */\r\n    openSightDialog (sight) {\r\n      // get sight dialog content from wikivoyage\r\n      const context = this\r\n      sharedMethods.getWikivoyageData(sight.name).then(result => {\r\n        if (result !== null) {\r\n          context.sightDialog.title = result.title || sight.name\r\n          context.sightDialog.description = result.description || 'Es konnten leider keine Informationen gefunden werden'\r\n          context.sightDialog.shortDescription = result.shortDescription\r\n          context.sightDialog.imgSrc = result.imgSrc\r\n          context.sightDialog.showed = true\r\n        } else {\r\n          context.sightDialog.title = sight.name\r\n          context.sightDialog.description = 'Es konnten leider keine Informationen gefunden werden'\r\n          context.sightDialog.shortDescription = ''\r\n          context.sightDialog.imgSrc = ''\r\n          context.sightDialog.showed = true\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * search the sights for current location\r\n     */\r\n    searchSights () {\r\n      if (this.currentStop.Location.lng && this.currentStop.Location.lat) {\r\n        sharedMethods.getSights(this.currentStop.Location.lng, this.currentStop.Location.lat).then((results) => {\r\n          if (results !== null) {\r\n            this.suggestedSights = results.data.data\r\n          } else {\r\n            this.suggestedSights = 'error'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    updateHotelData (event) {\r\n      if (event !== null) {\r\n        this.addHotelDisabled = true\r\n        let hotelLat = event.latitude\r\n        let hotelLng = event.longitude\r\n\r\n        this.hotelName = event.name\r\n\r\n        if (event.destinationId) {\r\n          axios.get('https://hotels4.p.rapidapi.com/properties/get-details?locale=de_DE&currency=EUR&id=' + event.destinationId, {\r\n            headers: {\r\n              'content-type': 'application/octet-stream',\r\n              'x-rapidapi-host': 'hotels4.p.rapidapi.com',\r\n              'x-rapidapi-key': '18b409d797msh45b84c0227df18cp1fea51jsne88847e3f3c8',\r\n              'useQueryString': true\r\n            }\r\n          })\r\n            .then((response) => {\r\n              console.log(response)\r\n\r\n              let body = response.data.data.body\r\n              let propertyDescription = body.propertyDescription\r\n\r\n              let label = propertyDescription.address.fullAddress\r\n\r\n              let avgPrice = propertyDescription.featuredPrice.currentPrice.plain\r\n\r\n              let guestRating = body.guestReviews.brands.formattedRating + ' ' + body.guestReviews.brands.badgeText\r\n\r\n              let transportLocations = response.data.transportation.transportLocations\r\n\r\n              this.writeHotelData(label, hotelLat, hotelLng, propertyDescription.starRating, avgPrice, guestRating, transportLocations)\r\n            })\r\n            .catch((error) => {\r\n              console.log(error)\r\n            })\r\n        } else {\r\n          this.writeHotelData(event.label, hotelLat, hotelLng, null, null, null, null)\r\n        }\r\n      }\r\n    },\r\n    writeHotelData (label, lat, lng, rating, price, guestRating, transportLocations) {\r\n      this.hotelLocation = {\r\n        lng: lat,\r\n        lat: lng,\r\n        label: label\r\n      }\r\n\r\n      price && typeof price !== 'undefined' ? this.hotelPrice = price : this.hotelPrice = null\r\n\r\n      guestRating && typeof guestRating !== 'undefined' ? this.guestRating = guestRating : this.guestRating = null\r\n\r\n      typeof transportLocations !== 'undefined' ? this.transportLocations = transportLocations : this.transportLocations = null\r\n\r\n      rating && typeof rating !== 'undefined' ? this.hotelStars = rating : this.hotelStars = null\r\n\r\n      this.addHotelDisabled = false\r\n\r\n      // if (contact) this.hotelContact = contact\r\n    },\r\n    getHotelTransportationIcon (category) {\r\n      switch (category) {\r\n        case 'airport':\r\n          return 'flight'\r\n        case 'train-station':\r\n          return 'train'\r\n        case 'metro':\r\n          return 'subway'\r\n        default:\r\n          return 'cummute'\r\n      }\r\n    },\r\n    destinationChanged (val) {\r\n      // todo destination codes are not defined\r\n      this.getLocationFromIataCode(this.destinationCodes[this.destinationOptions.indexOf(val)], this.destinationAddresses[this.destinationOptions.indexOf(val)])\r\n    },\r\n    getLocationFromIataCode (code, countryName) {\r\n      let context = this\r\n      axios.get('http://iatageo.com/getLatLng/' + code\r\n      ).then(function (response) {\r\n        context.tempLocation = {\r\n          lat: response.data.latitude,\r\n          lng: response.data.longitude,\r\n          label: countryName\r\n        }\r\n      }).catch(function (error) {\r\n        console.log('Error' + error)\r\n      })\r\n    },\r\n    getOrigins (val, update, abort) {\r\n      sharedMethods.filterAirports(val, update, abort, true, this)\r\n    },\r\n    getDestinations (val, update, abort) {\r\n      sharedMethods.filterAirports(val, update, abort, false, this)\r\n    },\r\n    getLocationString (locations) {\r\n      let locationString = ''\r\n      locations.forEach((location, index) => {\r\n        locationString = locationString + (index !== 0 ? ', ' : '') + location\r\n      })\r\n      return locationString\r\n    },\r\n    updateReturnDate () {\r\n      let dateParts = this.currentRoundtrip.DepatureDate.split('.')\r\n      let depatureDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0])\r\n      let returnDate = depatureDate\r\n      returnDate.setDate(depatureDate.getDate() + 1)\r\n\r\n      this.currentRoundtrip.ReturnDate = date.formatDate(returnDate, 'DD.MM.YYYY')\r\n    },\r\n    handleAddStopFromMap (event) {\r\n      this.unsavedChanges = true\r\n      let lastDate = this.currentStop.InitDate\r\n\r\n      // check if we didn't add this stop before\r\n      if (this.currentStop.Location !== event.location) {\r\n        this.currentStop = {\r\n          Title: 'Stopp in ' + event.location.label,\r\n          Description: 'Raum für Notizen, Beschreibungen...',\r\n          Location: event.location,\r\n          Sights: [],\r\n          InitDate: lastDate,\r\n          Profile: 'driving',\r\n          DayDuration: 1\r\n        }\r\n\r\n        this.showAddStopDialog = true\r\n        // this.step = 5\r\n      }\r\n    },\r\n    /**\r\n    * sorts trip stops after their init dates (must be placed in sort())\r\n    */\r\n    compare (a, b) {\r\n      const initDateA = sharedMethods.getDateFromString(a.InitDate)\r\n      const initDateB = sharedMethods.getDateFromString(b.InitDate)\r\n\r\n      if (initDateA > initDateB) return 1\r\n      if (initDateB > initDateA) return -1\r\n\r\n      return 0\r\n    }\r\n  },\r\n  created () {\r\n    auth.authRef().onAuthStateChanged((user) => {\r\n      if (!this.$store.getters['demoSession/isInDemoSession'] && !auth.user()) {\r\n        this.$store.commit('demoSession/setAsDemoSession')\r\n      } else {\r\n        let RTId = this.$route.params.id\r\n        if (RTId) {\r\n          // we are in edit rt mode\r\n          this.isRTEditMode = true\r\n          this.step = 6\r\n\r\n          this.currentRoundtrip.Title = 'Laden...'\r\n          this.$store.dispatch('roundtrips/fetchSingleRoundtrip', RTId).then(roundtrip => {\r\n            this.currentRoundtrip = roundtrip\r\n          })\r\n\r\n          // get stops\r\n          let roundtripsRef = db.collection('RoundtripDetails')\r\n            .where('RTId', '==', RTId)\r\n            .orderBy('InitDate')\r\n          roundtripsRef.get()\r\n            .then(snapshot => {\r\n              snapshot.forEach(doc => {\r\n                let stop = doc.data()\r\n\r\n                if (typeof stop.InitDate !== 'string') {\r\n                  let initDate = new Date(stop.InitDate.seconds * 1000)\r\n                  stop.InitDate = date.formatDate(initDate, 'DD.MM.YYYY HH:mm')\r\n                }\r\n\r\n                if (!stop.DayDuration) stop.DayDuration = 0\r\n\r\n                stop.DocId = doc.id\r\n\r\n                this.addedStops.push(stop)\r\n                this.addedStops.sort(this.compare)\r\n\r\n                this.updateTotalTripDuration()\r\n              })\r\n            })\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripWizard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripWizard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoundtripWizard.vue?vue&type=template&id=0b05921c&\"\nimport script from \"./RoundtripWizard.vue?vue&type=script&lang=js&\"\nexport * from \"./RoundtripWizard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoundtripWizard.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripWizard.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripWizard.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}