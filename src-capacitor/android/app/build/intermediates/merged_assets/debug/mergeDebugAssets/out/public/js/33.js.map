{"version":3,"sources":["webpack:///./src/pages/Login.vue?15e1","webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?d864","webpack:///./src/pages/Login.vue"],"names":[],"mappings":"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","file":"js/33.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login q-px-lg q-pb-md\"},[_c('h1',[_vm._v(\"Anmelden\")]),_c('p',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"20px\",\"padding-bottom\":\"10px\"}},[_vm._v(\"Willkommen zurück, logge dich ein um zu deinen Reisen zu kommen\")]),_c('q-form',{staticClass:\"q-gutter-md rounded-borders flex column\",staticStyle:{\"align-items\":\"center\"},attrs:{\"bordered\":\"\"},on:{\"submit\":_vm.onUserLogin}},[_c('q-input',{attrs:{\"outlined\":\"\",\"type\":\"email\",\"lazy-rules\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib eine Email an'; }, function (val) { return _vm.reg.test(val) || 'Bitte gib eine richtige Email an'; }],\"label\":\"Email\"},model:{value:(_vm.userEmail),callback:function ($$v) {_vm.userEmail=$$v},expression:\"userEmail\"}}),_c('q-input',{attrs:{\"outlined\":\"\",\"type\":_vm.isPwd ? 'password' : 'text',\"label\":\"Passwort\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib dein Passwort ein'; }]},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":_vm.isPwd ? 'visibility_off' : 'visibility'},on:{\"click\":function($event){_vm.isPwd = !_vm.isPwd}}})]},proxy:true}]),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('q-btn',{staticClass:\"q-mt-md\",staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"submit\",\"loading\":_vm.submitting,\"label\":\"Login\",\"color\":\"primary\",\"text-color\":\"white\"},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('q-spinner')]},proxy:true}])})],1)],1),_c('div',{staticClass:\"flex justify-center\"},[_c('q-btn',{staticClass:\"q-mt-md\",staticStyle:{\"width\":\"300px\"},attrs:{\"label\":\"Passwort vergessen\"},on:{\"click\":function($event){_vm.showResetPasswordDialog = true}}})],1),_c('q-dialog',{model:{value:(_vm.showResetPasswordDialog),callback:function ($$v) {_vm.showResetPasswordDialog=$$v},expression:\"showResetPasswordDialog\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row items-center\"},[_c('q-input',{attrs:{\"outlined\":\"\",\"type\":\"email\",\"lazy-rules\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib eine Email an'; }, function (val) { return _vm.reg.test(val) || 'Bitte gib eine richtige Email an'; }],\"label\":\"Email\"},model:{value:(_vm.userEmail),callback:function ($$v) {_vm.userEmail=$$v},expression:\"userEmail\"}})],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Passwort zurücksetzen\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.resetPassword()}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Abbrechen\",\"color\":\"primary\"}})],1)],1)],1),_c('div',{staticClass:\"google-form\"},[_c('div',{staticClass:\"form-option\"},[_vm._v(\"oder\")]),_c('q-btn',{staticClass:\"q-mt-md google-btn\",staticStyle:{\"width\":\"300px\",\"text-transform\":\"none\",\"font-family\":\"roboto\"},attrs:{\"loading\":_vm.googleLoading,\"label\":\"Anmelden mit Google\",\"icon\":\"fab fa-google\"},on:{\"click\":_vm.signUpWithGoogle},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('q-spinner')]},proxy:true}])})],1),_c('br'),_c('div',{staticStyle:{\"font-size\":\"18px\",\"text-align\":\"center\",\"width\":\"100%\"}},[_vm._v(\"Du hast noch kein Konto? \"),_c('router-link',{attrs:{\"to\":\"/registrieren\"}},[_vm._v(\"Jetzt Registrieren\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login q-px-lg q-pb-md\">\r\n    <h1>Anmelden</h1>\r\n    <p style=\"text-align:center; font-size:20px; padding-bottom:10px;\">Willkommen zurück, logge dich ein um zu deinen Reisen zu kommen</p>\r\n    <q-form\r\n      @submit=\"onUserLogin\"\r\n      bordered\r\n      class=\"q-gutter-md rounded-borders flex column\"\r\n      style=\"align-items:center;\"\r\n    >\r\n      <q-input\r\n        v-model=\"userEmail\"\r\n        outlined\r\n        type=\"email\"\r\n        lazy-rules\r\n        :rules=\"[val => val !== null && val !== '' || 'Bitte gib eine Email an', val => reg.test(val) || 'Bitte gib eine richtige Email an']\"\r\n        label=\"Email\"\r\n      />\r\n      <q-input\r\n        v-model=\"password\"\r\n        outlined\r\n        :type=\"isPwd ? 'password' : 'text'\"\r\n        label=\"Passwort\"\r\n        :rules=\"[val => val !== null && val !== '' || 'Bitte gib dein Passwort ein']\"\r\n      >\r\n        <template v-slot:append>\r\n          <q-icon\r\n            :name=\"isPwd ? 'visibility_off' : 'visibility'\"\r\n            class=\"cursor-pointer\"\r\n            @click=\"isPwd = !isPwd\"\r\n          />\r\n        </template>\r\n      </q-input>\r\n      <div style=\"padding:10px;\">\r\n        <q-btn\r\n          type=\"submit\"\r\n          :loading=\"submitting\"\r\n          label=\"Login\"\r\n          class=\"q-mt-md\"\r\n          color=\"primary\"\r\n          text-color=\"white\"\r\n          style=\"width:300px;\"\r\n        >\r\n          <template v-slot:loading>\r\n            <q-spinner />\r\n          </template>\r\n        </q-btn>\r\n      </div>\r\n    </q-form>\r\n    <div class=\"flex justify-center\">\r\n      <q-btn\r\n        label=\"Passwort vergessen\"\r\n        class=\"q-mt-md\"\r\n        style=\"width:300px;\"\r\n        @click=\"showResetPasswordDialog = true\"\r\n      >\r\n      </q-btn>\r\n    </div>\r\n    <q-dialog v-model=\"showResetPasswordDialog\">\r\n      <q-card>\r\n        <q-card-section class=\"row items-center\">\r\n          <q-input\r\n            v-model=\"userEmail\"\r\n            outlined\r\n            type=\"email\"\r\n            lazy-rules\r\n            :rules=\"[val => val !== null && val !== '' || 'Bitte gib eine Email an', val => reg.test(val) || 'Bitte gib eine richtige Email an']\"\r\n            label=\"Email\"\r\n          />\r\n        </q-card-section>\r\n\r\n        <q-card-actions align=\"right\">\r\n          <q-btn\r\n            flat\r\n            label=\"Passwort zurücksetzen\"\r\n            @click=\"resetPassword()\"\r\n            color=\"primary\"\r\n            v-close-popup\r\n          />\r\n          <q-btn\r\n            flat\r\n            label=\"Abbrechen\"\r\n            color=\"primary\"\r\n            v-close-popup\r\n          />\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-dialog>\r\n    <div class=\"google-form\">\r\n      <div class=\"form-option\">oder</div>\r\n      <q-btn\r\n        :loading=\"googleLoading\"\r\n        label=\"Anmelden mit Google\"\r\n        class=\"q-mt-md google-btn\"\r\n        style=\"width:300px; text-transform:none; font-family:roboto;\"\r\n        icon=\"fab fa-google\"\r\n        @click=\"signUpWithGoogle\"\r\n      >\r\n        <template v-slot:loading>\r\n          <q-spinner />\r\n        </template>\r\n      </q-btn>\r\n    </div>\r\n    <br>\r\n    <div style=\"font-size:18px; text-align:center; width:100%;\">Du hast noch kein Konto? <router-link to=\"/registrieren\">Jetzt Registrieren</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport(/* webpackPrefetch: true */ '../css/login.less')\r\nimport { auth } from '../firebaseInit.js'\r\nconst getFirebase = () => import('firebase')\r\n\r\nexport default {\r\n  meta: {\r\n    title: 'Login',\r\n    meta: {\r\n      description: { name: 'description', content: 'Jetzt bei deinem Reiseplaner Roundtrips4you anmelden. Dein Reiseplaner mit Kartenfunktion, Städtevorschlag, Hotelsuche...' }\r\n    }\r\n  },\r\n  name: 'login',\r\n  data () {\r\n    return {\r\n      userEmail: '',\r\n      password: '',\r\n      passwordRepeat: '',\r\n      isPwd: true,\r\n      isPwdRepeat: true,\r\n      submitting: false,\r\n      googleLoading: false,\r\n      showResetPasswordDialog: false,\r\n      reg: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/\r\n    }\r\n  },\r\n  methods: {\r\n    onUserLogin () {\r\n      let context = this\r\n      auth.authRef().signInWithEmailAndPassword(this.userEmail, this.password).then(function () {\r\n        context.$store.commit('demoSession/resetRoundtrip')\r\n        context.$router.replace({ path: '/meine-rundreisen' })\r\n      }).catch(function (error) {\r\n        console.log(error)\r\n        if (error.code === 'auth/user-not-found') {\r\n          context.$q.notify({\r\n            color: 'red-5',\r\n            textColor: 'white',\r\n            icon: 'error',\r\n            message: 'Diesen Benutzer konnten wir nicht finden'\r\n          })\r\n        } else {\r\n          context.$q.notify({\r\n            color: 'red-5',\r\n            textColor: 'white',\r\n            icon: 'error',\r\n            message: 'Das Passwort oder der Benutzername ist leider falsch'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    resetPassword () {\r\n      let context = this\r\n      auth.sendPasswordResetEmail(this.userEmail).then(function () {\r\n        // Email sent.\r\n        context.$q.notify({\r\n          color: 'red-5',\r\n          textColor: 'white',\r\n          icon: 'error',\r\n          message: 'Wir haben dir eine Email mit einem Resetlink gesendet'\r\n        })\r\n      }).catch(function (error) {\r\n        console.log(error)\r\n\r\n        // An error happened.\r\n        context.$q.notify({\r\n          color: 'red-5',\r\n          textColor: 'white',\r\n          icon: 'error',\r\n          message: 'Ups da ist ein Fehler aufgetreten, versuch es noch einmal'\r\n        })\r\n      })\r\n    },\r\n    signUpWithGoogle () {\r\n      getFirebase().then(firebase => {\r\n        var provider = new firebase.auth.GoogleAuthProvider()\r\n        let context = this\r\n        auth.authRef().signInWithPopup(provider).then(function (result) {\r\n          context.$router.replace('meine-rundreisen')\r\n\r\n          // This gives you a Google Access Token. You can use it to access the Google API.\r\n          var token = result.credential.accessToken\r\n          const credential = firebase.auth.GoogleAuthProvider().credential(token)\r\n\r\n          // Sign in with credential from the Google user.\r\n          auth.signInWithCredential(credential).then(function () {\r\n          }).catch(function (error) {\r\n            console.log(error)\r\n          })\r\n        }).catch(function (error) {\r\n          console.log(error)\r\n        })\r\n      })\r\n    }\r\n  }\r\n  // uncomment following to manually verfiy mail\r\n  // created () {\r\n  //   var actionCodeSettings = {\r\n  //     url: 'https://roundtrips4you.de/login',\r\n  //     // This must be true.\r\n  //     handleCodeInApp: true\r\n  //   }\r\n\r\n  //   const email = 'jonas_eberwein@web.de'\r\n\r\n  //   auth.authRef().sendSignInLinkToEmail(email, actionCodeSettings)\r\n  //     .then(function () {\r\n  //       // The link was successfully sent. Inform the user.\r\n  //       // Save the email locally so you don't need to ask the user for it again\r\n  //       // if they open the link on the same device.\r\n  //       window.localStorage.setItem('emailForSignIn', email)\r\n  //     })\r\n  //     .catch(function (error) {\r\n  //       // Some error occurred, you can inspect the code: error.code\r\n  //       console.log(error)\r\n  //     })\r\n  // }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5c1f6aa3&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}