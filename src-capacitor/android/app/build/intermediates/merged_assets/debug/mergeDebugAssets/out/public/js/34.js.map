{"version":3,"sources":["webpack:///./src/pages/MapWidget.vue?5200","webpack:///src/pages/MapWidget.vue","webpack:///./src/pages/MapWidget.vue?f0ff","webpack:///./src/pages/MapWidget.vue"],"names":[],"mappings":";;;;;;;;;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,sBAAsB,YAAY,aAAa,0EAA0E,SAAS,qGAAqG,YAAY,aAAa,4EAA4E,iDAAiD,kDAAkD,kBAAkB,OAAO,iCAAiC;AACnlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuBA;;AAGA;AACA;AAEA;AACA;AACA;AADA,GADA;;AAIA;AACA;AACA,eADA;AAEA,wBAFA;AAGA;AAHA;AAKA,GAVA;;AAWA,mBAXA;AAYA;AACA,2DADA;AAEA;AACA;AAAA;AAAA;AAAA;AADA;AAFA,GAZA;AAmBA;AACA;AACA,8EACA,KADA,CACA,MADA,EACA,IADA,EACA,IADA,EAEA,KAFA,CAEA,CAFA;AAGA,0BACA,IADA,CACA;AACA;AACA;AACA;AACA,SAFA;;AAIA;AACA,mDADA,CAGA;;AACA;AACA;AACA;AAEA,oFACA,KADA,CACA,MADA,EACA,IADA,EACA,IADA,EAEA,OAFA,CAEA,UAFA;AAGA,8BACA,IADA,CACA;AACA;AACA;AACA;AACA;AACA,aAHA;AAIA;AACA;AACA,WATA;AAUA,SArBA,MAqBA;AACA;AACA,0BADA;AAEA,8BAFA;AAGA,yBAHA;AAIA;AAJA;AAMA;AACA;AACA,OArCA,EAsCA,KAtCA,CAsCA;AACA;AACA,OAxCA;AAyCA,KA9CA;;AA+CA;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AARA;AAUA;;AA1DA,GAnBA;;AA+EA;AACA;AACA;AACA;AACA;;AAnFA,G;;AC9BmL,CAAgB,6GAAG,EAAC,C;;;;;ACA/G;AAC3B;AACL;;;AAGxD;AAC0F;AAC1F,gBAAgB,8CAAU;AAC1B,EAAE,uCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gG","file":"js/34.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"widgets\"},[_c('Map',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mapLoaded),expression:\"mapLoaded\"}],attrs:{\"profile\":_vm.getProfile(_vm.inputProfile),\"stops\":_vm.stops,\"childrenAges\":[],\"adults\":2,\"rooms\":1}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mapLoaded),expression:\"!mapLoaded\"}],staticClass:\"flex justify-center\",staticStyle:{\"position\":\"absolute\",\"top\":\"250px\",\"left\":\"48%\"}},[_c('q-spinner',{attrs:{\"size\":\"80px\",\"color\":\"primary\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"widgets\">\r\n    <Map\r\n      v-show=\"mapLoaded\"\r\n      :profile=\"getProfile(inputProfile)\"\r\n      :stops=\"stops\"\r\n      :childrenAges=\"[]\"\r\n      :adults=\"2\"\r\n      :rooms=\"1\"\r\n    ></Map>\r\n    <div\r\n      v-show=\"!mapLoaded\"\r\n      class=\"flex justify-center\"\r\n      style=\"position:absolute; top:250px; left:48%\"\r\n    >\r\n      <q-spinner\r\n        size=\"80px\"\r\n        color=\"primary\"\r\n      >\r\n      </q-spinner>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { db } from '../firebaseInit.js'\r\nimport { Loading } from 'quasar'\r\n\r\nlet roundtrip = []\r\nlet details = []\r\n\r\nexport default {\r\n  components: {\r\n    Map: () => import('../pages/Map/Map')\r\n  },\r\n  data () {\r\n    return {\r\n      stops: [],\r\n      inputProfile: null,\r\n      mapLoaded: false\r\n    }\r\n  },\r\n  name: 'MapWidget',\r\n  meta: {\r\n    title: !roundtrip[0] ? 'MapWidget' : roundtrip[0].Title,\r\n    meta: {\r\n      robot: { name: 'robot', content: 'noIndex' }\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    loadSingleRoundtrip (RTId) {\r\n      let roundtripsRef = db.collection('Roundtrips')\r\n        .where('RTId', '==', RTId)\r\n        .limit(1)\r\n      roundtripsRef.get()\r\n        .then(snapshot => {\r\n          roundtrip = []\r\n          snapshot.forEach(doc => {\r\n            roundtrip.push(doc.data())\r\n          })\r\n\r\n          if (roundtrip.Public) {\r\n            this.inputProfile = roundtrip[0].Profile\r\n\r\n            // set default values to ensure privacy\r\n            this.childrenAges = []\r\n            this.rooms = 1\r\n            this.adults = 2\r\n\r\n            roundtripsRef = db.collection('RoundtripDetails')\r\n              .where('RTId', '==', RTId)\r\n              .orderBy('InitDate')\r\n            roundtripsRef.get()\r\n              .then(snapshot => {\r\n                details = []\r\n                snapshot.forEach(doc => {\r\n                  details.push(doc.data())\r\n                  details[details.findIndex(x => x.docId === doc.data().DocId)].DocId = doc.id\r\n                })\r\n                this.stops = details\r\n                this.mapLoaded = true\r\n              })\r\n          } else {\r\n            this.$q.notify({\r\n              color: 'red-5',\r\n              textColor: 'white',\r\n              icon: 'error',\r\n              message: 'Uuups, diese Karte ist leider privat'\r\n            })\r\n            this.$router.push('/')\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log('Error getting Roundtrip', err)\r\n        })\r\n    },\r\n    getProfile (profile) {\r\n      switch (profile) {\r\n        case 'zu Fu√ü':\r\n          return 'walking'\r\n        case 'Fahrrad':\r\n          return 'cycling'\r\n        case 'Flugzeug':\r\n          return 'plane'\r\n        default:\r\n          return 'driving'\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    let RTId = this.$route.params.id\r\n    this.loadSingleRoundtrip(RTId)\r\n    Loading.hide()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapWidget.vue?vue&type=template&id=791f79da&\"\nimport script from \"./MapWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./MapWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}