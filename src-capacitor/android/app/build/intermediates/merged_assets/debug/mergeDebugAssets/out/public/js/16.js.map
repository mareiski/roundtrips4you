{"version":3,"sources":["webpack:///./src/pages/RoundtripSettings.vue?6c3a","webpack:///./src/pages/RoundtripSettings.vue?9e36","webpack:///./src/pages/RoundtripSettings.vue?78c5","webpack:///src/pages/RoundtripSettings.vue","webpack:///./src/pages/RoundtripSettings.vue?db9a","webpack:///./src/pages/RoundtripSettings.vue?afdc"],"names":[],"mappings":"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CA;AACA,uBACA,sDACA,SADA,GAEA,aAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA,iEACA,0BADA,GAEA,UAFA;AAGA;AAEA;AACA;AAEA;AACA;;AAEA;AACA;AACA,mDACA,qBADA,GAEA,SAFA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OA9DA,CAgEA;;;AACA;AAEA;AACA,KA9RA;;AA+RA;AACA,oDACA,GADA,GAEA,KAFA,CAEA,oDAFA;AAGA,cACA,cADA,GAEA,IAFA,CAEA;AACA;AACA,OAJA,EAKA,KALA,CAKA,OALA;AAOA,gDACA,GADA,GAEA,KAFA,CAEA,4CAFA;AAGA,cACA,OADA,GAEA,IAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SANA;AAOA,OAVA,EAWA,KAXA,CAWA,cAXA;AAYA,KAzTA;;AA0TA;AACA;AACA,0BAFA,CAIA;;AACA,sDACA;AACA;AAEA;AACA;AACA,KArUA;;AAsUA;AACA;AACA,oBACA,kBADA,EAEA,IAFA,EAGA,uCAHA,EAIA,gCAJA,EAKA,YALA,EAMA,WANA,EAOA,IAPA,CAOA;AACA;AACA;;AACA;AAAA;AAAA;AACA,SAXA;AAYA;AACA,KArVA;;AAsVA;AACA;AAEA;AACA;;AACA;AACA;AACA;;AACA,wDACA,GADA,GAEA,KAFA,CAEA,iDAFA;AAIA,gBACA,GADA,CACA,IADA,EAEA,IAFA,CAEA;AACA,mEACA,WACA,eADA,IAEA,OAFA,GAGA,aAHA,GAIA,gCALA;;AAOA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WANA;AAOA;AACA,SAtBA,EAuBA,KAvBA,CAuBA;AACA;AACA,iEACA,0CADA;AAIA;AACA;AACA;AACA,SAhCA;AAiCA,OA1CA;AA2CA,KApYA;;AAqYA;;;AAGA;AACA;AAAA;AAAA;;AACA;AACA,oBACA,QADA,CACA,4BADA,EACA,SADA,EAEA,IAFA,CAEA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA,mEACA,4CADA;AAGA;AACA,SAXA;AAYA,OAbA,CAaA;AACA;AACA,+DACA,4CADA;AAGA;AACA;;AA7ZA,GAjDA;;AAgdA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAJA,MAIA;AACA,6DACA,sDADA;AAGA;AACA;AACA;;AAheA,G;;ACre2L,CAAgB,6HAAG,EAAC,C;;;;;;;;ACA/G;AAC3B;AACL;AACc;;;AAG9E;AAC0F;AAC1F,gBAAgB,8CAAU;AAC1B,EAAE,+CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,wG","file":"js/16.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripSettings.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-2-2!../../node_modules/less-loader/dist/cjs.js??ref--9-oneOf-2-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripSettings.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-px-lg\"},[(_vm.user !== null)?_c('div',{staticClass:\"edit-btn-container\",staticStyle:{\"position\":\"fixed\",\"z-index\":\"1\",\"right\":\"0\",\"padding\":\"10px\"}},[_c('q-btn',{attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"visibility\"},on:{\"click\":function($event){return _vm.$router.push('/rundreise-ansehen/' + _vm.RTId)}}},[_c('q-tooltip',[_vm._v(\"Reise ansehen\")])],1)],1):_vm._e(),_c('h3',{staticStyle:{\"padding-top\":\"10px\"}},[_vm._v(\"Einstellungen\")]),_c('q-form',{staticClass:\"q-gutter-md rounded-borders\",attrs:{\"bordered\":\"\"}},[_c('h4',[_vm._v(\"Reise teilen\")]),_c('q-list',{staticClass:\"rounded-borders\",staticStyle:{\"padding\":\"10px\"},attrs:{\"bordered\":\"\"}},[_c('q-item-label',{staticStyle:{\"padding-bottom\":\"5px\"}},[_vm._v(\"Wenn deine Rundreise veröffentlicht ist kann sie jeder ansehen und kopieren.\")]),_c('q-toggle',{attrs:{\"label\":\"Rundreise veröffentlichen\",\"icon\":\"share\",\"disable\":!_vm.user || !_vm.user.displayName},on:{\"input\":_vm.onSaveRoundtrip},model:{value:(_vm.publish),callback:function ($$v) {_vm.publish=$$v},expression:\"publish\"}},[(!_vm.user || !_vm.user.displayName)?_c('q-tooltip',[_vm._v(\"Bitte erstelle zuerst einen Benutzernamen\")]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.publish),expression:\"publish\"}],staticStyle:{\"padding-bottom\":\"20px\"}},[_c('b',[_vm._v(\"Link zur Karte veröffentlichen\")]),_c('p',[_vm._v(\"Über den Folgenden Link kannst du die Karte deiner Reise veröffentlichen. Ebenso wird ein Link zu der ganzen Reise auf Roundtrips4you veröffentlicht.\")]),_c('a',{attrs:{\"href\":'https://roundtrips4you.de/MapWidget/' + _vm.RTId}},[_vm._v(\"https://roundtrips4you.de/MapWidget/\"+_vm._s(_vm.RTId))]),_c('q-icon',{staticClass:\"cursor-pointer\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"25px;\",\"name\":\"file_copy\"},on:{\"click\":function($event){return _vm.copyShareLink('share-link')}}}),_c('input',{attrs:{\"type\":\"hidden\",\"id\":\"share-link\"},domProps:{\"value\":_vm.shareLink}}),_c('br'),_c('br'),_c('p',[_vm._v(\"Dieser Link darf auch per Iframe in eine Website eingebettet werden. Dazu einfach den folgenden Code kopieren und an die entsprechende Stelle einfügen.\")]),_c('span',[_vm._v(\"<iframe src='https://roundtrips4you.de/MapWidget/\"+_vm._s(_vm.RTId)+\"'></iframe>\")]),_c('q-icon',{staticClass:\"cursor-pointer\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"25px;\",\"name\":\"file_copy\"},on:{\"click\":function($event){return _vm.copyShareLink('share-code')}}}),_c('input',{attrs:{\"type\":\"hidden\",\"id\":\"share-code\"},domProps:{\"value\":_vm.shareCode}})],1),_c('q-select',{staticClass:\"input-item\",attrs:{\"outlined\":\"\",\"options\":_vm.categoryOptions,\"label\":\"Kategorie\",\"use-input\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle eine Kategorie'; }]},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"access_time\"}})]},proxy:true}]),model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}}),_c('div',{staticClass:\"flex\",staticStyle:{\"padding-bottom\":\"20px\"}},[_c('q-rating',{staticClass:\"stars\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"size\":\"15px\",\"color\":\"gold\",\"readonly\":!isNaN(_vm.hotelRatingAvg())},on:{\"blur\":_vm.onSaveRoundtrip},model:{value:(_vm.stars),callback:function ($$v) {_vm.stars=$$v},expression:\"stars\"}}),_c('q-item-label',[_vm._v(\"Durchschittliche Hotelbewertung \"+_vm._s(!isNaN(_vm.hotelRatingAvg()) ? '(errechnet)' : ''))])],1),_c('q-input',{attrs:{\"outlined\":\"\",\"autogrow\":\"\",\"label\":\"Kurze Beschreibung\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib eine Beschreibung an'; },\n        function (val) { return val.length > 10 && val.length < 160 || 'Bitte gib eine Beschreibung zwischen 10 und 160 Zeichen an'; } ]},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"subject\"}})]},proxy:true}]),model:{value:(_vm.descriptionInput),callback:function ($$v) {_vm.descriptionInput=$$v},expression:\"descriptionInput\"}}),_c('q-select',{staticClass:\"input-item\",attrs:{\"outlined\":\"\",\"options\":['zu Fuß', 'Fahrrad', 'Auto'],\"label\":\"Reisemittel\",\"use-input\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte wähle ein Reisemittel'; }]},on:{\"input\":function($event){return _vm.getGeneralProfile()},\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"commute\"}})]},proxy:true}]),model:{value:(_vm.inputProfile),callback:function ($$v) {_vm.inputProfile=$$v},expression:\"inputProfile\"}}),_c('q-input',{attrs:{\"label\":\"Highlight 1\",\"outlined\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib ein Highlight an'; }]},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"star\"}})]},proxy:true}]),model:{value:(_vm.highlight1),callback:function ($$v) {_vm.highlight1=$$v},expression:\"highlight1\"}}),_c('q-input',{attrs:{\"label\":\"Highlight 2\",\"outlined\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib ein Highlight an'; }]},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"star\"}})]},proxy:true}]),model:{value:(_vm.highlight2),callback:function ($$v) {_vm.highlight2=$$v},expression:\"highlight2\"}}),_c('q-input',{attrs:{\"label\":\"Highlight 3\",\"outlined\":\"\",\"rules\":[function (val) { return val !== null && val !== '' || 'Bitte gib ein Highlight an'; }]},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"star\"}})]},proxy:true}]),model:{value:(_vm.highlight3),callback:function ($$v) {_vm.highlight3=$$v},expression:\"highlight3\"}}),_c('q-input',{attrs:{\"label\":\"Pauschalpreis ohne Freizeitgestaltung\",\"type\":\"number\",\"outlined\":\"\",\"rules\":[function (val) { return val !== null && val !== 0 && val > 0 || 'Bitte gib einen Preis an'; }]},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"euro\"}})]},proxy:true}]),model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}}),_c('q-item-label',{staticStyle:{\"padding-bottom\":\"5px\",\"margin-top\":\"10px\"}},[_vm._v(\"Angebotszeitraum\")]),_c('q-toggle',{attrs:{\"label\":\"Ganzes Jahr\",\"icon\":\"event\"},on:{\"input\":_vm.onSaveRoundtrip},model:{value:(_vm.wholeYearOffer),callback:function ($$v) {_vm.wholeYearOffer=$$v},expression:\"wholeYearOffer\"}}),_c('q-input',{staticClass:\"q-field--with-bottom\",attrs:{\"disable\":_vm.wholeYearOffer,\"outlined\":\"\",\"label\":\"von\"},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}})]},proxy:true}]),model:{value:(_vm.OfferStartPeriod),callback:function ($$v) {_vm.OfferStartPeriod=$$v},expression:\"OfferStartPeriod\"}},[_c('q-popup-proxy',{ref:\"qDateProxy1\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"today-btn\":\"\",\"mask\":\"DD.MM.YYYY\"},on:{\"input\":function () { return [_vm.$refs.qDateProxy1.hide(), _vm.OfferEndPeriod = _vm.OfferStartPeriod]; }},model:{value:(_vm.OfferStartPeriod),callback:function ($$v) {_vm.OfferStartPeriod=$$v},expression:\"OfferStartPeriod\"}})],1)],1),_c('q-input',{staticClass:\"q-field--with-bottom\",attrs:{\"disable\":_vm.wholeYearOffer,\"outlined\":\"\",\"label\":\"bis\"},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}})]},proxy:true}]),model:{value:(_vm.OfferEndPeriod),callback:function ($$v) {_vm.OfferEndPeriod=$$v},expression:\"OfferEndPeriod\"}},[_c('q-popup-proxy',{ref:\"qDateProxy2\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"today-btn\":\"\",\"mask\":\"DD.MM.YYYY\",\"options\":_vm.scheduleDateOptions},on:{\"input\":function () { return _vm.$refs.qDateProxy2.hide(); }},model:{value:(_vm.OfferEndPeriod),callback:function ($$v) {_vm.OfferEndPeriod=$$v},expression:\"OfferEndPeriod\"}})],1)],1),(_vm.countries.length === 1)?_c('RegionSearch',{attrs:{\"country\":_vm.countries[0],\"defaultRegion\":_vm.region},on:{\"update\":function($event){return _vm.updateRegion($event)},\"blur\":_vm.onSaveRoundtrip}}):_vm._e()],1),_c('h4',[_vm._v(\"Persönliche Informationen\")]),_c('q-list',{staticClass:\"rounded-borders\",staticStyle:{\"padding\":\"10px\"},attrs:{\"bordered\":\"\"}},[_c('p',{staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(\"Diese werden nur dir angezeigt und auch beim Veröffentlichen nicht berücksichtigt.\")]),_c('div',[_c('q-input',{attrs:{\"label\":\"Zimmer\",\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0  || 'Bitte gib eine Zimmeranzahl an'; }],\"outlined\":\"\"},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"house\"}})]},proxy:true}]),model:{value:(_vm.rooms),callback:function ($$v) {_vm.rooms=$$v},expression:\"rooms\"}}),_c('q-input',{attrs:{\"label\":\"Erwachsene\",\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0  || 'Bitte gib die Anzahl der Erwachsenen Reisenden an'; }, function (val) { return val <= parseInt(_vm.rooms) * 9 || 'Bitte wähle mehr Zimmer'; }],\"outlined\":\"\"},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"group\"}})]},proxy:true}]),model:{value:(_vm.adults),callback:function ($$v) {_vm.adults=$$v},expression:\"adults\"}}),_c('q-input',{attrs:{\"label\":\"Kinder\",\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val >= 0  && val <= 20|| 'Bitte gib die Anzahl der Kinder auf der Reise an'; }],\"outlined\":\"\"},on:{\"blur\":function($event){parseInt(_vm.children) === 0 ? _vm.onSaveRoundtrip() : null},\"input\":function($event){_vm.childrenAges.length = parseInt(_vm.children)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"child_friendly\"}})]},proxy:true}]),model:{value:(_vm.children),callback:function ($$v) {_vm.children=$$v},expression:\"children\"}}),(parseInt(_vm.children) > 0  && parseInt(_vm.children) <= 20)?_c('div',{staticClass:\"flex\"},_vm._l((parseInt(_vm.children)),function(childNum){return _c('q-input',{key:childNum,staticStyle:{\"margin-right\":\"10px\"},attrs:{\"label\":'Alter Kind ' + childNum,\"type\":\"number\",\"rules\":[function (val) { return val !== null &&  val !== '' && val > 0 || 'Bitte gib das Alter des Kindes an'; }],\"outlined\":\"\"},on:{\"blur\":_vm.onSaveRoundtrip},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"child_friendly\"}})]},proxy:true}],null,true),model:{value:(_vm.childrenAges[childNum - 1]),callback:function ($$v) {_vm.$set(_vm.childrenAges, childNum - 1, $$v)},expression:\"childrenAges[childNum - 1]\"}})}),1):_vm._e()],1)]),_c('h4',[_vm._v(\"Bilder\")]),_c('q-list',{staticClass:\"rounded-borders\",staticStyle:{\"padding\":\"10px\"},attrs:{\"bordered\":\"\"}},[_c('div',[_c('p',[_vm._v(\"Bitte verwende nur Bilder die für die Wiederverwendung eindeutig gekennzeichnet sind.\")]),_c('span',[_vm._v(\"Titelbild\")]),_c('div',{staticClass:\"uploader\"},[_c('q-img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":_vm.titleImgUrl}}),_c('q-btn',{staticStyle:{\"position\":\"absolute\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\",\"disable\":_vm.titleUploadDisabled},on:{\"click\":function () { return _vm.$refs.titleUpload.pickFiles(); }}},[_c('q-inner-loading',{staticStyle:{\"border-radius\":\"50%\"},attrs:{\"showing\":_vm.titleUploadDisabled}},[_c('q-spinner',{attrs:{\"size\":\"42px\",\"color\":\"primary\"}})],1)],1)],1),_c('q-uploader',{ref:\"titleUpload\",staticStyle:{\"max-width\":\"300px\",\"display\":\"none\"},attrs:{\"url\":\"\",\"label\":\"Titelbild hochladen\",\"accept\":\".jpg, image/*\",\"hide-upload-btn\":\"\"},on:{\"added\":function($event){return _vm.fileAdded($event, 'title')}}})],1),_c('q-uploader',{ref:\"galeryUpload\",staticStyle:{\"max-width\":\"300px\",\"display\":\"none\"},attrs:{\"url\":\"\",\"label\":\"Weitere Bilder hochladen\",\"multiple\":\"\",\"hide-upload-btn\":\"\"},on:{\"added\":function($event){return _vm.fileAdded($event, 'galery')}}}),_c('span',[_vm._v(\"weitere Bilder\")]),_c('div',{staticClass:\"galeryImgUploaderContainer\"},[_vm._l((_vm.galeryImgUrls),function(url,index){return _c('div',{key:index,staticClass:\"uploader\"},[_c('q-img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":url}}),_c('q-btn',{staticStyle:{\"transform\":\"rotate(45deg)\",\"position\":\"absolute\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\"},on:{\"click\":function($event){return _vm.removeFile(index)}}})],1)}),_c('div',{staticClass:\"uploader\"},[_c('q-btn',{staticStyle:{\"position\":\"relative\"},attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"add\",\"disable\":_vm.visible},on:{\"click\":function () { return _vm.$refs.galeryUpload.pickFiles(); }}},[_c('q-inner-loading',{staticStyle:{\"border-radius\":\"50%\"},attrs:{\"showing\":_vm.visible}},[_c('q-spinner',{attrs:{\"size\":\"42px\",\"color\":\"primary\"}})],1)],1)],1)],2)],1)],1),(_vm.companyProfile)?_c('h4',[_vm._v(\"Unternehmenseinstellungen\")]):_vm._e(),(_vm.companyProfile)?_c('q-list',{staticClass:\"rounded-borders\",staticStyle:{\"padding\":\"10px\"},attrs:{\"bordered\":\"\"}},[_c('q-input',{attrs:{\"outlined\":\"\",\"clear-icon\":\"\",\"rules\":[function (val) { return !val || _vm.urlReg.test(val) || 'Bitte gib einen richtigen Link an'; }],\"label\":\"Link zu dieser Reise\",\"lazy-rules\":\"\"},on:{\"blur\":function($event){_vm.tripWebsite && _vm.urlReg.test(_vm.tripWebsite)  ? _vm.saveData('tripWebsite', _vm.tripWebsite) : null}},model:{value:(_vm.tripWebsite),callback:function ($$v) {_vm.tripWebsite=$$v},expression:\"tripWebsite\"}})],1):_vm._e(),_c('h4',[_vm._v(\"Danger Zone\")]),_c('q-list',{staticClass:\"rounded-borders\",staticStyle:{\"padding\":\"10px\",\"border-color\":\"red\",\"margin-bottom\":\"20px\"},attrs:{\"bordered\":\"\"}},[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"Diese Rundreise und alle enthaltenen Inhalte löschen\")]),_c('q-btn',{staticClass:\"q-mt-md\",attrs:{\"loading\":_vm.deleting,\"label\":\"Löschen\",\"color\":\"primary\",\"text-color\":\"white\"},on:{\"click\":function($event){_vm.deleteDialog = true;}},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('q-spinner')]},proxy:true}])}),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.deleteDialog),callback:function ($$v) {_vm.deleteDialog=$$v},expression:\"deleteDialog\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row items-center\"},[_c('span',{staticClass:\"q-ml-sm\"},[_vm._v(\"Willst du wirklich diese Rundreise und alle enthaltenen Inhalte löschen ? Dies kann nicht mehr rückgängig gemacht werden.\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Rundreise Löschen\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.deleteRoundtrip()}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Abbrechen\",\"color\":\"primary\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"q-px-lg\">\r\n    <div\r\n      class=\"edit-btn-container\"\r\n      v-if=\"user !== null\"\r\n      style=\"position:fixed; z-index:1; right:0; padding: 10px\"\r\n    >\r\n      <q-btn\r\n        round\r\n        color=\"primary\"\r\n        icon=\"visibility\"\r\n        @click=\"$router.push('/rundreise-ansehen/' + RTId)\"\r\n      >\r\n        <q-tooltip>Reise ansehen</q-tooltip>\r\n      </q-btn>\r\n    </div>\r\n    <h3 style=\"padding-top:10px;\">Einstellungen</h3>\r\n    <q-form\r\n      bordered\r\n      class=\"q-gutter-md rounded-borders\"\r\n    >\r\n      <h4>Reise teilen</h4>\r\n      <q-list\r\n        bordered\r\n        class=\"rounded-borders\"\r\n        style=\"padding:10px\"\r\n      >\r\n        <q-item-label style=\"padding-bottom:5px;\">Wenn deine Rundreise veröffentlicht ist kann sie jeder ansehen und kopieren.</q-item-label>\r\n        <q-toggle\r\n          v-model=\"publish\"\r\n          label=\"Rundreise veröffentlichen\"\r\n          icon=\"share\"\r\n          :disable=\"!user || !user.displayName\"\r\n          @input=\"onSaveRoundtrip\"\r\n        >\r\n          <q-tooltip v-if=\"!user || !user.displayName\">Bitte erstelle zuerst einen Benutzernamen</q-tooltip>\r\n        </q-toggle>\r\n        <div\r\n          v-show=\"publish\"\r\n          style=\"padding-bottom:20px;\"\r\n        >\r\n          <b>Link zur Karte veröffentlichen</b>\r\n          <p>Über den Folgenden Link kannst du die Karte deiner Reise veröffentlichen. Ebenso wird ein Link zu der ganzen Reise auf Roundtrips4you veröffentlicht.</p>\r\n          <a :href=\"'https://roundtrips4you.de/MapWidget/' + RTId\">https://roundtrips4you.de/MapWidget/{{RTId}}</a>\r\n          <q-icon\r\n            style=\"margin-left:10px;\"\r\n            size=\"25px;\"\r\n            name=\"file_copy\"\r\n            class=\"cursor-pointer\"\r\n            @click=\"copyShareLink('share-link')\"\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            id=\"share-link\"\r\n            :value=\"shareLink\"\r\n          />\r\n          <br />\r\n          <br />\r\n          <p>Dieser Link darf auch per Iframe in eine Website eingebettet werden. Dazu einfach den folgenden Code kopieren und an die entsprechende Stelle einfügen.</p>\r\n          <span>&lt;iframe src='https://roundtrips4you.de/MapWidget/{{RTId}}'&gt;&lt;/iframe&gt;</span>\r\n          <q-icon\r\n            style=\"margin-left:10px;\"\r\n            size=\"25px;\"\r\n            name=\"file_copy\"\r\n            class=\"cursor-pointer\"\r\n            @click=\"copyShareLink('share-code')\"\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            id=\"share-code\"\r\n            :value=\"shareCode\"\r\n          />\r\n        </div>\r\n        <q-select\r\n          outlined\r\n          v-model=\"category\"\r\n          :options=\"categoryOptions\"\r\n          label=\"Kategorie\"\r\n          use-input\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte wähle eine Kategorie']\"\r\n          class=\"input-item\"\r\n          @blur=\"onSaveRoundtrip\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"access_time\" />\r\n          </template>\r\n        </q-select>\r\n        <div\r\n          class=\"flex\"\r\n          style=\"padding-bottom:20px;\"\r\n        >\r\n          <q-rating\r\n            class=\"stars\"\r\n            v-model=\"stars\"\r\n            size=\"15px\"\r\n            color=\"gold\"\r\n            :readonly=\"!isNaN(hotelRatingAvg())\"\r\n            style=\"margin-right:10px;\"\r\n            @blur=\"onSaveRoundtrip\"\r\n          />\r\n          <q-item-label>Durchschittliche Hotelbewertung {{!isNaN(hotelRatingAvg()) ? '(errechnet)' : ''}}</q-item-label>\r\n        </div>\r\n        <q-input\r\n          v-model=\"descriptionInput\"\r\n          outlined\r\n          autogrow\r\n          label=\"Kurze Beschreibung\"\r\n          @blur=\"onSaveRoundtrip\"\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte gib eine Beschreibung an',\r\n          val => val.length > 10 && val.length < 160 || 'Bitte gib eine Beschreibung zwischen 10 und 160 Zeichen an' ]\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"subject\" />\r\n          </template>\r\n        </q-input>\r\n        <q-select\r\n          outlined\r\n          v-model=\"inputProfile\"\r\n          :options=\"['zu Fuß', 'Fahrrad', 'Auto']\"\r\n          label=\"Reisemittel\"\r\n          use-input\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte wähle ein Reisemittel']\"\r\n          class=\"input-item\"\r\n          @input=\"getGeneralProfile()\"\r\n          @blur=\"onSaveRoundtrip\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"commute\" />\r\n          </template>\r\n        </q-select>\r\n        <q-input\r\n          v-model=\"highlight1\"\r\n          label=\"Highlight 1\"\r\n          outlined\r\n          @blur=\"onSaveRoundtrip\"\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte gib ein Highlight an']\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"star\" />\r\n          </template>\r\n        </q-input>\r\n        <q-input\r\n          v-model=\"highlight2\"\r\n          label=\"Highlight 2\"\r\n          outlined\r\n          @blur=\"onSaveRoundtrip\"\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte gib ein Highlight an']\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"star\" />\r\n          </template>\r\n        </q-input>\r\n        <q-input\r\n          v-model=\"highlight3\"\r\n          label=\"Highlight 3\"\r\n          outlined\r\n          :rules=\"[val => val !== null && val !== '' || 'Bitte gib ein Highlight an']\"\r\n          @blur=\"onSaveRoundtrip\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"star\" />\r\n          </template>\r\n        </q-input>\r\n        <q-input\r\n          @blur=\"onSaveRoundtrip\"\r\n          v-model=\"price\"\r\n          label=\"Pauschalpreis ohne Freizeitgestaltung\"\r\n          type=\"number\"\r\n          outlined\r\n          :rules=\"[val => val !== null && val !== 0 && val > 0 || 'Bitte gib einen Preis an']\"\r\n        >\r\n          <template v-slot:prepend>\r\n            <q-icon name=\"euro\"></q-icon>\r\n          </template>\r\n        </q-input>\r\n        <q-item-label style=\"padding-bottom:5px; margin-top:10px;\">Angebotszeitraum</q-item-label>\r\n        <q-toggle\r\n          v-model=\"wholeYearOffer\"\r\n          label=\"Ganzes Jahr\"\r\n          icon=\"event\"\r\n          @input=\"onSaveRoundtrip\"\r\n        ></q-toggle>\r\n        <q-input\r\n          :disable=\"wholeYearOffer\"\r\n          outlined\r\n          v-model=\"OfferStartPeriod\"\r\n          label=\"von\"\r\n          class=\"q-field--with-bottom\"\r\n          @blur=\"onSaveRoundtrip\"\r\n        >\r\n          <q-popup-proxy\r\n            ref=\"qDateProxy1\"\r\n            transition-show=\"scale\"\r\n            transition-hide=\"scale\"\r\n          >\r\n            <q-date\r\n              v-model=\"OfferStartPeriod\"\r\n              today-btn\r\n              mask=\"DD.MM.YYYY\"\r\n              @input=\"() => [$refs.qDateProxy1.hide(), OfferEndPeriod = OfferStartPeriod]\"\r\n            />\r\n          </q-popup-proxy>\r\n          <template v-slot:prepend>\r\n            <q-icon\r\n              name=\"event\"\r\n              class=\"cursor-pointer\"\r\n            ></q-icon>\r\n          </template>\r\n        </q-input>\r\n        <q-input\r\n          @blur=\"onSaveRoundtrip\"\r\n          :disable=\"wholeYearOffer\"\r\n          outlined\r\n          v-model=\"OfferEndPeriod\"\r\n          class=\"q-field--with-bottom\"\r\n          label=\"bis\"\r\n        >\r\n          <q-popup-proxy\r\n            ref=\"qDateProxy2\"\r\n            transition-show=\"scale\"\r\n            transition-hide=\"scale\"\r\n          >\r\n            <q-date\r\n              v-model=\"OfferEndPeriod\"\r\n              today-btn\r\n              mask=\"DD.MM.YYYY\"\r\n              :options=\"scheduleDateOptions\"\r\n              @input=\"() => $refs.qDateProxy2.hide()\"\r\n            />\r\n          </q-popup-proxy>\r\n          <template v-slot:prepend>\r\n            <q-icon\r\n              name=\"event\"\r\n              class=\"cursor-pointer\"\r\n            ></q-icon>\r\n          </template>\r\n        </q-input>\r\n        <RegionSearch\r\n          v-if=\"countries.length === 1\"\r\n          :country=\"countries[0]\"\r\n          :defaultRegion=\"region\"\r\n          @update=\"updateRegion($event)\"\r\n          @blur=\"onSaveRoundtrip\"\r\n        ></RegionSearch>\r\n      </q-list>\r\n      <h4>Persönliche Informationen</h4>\r\n      <q-list\r\n        bordered\r\n        class=\"rounded-borders\"\r\n        style=\"padding:10px\"\r\n      >\r\n        <p style=\"margin-bottom:15px;\">Diese werden nur dir angezeigt und auch beim Veröffentlichen nicht berücksichtigt.</p>\r\n        <div>\r\n          <q-input\r\n            v-model=\"rooms\"\r\n            label=\"Zimmer\"\r\n            type=\"number\"\r\n            @blur=\"onSaveRoundtrip\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val > 0  || 'Bitte gib eine Zimmeranzahl an']\"\r\n            outlined\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"house\" />\r\n            </template>\r\n          </q-input>\r\n          <q-input\r\n            v-model=\"adults\"\r\n            label=\"Erwachsene\"\r\n            type=\"number\"\r\n            @blur=\"onSaveRoundtrip\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val > 0  || 'Bitte gib die Anzahl der Erwachsenen Reisenden an', val => val <= parseInt(rooms) * 9 || 'Bitte wähle mehr Zimmer']\"\r\n            outlined\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"group\" />\r\n            </template>\r\n          </q-input>\r\n          <q-input\r\n            v-model=\"children\"\r\n            label=\"Kinder\"\r\n            type=\"number\"\r\n            @blur=\"parseInt(children) === 0 ? onSaveRoundtrip() : null\"\r\n            @input=\"childrenAges.length = parseInt(children)\"\r\n            :rules=\"[val => val !== null &&  val !== '' && val >= 0  && val <= 20|| 'Bitte gib die Anzahl der Kinder auf der Reise an']\"\r\n            outlined\r\n          >\r\n            <template v-slot:prepend>\r\n              <q-icon name=\"child_friendly\" />\r\n            </template>\r\n          </q-input>\r\n          <div\r\n            class=\"flex\"\r\n            v-if=\"parseInt(children) > 0  && parseInt(children) <= 20\"\r\n          >\r\n            <q-input\r\n              v-for=\"childNum in parseInt(children)\"\r\n              :key=\"childNum\"\r\n              v-model=\"childrenAges[childNum - 1]\"\r\n              :label=\"'Alter Kind ' + childNum\"\r\n              type=\"number\"\r\n              @blur=\"onSaveRoundtrip\"\r\n              style=\"margin-right:10px;\"\r\n              :rules=\"[val => val !== null &&  val !== '' && val > 0 || 'Bitte gib das Alter des Kindes an']\"\r\n              outlined\r\n            >\r\n              <template v-slot:prepend>\r\n                <q-icon name=\"child_friendly\" />\r\n              </template>\r\n            </q-input>\r\n          </div>\r\n        </div>\r\n      </q-list>\r\n      <h4>Bilder</h4>\r\n      <q-list\r\n        bordered\r\n        class=\"rounded-borders\"\r\n        style=\"padding:10px\"\r\n      >\r\n        <div>\r\n          <p>Bitte verwende nur Bilder die für die Wiederverwendung eindeutig gekennzeichnet sind.</p>\r\n          <span>Titelbild</span>\r\n          <div class=\"uploader\">\r\n            <q-img\r\n              style=\"height:100%;\"\r\n              :src=\"titleImgUrl\"\r\n            ></q-img>\r\n            <q-btn\r\n              round\r\n              color=\"primary\"\r\n              icon=\"add\"\r\n              style=\"position: absolute;\"\r\n              :disable=\"titleUploadDisabled\"\r\n              @click=\"() => $refs.titleUpload.pickFiles()\"\r\n            >\r\n              <q-inner-loading\r\n                :showing=\"titleUploadDisabled\"\r\n                style=\"border-radius:50%\"\r\n              >\r\n                <q-spinner\r\n                  size=\"42px\"\r\n                  color=\"primary\"\r\n                ></q-spinner>\r\n              </q-inner-loading>\r\n            </q-btn>\r\n          </div>\r\n          <q-uploader\r\n            url\r\n            label=\"Titelbild hochladen\"\r\n            accept=\".jpg, image/*\"\r\n            style=\"max-width: 300px; display:none;\"\r\n            hide-upload-btn\r\n            ref=\"titleUpload\"\r\n            @added=\"fileAdded($event, 'title')\"\r\n          />\r\n        </div>\r\n        <q-uploader\r\n          url\r\n          label=\"Weitere Bilder hochladen\"\r\n          multiple\r\n          style=\"max-width: 300px; display:none;\"\r\n          hide-upload-btn\r\n          ref=\"galeryUpload\"\r\n          @added=\"fileAdded($event, 'galery')\"\r\n        />\r\n        <span>weitere Bilder</span>\r\n        <div class=\"galeryImgUploaderContainer\">\r\n          <div\r\n            class=\"uploader\"\r\n            v-for=\"(url, index) in galeryImgUrls\"\r\n            :key=\"index\"\r\n          >\r\n            <q-img\r\n              style=\"height:100%;\"\r\n              :src=\"url\"\r\n            ></q-img>\r\n            <q-btn\r\n              round\r\n              color=\"primary\"\r\n              icon=\"add\"\r\n              style=\"transform:rotate(45deg); position: absolute;\"\r\n              @click=\"removeFile(index)\"\r\n            ></q-btn>\r\n          </div>\r\n          <div class=\"uploader\">\r\n            <q-btn\r\n              round\r\n              color=\"primary\"\r\n              icon=\"add\"\r\n              :disable=\"visible\"\r\n              @click=\"() => $refs.galeryUpload.pickFiles()\"\r\n              style=\"position:relative;\"\r\n            >\r\n              <q-inner-loading\r\n                :showing=\"visible\"\r\n                style=\"border-radius:50%\"\r\n              >\r\n                <q-spinner\r\n                  size=\"42px\"\r\n                  color=\"primary\"\r\n                ></q-spinner>\r\n              </q-inner-loading>\r\n            </q-btn>\r\n          </div>\r\n        </div>\r\n      </q-list>\r\n    </q-form>\r\n    <h4 v-if=\"companyProfile\">Unternehmenseinstellungen</h4>\r\n    <q-list\r\n      v-if=\"companyProfile\"\r\n      bordered\r\n      class=\"rounded-borders\"\r\n      style=\"padding:10px;\"\r\n    >\r\n      <q-input\r\n        v-model=\"tripWebsite\"\r\n        outlined\r\n        clear-icon\r\n        @blur=\"tripWebsite && urlReg.test(tripWebsite)  ? saveData('tripWebsite', tripWebsite) : null\"\r\n        :rules=\"[val => !val || urlReg.test(val) || 'Bitte gib einen richtigen Link an']\"\r\n        label=\"Link zu dieser Reise\"\r\n        lazy-rules\r\n      />\r\n    </q-list>\r\n    <h4>Danger Zone</h4>\r\n    <q-list\r\n      bordered\r\n      class=\"rounded-borders\"\r\n      style=\"padding:10px; border-color:red; margin-bottom:20px;\"\r\n    >\r\n      <p style=\"font-size:18px;\">Diese Rundreise und alle enthaltenen Inhalte löschen</p>\r\n      <q-btn\r\n        :loading=\"deleting\"\r\n        label=\"Löschen\"\r\n        class=\"q-mt-md\"\r\n        color=\"primary\"\r\n        text-color=\"white\"\r\n        @click=\"deleteDialog = true;\"\r\n      >\r\n        <template v-slot:loading>\r\n          <q-spinner />\r\n        </template>\r\n      </q-btn>\r\n      <q-dialog\r\n        persistent\r\n        v-model=\"deleteDialog\"\r\n      >\r\n        <q-card>\r\n          <q-card-section class=\"row items-center\">\r\n            <span class=\"q-ml-sm\">Willst du wirklich diese Rundreise und alle enthaltenen Inhalte löschen ? Dies kann nicht mehr rückgängig gemacht werden.</span>\r\n          </q-card-section>\r\n\r\n          <q-card-actions align=\"right\">\r\n            <q-btn\r\n              flat\r\n              label=\"Rundreise Löschen\"\r\n              @click=\"deleteRoundtrip()\"\r\n              color=\"primary\"\r\n              v-close-popup\r\n            />\r\n            <q-btn\r\n              flat\r\n              label=\"Abbrechen\"\r\n              color=\"primary\"\r\n              v-close-popup\r\n            />\r\n          </q-card-actions>\r\n        </q-card>\r\n      </q-dialog>\r\n    </q-list>\r\n  </div>\r\n</template>\r\n<style lang=\"less\">\r\n@import \"../css/editRoundtrips.less\";\r\n</style>\r\n<script>\r\nimport { date } from 'quasar'\r\nimport { db, auth, storage } from '../firebaseInit.js'\r\nimport sharedMethods from '../sharedMethods.js'\r\nimport axios from 'axios'\r\n\r\nlet timeStamp = Date.now()\r\nlet formattedScheduleDate = date.formatDate(timeStamp, 'DD.MM.YYYY')\r\n\r\nlet context\r\n\r\nexport default {\r\n  name: 'RoundtripSettings',\r\n  components: {\r\n    RegionSearch: () => import('../pages/Map/RegionSearch')\r\n  },\r\n  data () {\r\n    return {\r\n      stops: [],\r\n      region: null,\r\n      profile: null,\r\n      inputProfile: null,\r\n      RTId: null,\r\n      OfferStartPeriod: formattedScheduleDate,\r\n      OfferEndPeriod: formattedScheduleDate,\r\n      countries: [],\r\n      publish: false,\r\n      stars: 3,\r\n      descriptionInput: null,\r\n      highlight1: null,\r\n      highlight2: null,\r\n      highlight3: null,\r\n      wholeYearOffer: false,\r\n      rooms: 0,\r\n      adults: 0,\r\n      children: 0,\r\n      childrenAges: [],\r\n      price: 0,\r\n      category: 'Familienreise',\r\n      categoryOptions: [],\r\n      deleteDialog: false,\r\n      companyProfile: false,\r\n      tripWebsite: null,\r\n      deleting: false,\r\n      visible: false,\r\n      titleImgUrl: null,\r\n      galeryImgUrls: [],\r\n      titleUploadDisabled: false,\r\n      shareLink: null,\r\n      shareCode: null\r\n    }\r\n  },\r\n  computed: {\r\n    user () {\r\n      return this.$store.getters['user/user']\r\n    },\r\n    sharedMethods () {\r\n      return sharedMethods\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n       * Copy share link of roundtrip to clipboard\r\n       * @param {String} elementId the id of the element, where the link to copy is\r\n       * @example copyShareLink('share-link-element')\r\n       */\r\n    copyShareLink (elementId) {\r\n      let testingCodeToCopy = document.querySelector('#' + elementId)\r\n      testingCodeToCopy.setAttribute('type', 'text')\r\n      testingCodeToCopy.select()\r\n\r\n      try {\r\n        document.execCommand('copy')\r\n        sharedMethods.showSuccessNotification('Link wurde erfolgreich kopiert')\r\n      } catch (err) {\r\n        sharedMethods.showErrorNotification(\r\n          'Oops da ist wohl was schiefgelaufen'\r\n        )\r\n      }\r\n\r\n      // unselect the range\r\n      testingCodeToCopy.setAttribute('type', 'hidden')\r\n      window.getSelection().removeAllRanges()\r\n    },\r\n    /**\r\n       * get the average hotel rating\r\n       */\r\n    hotelRatingAvg () {\r\n      let sum = 0\r\n      let count = 0\r\n\r\n      this.stops.forEach((stop, index) => {\r\n        if (stop.HotelName) {\r\n          sum += parseInt(stop.HotelStars, 10)\r\n          count++\r\n        }\r\n      })\r\n\r\n      return sum / count\r\n    },\r\n    getGeneralProfile () {\r\n      switch (this.inputProfile) {\r\n        case 'zu Fuß':\r\n          this.profile = 'walking'\r\n          break\r\n        case 'Fahrrad':\r\n          this.profile = 'cycling'\r\n          break\r\n        default:\r\n          this.profile = 'driving'\r\n          break\r\n      }\r\n    },\r\n    getStops (RTId) {\r\n      // get stops\r\n      let roundtripsRef = db\r\n        .collection('RoundtripDetails')\r\n        .where('RTId', '==', RTId)\r\n        .orderBy('InitDate')\r\n      roundtripsRef.get().then((snapshot) => {\r\n        snapshot.forEach((doc) => {\r\n          let stop = doc.data()\r\n\r\n          if (typeof stop.InitDate !== 'string') {\r\n            let initDate = new Date(stop.InitDate.seconds * 1000)\r\n            stop.InitDate = date.formatDate(initDate, 'DD.MM.YYYY HH:mm')\r\n          }\r\n\r\n          if (!stop.DayDuration) stop.DayDuration = 0\r\n\r\n          stop.DocId = doc.id\r\n\r\n          this.stops.push(stop)\r\n          this.stops.sort(this.compare)\r\n        })\r\n      })\r\n    },\r\n    /**\r\n       * update region object witch region search results\r\n       * @param event event from region search update callback\r\n       */\r\n    updateRegion (event) {\r\n      if (event !== null) {\r\n        this.region = event\r\n      }\r\n    },\r\n    onSaveRoundtrip () {\r\n      let dateParts = this.OfferStartPeriod.split('.')\r\n      let offerStartPeriod = new Date(\r\n        dateParts[2],\r\n        dateParts[1] - 1,\r\n        dateParts[0]\r\n      )\r\n\r\n      dateParts = this.OfferEndPeriod.split('.')\r\n      let offerEndPeriod = new Date(\r\n        dateParts[2],\r\n        dateParts[1] - 1,\r\n        dateParts[0]\r\n      )\r\n\r\n      db.collection('Roundtrips')\r\n        .doc(this.RTId)\r\n        .update({\r\n          Public: this.publish,\r\n          Location: this.countries,\r\n          Category: this.category,\r\n          Stars: this.stars,\r\n          Description: this.descriptionInput,\r\n          Highlights: [this.highlight1, this.highlight2, this.highlight3],\r\n          Region: this.region,\r\n          Profile: this.inputProfile,\r\n          OfferStartPeriod: offerStartPeriod,\r\n          OfferEndPeriod: offerEndPeriod,\r\n          Price: this.price,\r\n          OfferWholeYear: this.wholeYearOffer,\r\n          Rooms: this.rooms,\r\n          Adults: this.adults,\r\n          ChildrenAges: this.childrenAges\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n          sharedMethods.showErrorNotification('Bitte überprüfe deine Angaben')\r\n        })\r\n    },\r\n    /**\r\n       * fetch trip countries and save them\r\n       * @important don't remove or move to another file (this method is also called from stop file)\r\n       */\r\n    fetchAndSaveCountries () {\r\n      let tempCountries = []\r\n      let promiseList = []\r\n\r\n      this.stops.forEach((stop, index) => {\r\n        let url =\r\n          'http://api.geonames.org/countryCodeJSON?lang=de&lat=' +\r\n          stop.Location.lat +\r\n          '&lng=' +\r\n          stop.Location.lng +\r\n          '&username=roundtrips4you'\r\n\r\n        promiseList.push(\r\n          axios\r\n            .get(url)\r\n            .then((response) => {\r\n              if (!tempCountries.includes(response.data.countryName)) { tempCountries.push(response.data.countryName) }\r\n            })\r\n            .catch(function (error) {\r\n              console.log(error)\r\n            })\r\n        )\r\n      })\r\n\r\n      Promise.all(promiseList).then((vals) => {\r\n        this.countries = []\r\n        this.countries = tempCountries\r\n\r\n        // save countries\r\n        this.saveData('Location', this.countries)\r\n      })\r\n    },\r\n    /**\r\n       * fetch all category options from firebase db\r\n       */\r\n    fetchCategories () {\r\n      let roundtripsRef = db.collection('Categories')\r\n      roundtripsRef.get().then((snapshot) => {\r\n        this.categoryOptions = []\r\n        snapshot.forEach((doc) => {\r\n          this.categoryOptions.push(doc.data().Category)\r\n        })\r\n      })\r\n    },\r\n    /**\r\n       * Quasar date options for offer period\r\n       */\r\n    scheduleDateOptions (date) {\r\n      const dateTimeParts = this.OfferStartPeriod.split(' ')\r\n      const dateParts = dateTimeParts[0].split('.')\r\n      const compareDate = new Date(\r\n        dateParts[2],\r\n        dateParts[1] - 1,\r\n        dateParts[0]\r\n      )\r\n      const currentDate = new Date(date)\r\n\r\n      return currentDate > compareDate\r\n    },\r\n    /**\r\n       * fetches data of the roundtrip for the given id\r\n       * @param RTId the id of the roundtrip to fetch (current RT id)\r\n       */\r\n    fetchSingleRoundtrip (RTId) {\r\n      if (this.isInDemoSession) {\r\n        let roundtrip = this.$store.getters['demoSession/getRoundtrip']\r\n        this.writeRoundtripIntoFields(roundtrip)\r\n      } else {\r\n        this.$store\r\n          .dispatch('roundtrips/fetchSingleRoundtrip', RTId)\r\n          .then((roundtrip) => {\r\n            this.writeRoundtripIntoFields(roundtrip)\r\n          })\r\n          .catch((err) => {\r\n            console.log('Error getting Roundtrip', err)\r\n\r\n            // show this message only if it's not a user\r\n            if (auth.user()) {\r\n              sharedMethods.showErrorNotification(\r\n                'Es gibt fehlende Angaben bei deiner Rundreise'\r\n              )\r\n            }\r\n          })\r\n      }\r\n    },\r\n    /**\r\n       * Writes the current roundtrip data into local fields\r\n       * @param roundtrip the roundtrip object that contains all data\r\n       */\r\n    writeRoundtripIntoFields (roundtrip) {\r\n      this.shareLink = 'https://roundtrips4you.de/MapWidget/' + this.RTId\r\n      this.shareCode =\r\n        '<iframe src=\"https://roundtrips4you.de/MapWidget/' +\r\n        this.RTId +\r\n        '\"></iframe>'\r\n\r\n      this.title = roundtrip.Title\r\n      this.publish = roundtrip.Public\r\n      this.countries = roundtrip.Location\r\n      this.stars = roundtrip.Stars\r\n      this.category = roundtrip.Category\r\n      this.descriptionInput = roundtrip.Description\r\n      this.highlight1 = roundtrip.Highlights[0]\r\n      this.highlight2 = roundtrip.Highlights[1]\r\n      this.highlight3 = roundtrip.Highlights[2]\r\n      this.inputProfile = roundtrip.Profile\r\n      this.region = roundtrip.Region\r\n      this.price = roundtrip.Price\r\n      this.wholeYearOffer = roundtrip.OfferWholeYear\r\n      this.rooms = roundtrip.Rooms\r\n      this.adults = roundtrip.Adults\r\n      this.children = roundtrip.ChildrenAges.length\r\n      this.childrenAges = roundtrip.ChildrenAges\r\n\r\n      if (roundtrip.tripWebsite) this.tripWebsite = roundtrip.tripWebsite\r\n\r\n      this.pageTitle = this.title + ' bearbeiten'\r\n\r\n      this.arrivalDepatureProfile = roundtrip.TransportProfile\r\n        ? roundtrip.TransportProfile\r\n        : 'Flugzeug'\r\n      this.origin = roundtrip.Origin\r\n\r\n      let retrievedDate = new Date(roundtrip.OfferEndPeriod.seconds * 1000)\r\n      this.OfferEndPeriod = date.formatDate(retrievedDate, 'DD.MM.YYYY')\r\n\r\n      retrievedDate = new Date(roundtrip.OfferStartPeriod.seconds * 1000)\r\n      this.OfferStartPeriod = date.formatDate(retrievedDate, 'DD.MM.YYYY')\r\n\r\n      if (this.arrivalDepatureProfile === 'Flugzeug') {\r\n        this.destination = roundtrip.Destination\r\n        this.travelClass = roundtrip.TravelClass\r\n          ? roundtrip.TravelClass\r\n          : 'Economy'\r\n        this.nonStop = roundtrip.NonStop ? roundtrip.NonStop : 'Ja'\r\n        this.originCode = roundtrip.OriginCode\r\n        this.destinationCode = roundtrip.DestinationCode\r\n\r\n        if (this.depatureDate && roundtrip.DepatureDate) {\r\n          retrievedDate = new Date(roundtrip.DepatureDate.seconds * 1000)\r\n          this.depatureDate = date.formatDate(retrievedDate, 'DD.MM.YYYY')\r\n        } else {\r\n          this.depatureDate = formattedScheduleDate\r\n        }\r\n\r\n        if (this.returnDate && roundtrip.ReturnDate) {\r\n          retrievedDate = new Date(roundtrip.ReturnDate.seconds * 1000)\r\n          this.returnDate = date.formatDate(retrievedDate, 'DD.MM.YYYY')\r\n        } else {\r\n          this.depatureDate = formattedScheduleDate\r\n        }\r\n      }\r\n\r\n      // get the default profile of the roundtrip\r\n      this.getGeneralProfile()\r\n\r\n      this.loadInitImgs()\r\n    },\r\n    loadInitImgs () {\r\n      var fileRef = storage\r\n        .ref()\r\n        .child('Images/Roundtrips/' + this.RTId + '/Title/titleImg')\r\n      fileRef\r\n        .getDownloadURL()\r\n        .then(function (url) {\r\n          context.titleImgUrl = url\r\n        })\r\n        .catch((e) => { })\r\n\r\n      fileRef = storage\r\n        .ref()\r\n        .child('Images/Roundtrips/' + this.RTId + '/Galery')\r\n      fileRef\r\n        .listAll()\r\n        .then(function (res) {\r\n          res.items.forEach(function (itemRef) {\r\n            fileRef = storage.ref().child(itemRef.fullPath)\r\n            context.galeryImgUrls = []\r\n            fileRef.getDownloadURL().then(function (url, index) {\r\n              context.galeryImgUrls.push(url)\r\n            })\r\n          })\r\n        })\r\n        .catch(function () { })\r\n    },\r\n    fileAdded (event, kind) {\r\n      let files = event\r\n      let uploadIndex = 0\r\n\r\n      // disable another upload\r\n      if (kind === 'galery') this.visible = true\r\n      else this.titleUploadDisabled = true\r\n      this.uploadNext(files, kind, uploadIndex)\r\n\r\n      this.$refs.titleUpload.reset()\r\n      this.$refs.galeryUpload.reset()\r\n    },\r\n    uploadNext (files, kind, uploadIndex) {\r\n      if (!this.uploading) {\r\n        this.upload(\r\n          files[uploadIndex],\r\n          kind,\r\n          uploadIndex + this.galeryImgUrls.length,\r\n          uploadIndex === files.length - 1,\r\n          files.length,\r\n          uploadIndex\r\n        ).then(function (success) {\r\n          context.uploading = false\r\n          uploadIndex++\r\n          if (uploadIndex < files.length) { context.uploadNext(files, kind, uploadIndex) }\r\n        })\r\n      }\r\n    },\r\n    upload (file, kind, count, lastItem, absoluteFiles, uploadIndex) {\r\n      this.uploading = true\r\n\r\n      return new Promise((resolve, reject) => {\r\n        let kindPath = 'Title/titleImg'\r\n        if (kind === 'galery') {\r\n          kindPath = 'Galery/galeryImg' + count\r\n        }\r\n        const fileRef = storage\r\n          .ref()\r\n          .child('Images/Roundtrips/' + this.RTId + '/' + kindPath)\r\n\r\n        fileRef\r\n          .put(file)\r\n          .then(function (snapshot) {\r\n            sharedMethods.showSuccessNotification(\r\n              'Bild ' +\r\n              (uploadIndex + 1) +\r\n              ' von ' +\r\n              absoluteFiles +\r\n              ' wurde erfolgreich hochgeladen'\r\n            )\r\n            if (lastItem) {\r\n              context.visible = false\r\n              context.titleUploadDisabled = false\r\n            }\r\n            fileRef.getDownloadURL().then(function (url) {\r\n              if (kind === 'galery') {\r\n                context.galeryImgUrls.push(url)\r\n              } else if (kind === 'title') {\r\n                context.titleImgUrl = url\r\n              }\r\n            })\r\n            resolve(true)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error)\r\n            sharedMethods.showErrorNotification(\r\n              'Das Bild konnte nicht hochgeladen werden'\r\n            )\r\n\r\n            context.visible = false\r\n            context.titleUploadDisabled = false\r\n            resolve(false)\r\n          })\r\n      })\r\n    },\r\n    /**\r\n       * delete the current roundtrip\r\n       */\r\n    deleteRoundtrip () {\r\n      if (this.RTId === null || this.RTId === '' || this.RTId === 'undefined') { return false }\r\n      try {\r\n        this.$store\r\n          .dispatch('roundtrips/deleteRoundtrip', this.RTId)\r\n          .then((success) => {\r\n            if (success) {\r\n              sharedMethods.showSuccessNotification('Rundreise wurde gelöscht')\r\n              context.$router.push('/meine-rundreisen')\r\n            } else {\r\n              sharedMethods.showErrorNotification(\r\n                'Die Rundreise konnte nicht gelöscht werden'\r\n              )\r\n            }\r\n          })\r\n      } catch (error) {\r\n        console.log(error)\r\n        sharedMethods.showErrorNotification(\r\n          'Die Rundreise konnte nicht gelöscht werden'\r\n        )\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    let RTId = this.$route.params.id\r\n    this.RTId = RTId\r\n\r\n    context = this\r\n\r\n    if (RTId) {\r\n      this.getStops(RTId)\r\n      this.fetchCategories()\r\n      this.fetchSingleRoundtrip(RTId)\r\n    } else {\r\n      sharedMethods.showErrorNotification(\r\n        'Oops die Einstellungen konnten nicht geladen werden.'\r\n      )\r\n      this.$router.push('/meine-rundreisen')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoundtripSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoundtripSettings.vue?vue&type=template&id=c8be6bde&\"\nimport script from \"./RoundtripSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./RoundtripSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoundtripSettings.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}