(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"013f":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login q-px-lg q-pb-md"},[i("h1",[e._v("Anmelden")]),i("p",{staticStyle:{"text-align":"center","font-size":"20px","padding-bottom":"10px"}},[e._v("Willkommen zurück, logge dich ein um deine Reisen zu bearbeiten")]),i("q-form",{staticClass:"q-gutter-md rounded-borders flex column",staticStyle:{"align-items":"center"},attrs:{bordered:""},on:{submit:e.onUserLogin}},[i("q-input",{attrs:{outlined:"",type:"email","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Bitte gib eine Email an"},function(t){return e.reg.test(t)||"Bitte gib eine richtige Email an"}],label:"Email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),i("q-input",{attrs:{outlined:"",type:e.isPwd?"password":"text",label:"Passwort",rules:[function(e){return null!==e&&""!==e||"Bitte gib dein Passwort ein"}]},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),i("div",{staticStyle:{padding:"10px"}},[i("q-btn",{staticClass:"q-mt-md",staticStyle:{width:"300px"},attrs:{type:"submit",loading:e.submitting,label:"Login",color:"primary","text-color":"white"},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner")]},proxy:!0}])})],1)],1),i("div",{staticClass:"flex justify-center"},[i("q-btn",{staticClass:"q-mt-md",staticStyle:{width:"300px"},attrs:{label:"Passwort vergessen"},on:{click:function(t){e.showResetPasswordDialog=!0}}})],1),i("q-dialog",{model:{value:e.showResetPasswordDialog,callback:function(t){e.showResetPasswordDialog=t},expression:"showResetPasswordDialog"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-input",{attrs:{outlined:"",type:"email","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Bitte gib eine Email an"},function(t){return e.reg.test(t)||"Bitte gib eine richtige Email an"}],label:"Email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}})],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Passwort zurücksetzen",color:"primary"},on:{click:function(t){return e.resetPassword()}}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Abbrechen",color:"primary"}})],1)],1)],1),i("div",{staticClass:"google-form"},[i("div",{staticClass:"form-option"},[e._v("oder")]),i("q-btn",{staticClass:"q-mt-md google-btn",staticStyle:{width:"300px","text-transform":"none","font-family":"roboto"},attrs:{loading:e.googleLoading,label:"Anmelden mit Google",icon:"fab fa-google"},on:{click:e.signUpWithGoogle},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner")]},proxy:!0}])})],1),i("br"),i("div",{staticStyle:{"font-size":"18px","text-align":"center",width:"100%"}},[e._v("Du hast noch kein Konto? "),i("router-link",{attrs:{to:"/registrieren"}},[e._v("Jetzt Registrieren")])],1)],1)},s=[],o=i("1261"),a=i("15c8");const r=()=>Promise.resolve().then(i.bind(null,"2591"));var l={meta:{title:"Login",meta:{description:{name:"description",content:"Jetzt bei deinem Reiseplaner Roundtrips4you anmelden. Dein Reiseplaner mit Kartenfunktion, Städtevorschlag, Hotelsuche..."}}},name:"login",data(){return{userEmail:"",password:"",passwordRepeat:"",isPwd:!0,isPwdRepeat:!0,submitting:!1,googleLoading:!1,showResetPasswordDialog:!1,reg:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/}},methods:{onUserLogin(){let e=this;o["a"].authRef().signInWithEmailAndPassword(this.userEmail,this.password).then((function(){e.$store.commit("demoSession/resetRoundtrip"),e.$router.replace({path:"/meine-rundreisen"})})).catch((function(e){console.log(e),"auth/user-not-found"===e.code?a["a"].showErrorNotification("Dieser Benutzer existiert nicht"):a["a"].showErrorNotification("Das Passwort oder der Benutzername ist leider falsch")}))},resetPassword(){o["a"].authRef().sendPasswordResetEmail(this.userEmail).then((function(){a["a"].showSuccessNotification("Wir haben dir eine Email mit einem Resetlink gesendet")})).catch((function(e){console.log(e),a["a"].showErrorNotification("Es ist ein Fehler aufgetreten, versuch es noch einmal")}))},signUpWithGoogle(){r().then(e=>{var t=new e.auth.GoogleAuthProvider;let i=this;o["a"].authRef().signInWithPopup(t).then((function(t){i.$router.replace("meine-rundreisen");var n=t.credential.accessToken;const s=e.auth.GoogleAuthProvider().credential(n);o["a"].signInWithCredential(s).then((function(){})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})}}},c=l,u=(i("772a"),i("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);t["default"]=d.exports},"772a":function(e,t,i){"use strict";var n=i("ad1d"),s=i.n(n);s.a},ad1d:function(e,t,i){}}]);