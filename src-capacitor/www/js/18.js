(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{1225:function(t,e,i){"use strict";var n=i("371d"),s=i.n(n);s.a},"371d":function(t,e,i){},8550:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-roundtrips  q-px-lg q-pb-md"},[i("h3",{attrs:{id:"Title"}},[t._v("Meine Reisen")]),i("q-list",{staticClass:"rounded-borders",attrs:{bordered:"",padding:""}},[t.showNoRoundtripsText?i("q-item",[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{color:"primary","text-color":"white","font-size":"30px",icon:"info"}})],1),i("q-item-section",{attrs:{side:""}},[i("q-item-label",{attrs:{lines:"2"}},[t._v("Wenn du eine Reise erstellst erscheint sie hier. "),i("br"),t._v("\n          Klicke einfach auf den Button unten um deine erste Reise zu erstellen.")])],1)],1):t._e(),t.showRoundtrips?i("div",t._l(t.roundtrips,(function(e){return i("q-intersection",{key:e.RTId,attrs:{once:"",transition:"flip-right"}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(i){return t.$router.push("/rundreise-ansehen/"+e.RTId)}}},[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{color:"primary","text-color":"white"}},[i("img",{attrs:{src:t.TitleImgs[t.TitleImgs.findIndex((function(t){return t.RTId===e.RTId}))]?t.TitleImgs[t.TitleImgs.findIndex((function(t){return t.RTId===e.RTId}))].src:"../statics/dummy-image-landscape-1-150x150.jpg"}})])],1),i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.Title)+" - "+t._s(Array.isArray(e.Location)?t.getLocationString(e.Location):e.Location))]),i("q-item-label",{staticStyle:{width:"100px"},attrs:{caption:""}},[t._v("\n              "+t._s(t.getCreatedAtDate(e.createdAt))+"\n              "),i("q-tooltip",[t._v("\n                erstellt am "+t._s(t.getCreatedAtDate(e.createdAt))+"\n              ")])],1)],1),i("q-item-section",{attrs:{side:""}},[i("q-item-label",{style:[e.Public?{color:"green"}:{color:"red"}],attrs:{lines:"1"}},[t._v(t._s(e.Public?"veröffentlicht":"privat"))])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{name:"keyboard_arrow_right",color:"primary"}})],1)],1)],1)})),1):t.showNoRoundtripsText?t._e():i("div",t._l(3,(function(t){return i("q-item",{key:t},[i("q-item-section",{staticStyle:{padding:"8px 10px"},attrs:{avatar:"",top:""}},[i("q-skeleton",{attrs:{size:"40px",type:"QAvatar"}})],1),i("q-item-section",[i("q-skeleton",{staticClass:"title-skeleton",staticStyle:{"margin-bottom":"10px"},attrs:{width:"300px",type:"rect"}}),i("q-item-label",{attrs:{caption:""}},[i("q-skeleton",{attrs:{width:"80px",type:"rect"}})],1)],1)],1)})),1)],1),i("span",{ref:"AddRoundtripExpansionItem"}),t.user&&(t.user.emailVerified||0===t.roundtrips.length)?i("div",{staticClass:"flex cursor-pointer",staticStyle:{"align-items":"center","flex-direction":"row","margin-bottom":"20px"},on:{click:function(e){return t.$router.push("/rundreisen-wizard")}}},[i("q-btn",{staticClass:"add-button",attrs:{side:"",round:"",color:"primary",icon:"add"}}),i("span",{staticStyle:{"font-size":"20px"}},[t._v("Reise hinzufügen")])],1):t._e(),t.user&&!t.user.emailVerified?i("div",[i("span",{staticStyle:{"font-size":"18px"}},[t._v("Deine Email Adresse wurde noch nicht bestätigt. Bitte bestätige diese "+t._s(t.roundtrips.length>0?"bevor du eine weitere Reise erstellst":"sobald wie möglich")+".")]),i("br"),i("br"),i("q-btn",{on:{click:function(e){return t.verifyMail()}}},[t._v("Email erneut senden")])],1):t._e()],1)},s=[],r=i("1261"),a=i("bd4c"),o=i("15c8");let d=Date.now(),l=a["b"].formatDate(d,"DD.MM.YYYY");var u={url:"https://roundtrips4you.de/login",handleCodeInApp:!0},c={meta:{title:"Meine Rundreisen",meta:{description:{name:"description",content:"Deine Reisen auf roundtrips4you bearbeiten, komplett kostenlos, online und unkompliziert. Dein Reiseplaner mit Kartenfunktion, Städtevorschlag, Hotelsuche..."}}},name:"myRoundtrips",data(){return{roundtrips:[],TitleImgs:[],title:"",addExpanded:!1,addButtonActive:!1,showNoRoundtripsText:!1,rooms:1,adults:1,children:0,childrenAges:[],step:1,arrivalDepatureProfile:"Flugzeug",origin:null,destination:null,depatureDate:l,returnDate:l,travelClass:"Economy",nonStop:"Ja",originOptions:[],destinationOptions:[],originCodes:[],destinationCodes:[],originCode:null,destinationCode:null,destinationAddresses:[],countryAmount:1,showRoundtrips:!1,tempLocation:null}},computed:{user(){return this.$store.getters["user/user"]},sharedMethods(){return o["a"]}},methods:{verifyMail(){r["a"].user().emailVerified?o["a"].showSuccessNotification("Deine Email wurde bestätigt"):r["a"].user().sendEmailVerification(u).then((function(){o["a"].showSuccessNotification("Wir haben dir eine Bestätigungsmail gesendet")})).catch((function(t){console.log(t),o["a"].showErrorNotification("Oh nein, wir konnten dir leider keine email senden, bitte Kontaktiere uns unter hello@roundtrips4you.de")}))},scrollOnAddButtonClicked(){this.addExpanded&&o["a"].scrollToRef(this.$refs["AddRoundtripExpansionItem"])},updateLocation(t){this.tempLocation={lat:t.y,lng:t.x,label:t.label}},updateReturnDate(){let t=this.depatureDate.split("."),e=new Date(t[2],t[1]-1,t[0]),i=e;i.setDate(e.getDate()+1),this.returnDate=a["b"].formatDate(i,"DD.MM.YYYY")},saveArrivalDepature(t){if(this.submitting=!0,"Flugzeug"===this.arrivalDepatureProfile){let e=this.depatureDate.split("."),i=new Date(e[2],e[1]-1,e[0]);e=this.returnDate.split(".");let n=new Date(e[2],e[1]-1,e[0]);return!!(this.saveData("TransportProfile",this.arrivalDepatureProfile,t)&&this.saveData("Origin",this.origin,t)&&this.saveData("OriginCode",this.originCodes[this.originOptions.indexOf(this.origin)]?this.originCodes[this.originOptions.indexOf(this.origin)]:this.originCode,t)&&this.saveData("Destination",this.destination,t)&&this.saveData("DestinationCode",this.destinationCodes[this.destinationOptions.indexOf(this.destination)]?this.destinationCodes[this.destinationOptions.indexOf(this.destination)]:this.destinationCode,t)&&this.saveData("DepatureDate",i,t)&&this.saveData("ReturnDate",n,t)&&this.saveData("TravelClass",this.travelClass,t)&&this.saveData("NonStop",this.nonStop,t))}return!!this.saveData("TransportProfile",this.arrivalDepatureProfile,t)},getLocationString(t){let e="";return t.forEach((t,i)=>{e=e+(0!==i?", ":"")+t}),e},saveData(t,e,i){if(null===i||""===i||"undefined"===i)return!1;try{r["b"].collection("Roundtrips").doc(i).update({[""+t]:e})}catch(n){return console.log(n),!1}return!0},getCreatedAtDate(t){return a["b"].formatDate(new Date(1e3*t.seconds),"DD.MM.YYYY")}},created(){r["a"].authRef().onAuthStateChanged(t=>{this.$store.dispatch("roundtrips/fetchAllRoundtrips",r["a"].user().uid).then(t=>{"undefined"!==typeof t&&t&&t.roundtrips&&null!==t.roundtrips&&0!==t.roundtrips.length?(this.showRoundtrips=!0,this.roundtrips=t.roundtrips,this.TitleImgs=t.titleImages):(this.showNoRoundtripsText=!0,this.showRoundtrips=!0,this.addExpanded=!0)})})}},p=c,h=(i("1225"),i("2877")),m=Object(h["a"])(p,n,s,!1,null,null,null);e["default"]=m.exports}}]);