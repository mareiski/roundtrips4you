(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"8c8d":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{style:e.stopImages?"padding:20px 0;":"",on:{mouseenter:function(t){e.stopImages&&e.stopImages.length>=2&&e.disablePageScrolling()},mouseleave:function(t){return e.enablePageScrolling()}}},[i("horizontal-scroll",{staticClass:"full-width",style:(!e.stopImages||e.stopImages.length<=1?"overflow-x:auto;":"")+" white-space:nowrap;"},[e.uploadDisabled?e._e():i("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.visible,expression:"!visible"}],staticStyle:{position:"relative",margin:"10px",width:"42px"},attrs:{round:"",color:"primary",icon:"upload"},on:{click:function(){return e.$refs.galeryUpload.pickFiles()}}}),e.uploadDisabled||e.stopImages&&!(e.stopImages.length<1)?e._e():i("p",[e._v("Bild hochladen")]),i("q-circular-progress",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"q-ma-md",attrs:{value:e.uploadProgress,indeterminate:100===e.uploadProgress,"show-value":"",size:"42px",color:"primary"}},[e._v(e._s(e.uploadProgress)+"%")]),e.stopImages&&!e.showGalery?e._l(e.stopImages,(function(t,o){return i("span",{key:o},[i("q-img",{staticClass:"rounded-borders",staticStyle:{height:"200px",width:"55%",margin:"10px","margin-right":"-20px"},attrs:{src:t},on:{click:function(i){return e.showImgDialog(t)}}}),e.uploadDisabled?i("q-btn",{staticStyle:{right:"10px",top:"-88px"},attrs:{round:"",color:"primary",icon:"filter"},on:{click:function(i){return e.showImgDialog(t)}}}):i("q-btn",{staticStyle:{right:"10px",top:"-88px"},attrs:{round:"",color:"primary",icon:"delete"},on:{click:function(i){return e.deleteImage(t)}}})],1)})):e._e()],2)],1),i("q-uploader",{ref:"galeryUpload",staticStyle:{"max-width":"300px",display:"none"},attrs:{url:"",label:"Weitere Bilder hochladen",multiple:"","hide-upload-btn":""},on:{added:function(t){return e.fileAdded(t,"galery")}}}),i("q-dialog",{model:{value:e.imgDialogVisible,callback:function(t){e.imgDialogVisible=t},expression:"imgDialogVisible"}},[i("q-card",{staticStyle:{width:"100%","max-width":"100vh",overflow:"hidden"}},[i("q-card-section",{staticClass:"row flex justify-end q-pb-none",staticStyle:{"z-index":"100",width:"100%",position:"absolute",color:"white"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),i("q-card-section",[i("q-img",{staticStyle:{width:"100%"},attrs:{src:e.dialogImgSrc}})],1)],1)],1),i("q-dialog",{attrs:{"keep-alive":""},model:{value:e.chooseImgDialog,callback:function(t){e.chooseImgDialog=t},expression:"chooseImgDialog"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center flex"},[i("span",[e._v("Bitte verwende nur Bilder die für die Wiederverwendung eindeutig gekennzeichnet sind. "),i("br"),e._v(" Ansonsten kann dein Account gesperrt werden. "),i("br"),i("br"),i("a",{staticStyle:{"text-decoration":"underline"},on:{click:function(t){return e.openInNewTab("https://www.google.com/search?q="+e.location.label+"&tbm=isch&hl=de&hl=de&tbs=sur%3Af&rlz=1C1CHBF_deDE828DE828&ved=0CAQQpwVqFwoTCLCZ05jd2-cCFQAAAAAdAAAAABAD&biw=1903&bih=969")}}},[e._v("Bildvorschläge auf Google")]),i("br"),i("br")]),i("div",{staticClass:"flex",staticStyle:{width:"100%"}},[i("q-input",{ref:"tempImgLinkInput",staticStyle:{padding:"0",width:"80%","margin-bottom":"10px"},attrs:{filled:"",label:"Bild per Link einfügen",rules:[function(t){return e.sharedMethods.validURL(t)||"Bitte gib einen richtigen Link ein"}],"lazy-rules":"","bottom-slots":"",outlined:""},model:{value:e.tempImgLink,callback:function(t){e.tempImgLink=t},expression:"tempImgLink"}}),i("q-btn",{staticStyle:{"margin-left":"10px","margin-top":"5px",height:"45px"},attrs:{round:"",color:"primary",icon:"add",disable:function(){return!e.sharedMethods.validURL(e.tempImgLink)}},on:{click:function(t){return e.$emit("imageAdded",e.tempImgLink)}}})],1)]),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Fertig",color:"primary"}})],1)],1)],1)],1)},l=[],a=(i("21eb"),i("15c8")),s={data(){return{imgDialogVisible:!1,chooseImgDialog:!1,tempImgLink:null,dialogImgSrc:null,visible:!1,slide:0,showGalery:!1}},props:{RTId:String,stopImages:Array,uploadDisabled:Boolean},components:{HorizontalScroll:()=>i.e(0).then(i.t.bind(null,"e2e2",7))},computed:{stopGaleryImages(){let e=this.$store.getters["images/getGaleryImgUrls"](this.RTId);return e},uploadProgress(){return this.$store.getters["images/getUploadProgress"]}},methods:{disablePageScrolling(){document.documentElement.style.overflow="hidden",document.getElementById("editStopDialogCard").style.overflow="hidden"},fileAdded(e,t){a["a"].fileAdded(e,t,this,this.RTId)},enablePageScrolling(){try{document.documentElement.style.overflow="auto",document.getElementById("editStopDialogCard").style.overflow="auto"}catch(e){console.log(e)}},deleteImage(e){this.$store.dispatch("images/deleteImage",{RTId:this.RTId,url:e}),this.$emit("imageDeleted",e)},showImgDialog(e){this.dialogImgSrc=e,this.imgDialogVisible=!0}}},r=s,n=i("2877"),d=Object(n["a"])(r,o,l,!1,null,null,null);t["default"]=d.exports}}]);