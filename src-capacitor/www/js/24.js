(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"51b8":function(t,i,e){t.exports=e.p+"img/dummy-image-landscape-1.jpg"},a070:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[t.newDailyTripDate?a("div",{staticClass:"divider"},[a("hr"),a("span",[t._v(t._s(t.dailyTrip.date.split(" ")[0]))])]):t._e(),a("span",{staticClass:"duration-span"},[t._v(t._s(t.duration&&t.duration.duration?t.duration.duration+" "+t.duration.distance+" ab "+(t.newDailyTripDate?t.duration.defaultCityLabel.split(",")[0]:t.duration.cityFromLabel.split(",")[0]):""))]),a("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[a("q-expansion-item",{attrs:{"expand-separator":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{staticStyle:{padding:"0"},attrs:{icon:"location_on",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("div",{staticClass:"q-item__label"},[t._v(t._s(t.dailyTrip.location.label.split(",")[0]))]),a("div",{staticClass:"q-item__label q-item__label--caption text-caption"},[t._v(t._s(t.dailyTrip.date.split(" ")[1]+(t.dailyTrip.days?", ca. "+t.dailyTrip.days.days+" Aufenthalt":"")))])]),t.editor?a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"delete"},on:{click:function(i){return t.deleteEntry()}}},[a("q-tooltip",[t._v("Tagesausflug löschen")])],1)],1):t._e()]},proxy:!0}])},[a("q-card",[a("q-card-section",[t.editor?a("span",[t.editor?a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale",persistent:""}},[a("q-date",{attrs:{"today-btn":"",mask:"DD.MM.YYYY HH:mm",options:t.dailyTripDateOptions},model:{value:t.dailyTrip.date,callback:function(i){t.$set(t.dailyTrip,"date",i)},expression:"dailyTrip.date"}}),a("div",{staticClass:"flex justify-between",staticStyle:{width:"100%"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{margin:"10px"},on:{click:function(i){t.dailyTrip.date=t.oldDate}}},[t._v("abbrechen")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{margin:"10px"},attrs:{color:"primary"},on:{click:function(i){t.saveDate(!1),t.$refs.qTimeProxy.show()}}},[t._v("weiter")])],1)],1):t._e(),t._v("\n            Datum/Zeit ändern\n            "),t.editor?a("q-icon",{attrs:{size:"16px",name:"event"}}):t._e()],1):t._e(),a("span",[t.editor?a("q-popup-proxy",{ref:"qTimeProxy",attrs:{"transition-show":"scale","transition-hide":"scale",persistent:""}},[a("q-time",{attrs:{mask:"DD.MM.YYYY HH:mm",format24h:""},model:{value:t.dailyTrip.date,callback:function(i){t.$set(t.dailyTrip,"date",i)},expression:"dailyTrip.date"}}),a("div",{staticClass:"flex justify-between",staticStyle:{width:"100%"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{margin:"10px"},on:{click:function(i){t.dailyTrip.date=t.oldDate}}},[t._v("abbrechen")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{margin:"10px"},attrs:{color:"primary"},on:{click:function(i){return t.saveDate(!0)}}},[t._v("fertig")])],1)],1):t._e()],1),t.editor?a("div",[a("q-select",{staticStyle:{margin:"10px 10px 10px 0",width:"260px"},attrs:{label:"Sehenswürdigkeiten",filled:"","use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique"},on:{blur:function(i){return t.saveSights()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"add"},on:{click:function(t){t.stopPropagation()}}})]},proxy:!0}],null,!1,632044135),model:{value:t.addedSights,callback:function(i){t.addedSights=i},expression:"addedSights"}}),a("q-editor",{ref:"editor_ref",staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{"min-height":"5rem",toolbar:t.editorToolbar,"toolbar-toggle-color":"primary",fonts:t.editorFonts,definitions:{format:{top:"Formatierung bei Kopieren beibehaten",icon:t.$q.iconSet.editor.formatting,label:"Format bei Kopie "+(this.preventPasting?"aus":"an"),handler:t.formatOn}}},on:{keyup:function(i){if(!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;i.stopPropagation()},blur:function(i){return t.saveWork()}},nativeOn:{paste:function(i){return function(i){return t.pasteCapture(i)}(i)}},model:{value:t.dailyTrip.descriptionInput,callback:function(i){t.$set(t.dailyTrip,"descriptionInput",i)},expression:"dailyTrip.descriptionInput"}}),t.dailyTrip.stopImages?a("div",{staticClass:"flex"},t._l(t.dailyTrip.stopImages,(function(i,e){return a("div",{key:e,staticClass:"uploader",staticStyle:{"margin-right":"8px"}},[a("q-img",{staticStyle:{height:"100%"},attrs:{src:i}}),a("q-btn",{staticStyle:{position:"absolute",transform:"rotate(45deg)"},attrs:{round:"",color:"primary",icon:"add"},on:{click:function(i){return t.removeImg(e)}}}),a("q-btn",{staticStyle:{position:"absolute","margin-top":"-60px","margin-left":"65px"},attrs:{round:"",color:"primary",icon:"filter"},on:{click:function(e){return t.showImgDialog(i)}}})],1)})),0):t._e(),a("q-dialog",{model:{value:t.imgDialogVisible,callback:function(i){t.imgDialogVisible=i},expression:"imgDialogVisible"}},[a("q-card",{staticStyle:{width:"100%","max-width":"100vh",overflow:"hidden"}},[a("q-card-section",{staticClass:"row flex justify-end q-pb-none",staticStyle:{"z-index":"100"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",{staticStyle:{"margin-top":"-35px"}},[a("q-img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImgSrc}})],1)],1)],1),t.editor?a("div",{staticClass:"uploader",staticStyle:{"margin-top":"10px"}},[a("q-img",{staticStyle:{height:"100%"},attrs:{src:"/statics/dummy-image-landscape-1-150x150.jpg"}}),a("q-btn",{staticStyle:{position:"absolute"},attrs:{round:"",color:"primary",icon:"add"},on:{click:function(i){t.chooseImgDialog=!0}}},[a("q-tooltip",[t._v("Bilder hinzufügen")])],1)],1):t._e(),a("q-dialog",{attrs:{"keep-alive":""},model:{value:t.chooseImgDialog,callback:function(i){t.chooseImgDialog=i},expression:"chooseImgDialog"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center galeryImgUploaderContainer flex justify-between"},[t._l(t.galeryImgUrls,(function(i,e){return a("div",{key:e,staticClass:"uploader"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i,expression:"url"}],staticStyle:{width:"100%"}}),a("q-btn",{staticStyle:{position:"absolute"},attrs:{round:"",color:"primary",icon:"add"},on:{click:function(e){return t.addImageToStop(i)}}})],1)})),0===t.galeryImgUrls.length?a("div",{staticClass:"flex"},[a("div",[a("q-img",{staticStyle:{height:"148px",width:"148px"},attrs:{src:e("51b8")}})],1),a("div",{staticClass:"flex justify-center",staticStyle:{"max-width":"300px","padding-left":"10px","flex-direction":"column"}},[t._v("Wenn du ein Bild in den Einstellungen hochlädst kannst du es hier hinzufügen.")])]):t._e()],2),a("q-card-section",{staticClass:"row items-center flex"},[a("span",[t._v("Bitte verwende nur Bilder die für die Wiederverwendung eindeutig gekennzeichnet sind. "),a("br"),t._v(" Ansonsten kann dein Account gesperrt werden. "),a("br"),a("br"),a("a",{staticStyle:{"text-decoration":"underline"},on:{click:function(i){return t.openInNewTab("https://www.google.com/search?q="+t.dailyTrip.location.label+"&tbm=isch&hl=de&hl=de&tbs=sur%3Af&rlz=1C1CHBF_deDE828DE828&ved=0CAQQpwVqFwoTCLCZ05jd2-cCFQAAAAAdAAAAABAD&biw=1903&bih=969")}}},[t._v("Vorschläge auf Google")]),a("br"),a("br")]),a("div",{staticClass:"flex",staticStyle:{width:"100%"}},[a("q-input",{ref:"tempImgLinkInput",staticStyle:{padding:"0",width:"80%","margin-bottom":"10px"},attrs:{filled:"",label:"Bild per Link einfügen",rules:[function(i){return t.validURL(i)||"Bitte gib einen richtigen Link ein"}],"lazy-rules":"","bottom-slots":"",outlined:""},model:{value:t.tempImgLink,callback:function(i){t.tempImgLink=i},expression:"tempImgLink"}}),a("q-btn",{staticStyle:{"margin-left":"10px","margin-top":"5px",height:"45px"},attrs:{round:"",color:"primary",icon:"add",disable:!t.validURL(t.tempImgLink)},on:{click:function(i){return t.addImageToStop(t.tempImgLink)}}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Fertig",color:"primary"}})],1)],1)],1)],1):a("div",[t.addedSights&&"undefined"!==typeof t.addedSights&&t.addedSights.length>0?a("div",[a("b",{staticClass:"flex justify-center",staticStyle:{"flex-direction":"column"}},[t._v("Highlights:")]),t._l(t.addedSights,(function(i,e){return a("q-chip",{key:e,attrs:{clickable:""},on:{click:function(e){t.openInNewTab("https://www.google.com/search?q="+i+" "+t.dailyTrip.location.label.split(",")[0])}}},[t._v(t._s(i))])})),a("a",{staticClass:"flex justify-center",staticStyle:{"flex-direction":"column","text-decoration":"none"},attrs:{target:"_blank",href:"https://www.google.com/search?q="+t.dailyTrip.location.label.split(",")[0]+" Sehenswürdigkeiten"}},[t._v("weitere anzeigen")])],2):t._e(),a("div",{domProps:{innerHTML:t._s(t.dailyTrip.descriptionInput)}})])])],1)],1)],1)],1)},s=[],n=e("15c8"),r={props:{dailyTrip:Object,editorToolbar:Array,editorFonts:Object,stopDocId:String,index:Number,newDailyTripDate:Boolean,duration:Object,editor:Boolean,addedSights:Array,galeryImgUrls:Array},data(){return{savedEditorContent:this.dailyTrip.descriptionInput,durations:[],preventPasting:!0,oldAddedSights:[],dialogImgSrc:null,imgDialogVisible:!1,chooseImgDialog:!1,tempImgLink:null,oldDate:null}},methods:{deleteEntry(){n["a"].getParent("stop",this).deleteDailyTrip(this.index)},saveWork(){n["a"].getParent("stop",this).saveDailyTrips(this.index,this.dailyTrip.descriptionInput,"description"),this.savedEditorContent=this.dailyTrip.descriptionInput},saveDate(){n["a"].getParent("stop",this).saveDailyTrips(this.index,this.dailyTrip.date,"date"),this.oldDate=this.dailyTrip.date},formatOn(){this.preventPasting=!this.preventPasting},dailyTripDateOptions(t){return n["a"].getParent("stop",this).dailyTripDateOptions(t)},validURL(t){var i=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!i.test(t)},saveSights(){this.addedSights!==this.oldAddedSights&&(this.oldAddedSights=this.addedSights,n["a"].getParent("stop",this).saveDailyTrips(this.index,this.addedSights,"sights"))},showImgDialog(t){this.dialogImgSrc=t,this.imgDialogVisible=!0},addImageToStop(t){this.dailyTrip.stopImages||(this.dailyTrip.stopImages=[]),this.dailyTrip.stopImages.push(t),this.tempImgLink="",this.$refs.tempImgLinkInput.resetValidation(),n["a"].getParent("stop",this).saveDailyTripImgs(this.index,this.dailyTrip.stopImages)},removeImg(t){this.dailyTrip.stopImages&&(this.dailyTrip.stopImages.splice(t,1),n["a"].getParent("stop",this).saveDailyTripImgs(this.index,this.dailyTrip.stopImages))},openInNewTab(t){window.open(t,"_blank")},pasteCapture(t){if(this.preventPasting){let i,e;t.preventDefault(),t.originalEvent&&t.originalEvent.clipboardData.getData?(i=t.originalEvent.clipboardData.getData("text/plain"),this.$refs.editor_ref.runCmd("insertText",i)):t.clipboardData&&t.clipboardData.getData()?(i=t.clipboardData.getData("text/plain"),this.$refs.editor_ref.runCmd("insertText",i)):window.clipboardData&&window.clipboardData.getData&&(e||(e=!0,this.$refs.editor_ref.runCmd("ms-pasteTextOnly",i)),e=!1)}}},created(){this.oldAddedSights=this.addedSights,this.oldDate=this.dailyTrip.date}},o=r,l=e("2877"),d=Object(l["a"])(o,a,s,!1,null,null,null);i["default"]=d.exports}}]);