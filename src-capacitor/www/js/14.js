(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{a2ca:function(t,e,i){"use strict";var a=i("ceba"),r=i.n(a);r.a},afdd:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trip-overview"},[i("q-drawer",{attrs:{"show-if-above":"",width:350,elevated:"",breakpoint:550,mini:!!t.isTablet&&t.miniState,"content-class":"bg-whit"},on:{mouseover:function(e){!t.miniDisabled&&(t.miniState=!1)},mouseout:function(e){!t.miniDisabled&&(t.miniState=!0)}},model:{value:t.drawerLeft,callback:function(e){t.drawerLeft=e},expression:"drawerLeft"}},[i("q-scroll-area",{ref:"DrawerScrollArea",staticClass:"fit"},[i("TripOverviewList",{attrs:{addedStops:t.addedStops,currentRoundtrip:t.currentRoundtrip},on:{stopsDragged:function(e){return t.$emit("stopsDragged",e)},editStop:function(e){return t.$emit("editStop",e)},removeStop:function(e){return t.$emit("removeStop",e)}}})],1)],1),t.drawerInvisible?i("div",[i("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab",{attrs:{name:"map",label:"Karte"}}),i("q-tab",{attrs:{name:"list",label:"Liste"}})],1),i("q-separator"),i("q-tab-panels",{ref:"tabPanels",attrs:{animated:"","keep-alive":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab-panel",{attrs:{name:"map"}},[i("Map",{ref:"overviewMap",attrs:{profile:t.addedStops[0]&&t.addedStops[0].Profile?t.addedStops[0].Profile:"driving",stops:t.addedStops,childrenAges:t.currentRoundtrip.ChildrenAges,rooms:Number(t.currentRoundtrip.Rooms),adults:Number(t.currentRoundtrip.Adults),editor:!0,height:"90vh;"},on:{addStop:function(e){return t.$emit("addStop",e)},update:function(e){return t.$emit("update",e)},distanceUpdate:function(e){return t.$emit("distanceUpdate",e)},addSight:function(e){return t.$emit("addSight",e)}}})],1),i("q-tab-panel",{attrs:{name:"list"}},[i("TripOverviewList",{attrs:{addedStops:t.addedStops,currentRoundtrip:t.currentRoundtrip},on:{stopsDragged:function(e){return t.$emit("stopsDragged",e)},editStop:function(e){return t.$emit("editStop",e)},removeStop:function(e){return t.$emit("removeStop",e)}}})],1)],1)],1):i("div",{style:"margin-left:"+(t.isEditMode?"350px;":"326px;")},[i("Map",{ref:"overviewMap",attrs:{profile:t.addedStops[0]&&t.addedStops[0].Profile?t.addedStops[0].Profile:"driving",stops:t.addedStops,childrenAges:t.currentRoundtrip.ChildrenAges,rooms:Number(t.currentRoundtrip.Rooms),adults:Number(t.currentRoundtrip.Adults),editor:!0,height:"90vh;"},on:{addStop:function(e){return t.$emit("addStop",e)},update:function(e){return t.$emit("update",e)},distanceUpdate:function(e){return t.$emit("distanceUpdate",e)},addSight:function(e){return t.$emit("addSight",e)}}})],1)],1)},r=[],n=i("0603"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"min-height":"40vh"}},[i("q-list",{directives:[{name:"show",rawName:"v-show",value:t.addedStops.length>0,expression:"addedStops.length > 0"}],staticClass:"rounded-borders",attrs:{bordered:""}},[i("q-item-label",{staticClass:"text-weight-bold",attrs:{header:""}},[t._v(t._s(t.currentRoundtrip.Title))]),i("q-separator"),i("draggable",{attrs:{handle:".handle"},on:{end:function(e){return t.emitOnDragged(e)}},model:{value:t.addedStops,callback:function(e){t.addedStops=e},expression:"addedStops"}},t._l(t.addedStops,(function(e,a){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e,staticStyle:{"padding-left":"8px","padding-right":"5px"},attrs:{clickable:""}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{staticClass:"cursor-DandD handle",attrs:{color:"primary",name:"drag_indicator"}})],1),i("q-item-section",{on:{click:function(e){return t.$emit("editStop",a)}}},[i("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.Title))]),i("q-item-label",{staticStyle:{"max-width":"400px"},attrs:{caption:"",lines:"1"}},[i("q-icon",{attrs:{name:"location_on"}}),t._v("\n            "+t._s(e.Location.label.split(",")[0])+"\n            ")],1)],1),i("q-item-section",{attrs:{side:"",top:""},on:{click:function(e){return t.$emit("editStop",a)}}},[i("div",{staticClass:"flex justify-center",staticStyle:{"flex-direction":"column",height:"100%"}},[t._v("\n            "+t._s(e.InitDate.split(" ")[0])+"\n          ")])]),i("q-item-section",{staticStyle:{padding:"0"},attrs:{side:"",top:""}},[i("div",[i("q-btn",{attrs:{flat:"",round:"",size:"13px",icon:"settings"},on:{click:function(e){return t.$emit("editStop",a)}}},[i("q-tooltip",[t._v("Optionen")])],1)],1)]),i("q-item-section",{staticStyle:{padding:"0"},attrs:{side:"",top:""}},[i("div",[t.addedStops.length>1?i("q-btn",{attrs:{flat:"",round:"",size:"13px",icon:"delete"},on:{click:function(e){return t.$emit("removeStop",a)}}},[i("q-tooltip",[t._v("Stopp löschen")])],1):t._e()],1)])],1)})),1),i("q-separator",{attrs:{inset:"item"}})],1),t.addedStops.length<=1?i("div",{staticStyle:{padding:"10px 10px 0 10px"}},[0===t.addedStops.length?i("span",{staticClass:"font-medium"},[t._v("Klicke auf einen Ort auf der Karte um ihn hinzuzufügen oder benutze die Suche oben rechts.")]):i("span",{staticClass:"font-medium"},[t._v("Füge einen weiteren Stopp hinzu, um danach deine Reise rechts unten zu speichern.")])]):t._e()],1)},o=[],s=i("b76a"),p=i.n(s),l={name:"TripOverviewList",components:{draggable:p.a},props:{addedStops:Array,currentRoundtrip:Object},methods:{emitOnDragged(t){t.addedStops=this.addedStops,this.$emit("stopsDragged",t)}}},c=l,u=i("2877"),m=Object(u["a"])(c,d,o,!1,null,null,null),f=m.exports,v={name:"TripOverview",components:{Map:n["default"],TripOverviewList:f},data(){return{drawerLeft:!1,miniState:!0,miniDisabled:!1,tab:"map"}},methods:{refreshMap(){console.log("refresh"),this.$refs.overviewMap&&this.$refs.overviewMap.loadMap(null,this.addedStops)}},props:{addedStops:Array,currentRoundtrip:Object,isEditMode:Boolean},computed:{isTablet(){return window.matchMedia("(max-width: 958px)").matches},drawerInvisible(){return window.matchMedia("(max-width: 550px)").matches}}},h=v,S=(i("a2ca"),Object(u["a"])(h,a,r,!1,null,null,null));e["default"]=S.exports},ceba:function(t,e,i){}}]);